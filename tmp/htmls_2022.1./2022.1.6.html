<h3 id="known-issues-in-202216f1">Known Issues in 2022.1.6f1</h3><ul><li><p>AI Navigation: NavMesh::Raycast freezes the whole editor in an infinite loop on Application.UpdateScene (<a href="https://issuetracker.unity3d.com/issues/navmesh-raycast-freezes-the-whole-editor-in-an-infinite-loop-on-application-dot-updatescene">UUM-2496</a>)</p></li><li><p>Asset - Database: The creating and import of a new script in Editor became really slow in trunk (<a href="https://issuetracker.unity3d.com/issues/the-creating-and-import-of-a-new-script-in-editor-became-really-slow-in-trunk">UUM-2620</a>)</p></li><li><p>HD RP: [HDRP] refraction proxy volumes projection breaks depending on camera orientation and position (<a href="https://issuetracker.unity3d.com/issues/hdrp-refraction-proxy-volumes-projection-breaks-depending-on-camera-orientation-and-position">UUM-3324</a>)</p></li><li><p>HD RP: [HDRP][DXR] Manually building RTAS prevent automatic building in the next scene (<a href="https://issuetracker.unity3d.com/issues/hdrp-dxr-manually-building-rtas-prevent-automatic-building-in-the-next-scene">UUM-5526</a>)</p></li><li><p>HD RP: [HDRP][DXR] RT Shadows ghosts on one view when we have two cameras at the same time (<a href="https://issuetracker.unity3d.com/issues/hdrp-dxr-rt-shadows-ghosts-on-one-view-when-we-have-two-cameras-at-the-same-time">UUM-2150</a>)</p></li><li><p>HD RP: [HDRP][PathTracer] Flashing at first frame blow up the automatic progressive exposure and create an overexposed converged frame when using recorder with accumulation (<a href="https://issuetracker.unity3d.com/issues/hdrp-pathtracer-flashing-at-first-frame-blow-up-the-automatic-progressive-exposure-and-create-an-overexposed-converged-frame-when-using-recorder-with-accumulation">UUM-2427</a>)</p></li><li><p>IMGUI: Impossible to change the Gradient's location value in the Visual Effects Graph when using the keyboard (<a href="https://issuetracker.unity3d.com/issues/impossible-to-change-the-gradients-location-value-in-the-visual-effects-graph-when-using-the-keyboard">1420954</a>)</p></li><li><p>Linux: [Backport] [Linux] Editor crashes at "GfxDeviceGLES::DrawBuffersBatchMode" when entering Play Mode in the LEGO tutorial (<a href="https://issuetracker.unity3d.com/issues/backport-linux-editor-crashes-at-gfxdevicegles-drawbuffersbatchmode-when-entering-play-mode-in-the-lego-tutorial">UUM-971</a>)</p></li><li><p>Metal: Consistent EditorLoop 5-10ms spikes when using Metal API (<a href="https://issuetracker.unity3d.com/issues/consistent-gfx-dot-waitforpresentongfxthread-5-10ms-spikes-when-using-metal-api">1378985</a>)</p></li><li><p>Package: Empty "StreamingAssets" folder gets created after building an empty project (<a href="https://issuetracker.unity3d.com/issues/empty-streamingassets-folder-gets-created-after-building-an-empty-project">1423325</a>)</p></li><li><p>Physics: Crash on internalABP::ABP_PairManager::addPair when switching to ArticulationJointType.SphericalJoint during runtime (<a href="https://issuetracker.unity3d.com/issues/crash-on-internalabp-abp-pairmanager-addpair-when-switching-to-articulationjointtype-dot-sphericaljoint-during-runtime">1418715</a>)</p></li><li><p>Scene/Game View: Game View is not displayed after setting language pack in Editor (<a href="https://issuetracker.unity3d.com/issues/gameview-is-not-displayed-after-setting-language-pack-in-unityeditor">1420291</a>)</p></li><li><p>Shadows/Lights: Individual baking of reflection probe is broken (<a href="https://issuetracker.unity3d.com/issues/individual-baking-of-reflection-probe-is-broken">UUM-1339</a>)</p></li><li><p>Text: [Mac] ShortcutManager ignores Shift modifier (<a href="https://issuetracker.unity3d.com/issues/mac-shortcutmanager-ignores-shift-modifier-1">UUM-4083</a>)</p></li><li><p>Texture: Crunched Asset Bundle sprites are too bright when loaded from file in Play mode (<a href="https://issuetracker.unity3d.com/issues/crunched-asset-bundle-sprites-are-too-bright-when-loaded-from-file-in-play-mode">UUM-3200</a>)</p></li></ul><h3 id="202216f1-release-notes">2022.1.6f1 Release Notes</h3><h4 id="improvements">Improvements</h4><ul><li>Burst: Added support for the <code>System.Runtime.CompilerServices.IsExternalInit</code> workaround documented [here](<a href="https://docs.unity3d.com/2022.1/Documentation/Manual/CSharpCompiler.html">https://docs.unity3d.com/2022.1/Documentation/Manual/CSharpCompiler.html</a>) into Burst when used in 2022.1+.</li></ul><h4 id="changes">Changes</h4><ul><li><p>Burst: Changed how we process static readonly fields in static constructors such that we'll allow more computational budget per static field. This fixes the case where having too many static readonly variables in a single static constructor could fail to compile, while they would work if each was in their own static constructors.</p></li><li><p>Burst: SDK Updates.</p></li></ul><h4 id="fixes">Fixes</h4><ul><li><p>Burst: Added workaround for "cannot dlopen until fork() handlers have completed" issue seen in macOS 12.3.</p></li><li><p>Burst: Fixed a bug that manifested when using IAP in UWP builds with Burst - we were scanning the assembly hierarchy too deep for Bursted types, which led to an <code>AssemblyResolutionException</code>.</p></li><li><p>Burst: Fixed a bug with <code>Span</code> and <code>ReadOnlySpan</code> types where if the indices used were not already 32-bit signed integers, an internal compiler error would occur if running with safety checks enabled.</p></li><li><p>Burst: Fixed a compiler crash if users used <code>__refvalue</code> or <code>__arglist</code> in Burst. Neither of these are supported, but now we will nicely tell you via a compiler error that they aren't supported.</p></li><li><p>Burst: Fixed a compiler error when trying to acquire the function pointer of a generic function from Bursted code.</p></li><li><p>Burst: Fixed a really convoluted bug that could manifest in Burst returning out of date cached libraries, which would manifest as random exceptions in Burst jobs/function-pointers (users deleting the BurstCache would workaround the bug).</p></li><li><p>Burst: Fixed a regression where out parameters of C# 9.0 function pointers weren't working in Burst.</p></li><li><p>Burst: Fixed bug in static constructor ordering in the presence of indirect dependencies between static constructors (i.e. static constructor -&gt; static method -&gt; static constructor) that could result in a runtime crash.</p></li><li><p>Burst: Fixed bug where disabling native debug mode, after having previously enabled it in the same editor session, didn't in fact disable native debug mode.</p></li><li><p>Burst: Fixed burst inspector sometimes stalling during loading for script reloads.</p></li><li><p>Burst: Fixed compiler crash when the only usage of a static field was in a formatted exception string.</p></li><li><p>Burst: Fixed compiler crash when trying to dynamically call <code>BurstCompiler.CompileFunctionPointer</code> in Burst-compiled code.</p></li><li><p>Burst: Fixed hashing bug that could occur when a function pointer type is used in a method parameter.</p></li><li><p>Burst: Fixed hashing error that could occur in the presence of multiple synthesized explicit interface implementations with the same name and signature.</p></li><li><p>Burst: Fixed internal compiler error when encountering a <code>calli</code> with closed generics.</p></li><li><p>Burst: Using a function only through a C# function pointer could cause a crash.</p></li><li><p>Editor: IndexOutOfRangeException is thrown when openning Object Picker. (<a href="https://issuetracker.unity3d.com/issues/backport-indexoutofrangeexception-is-thrown-when-triggering-showobjectpicker-in-a-custom-node-graph">UUM-2825</a>)</p></li><li><p>GI: The editor could crash in case of overlapping light probes when additively loaded scenes. This fix eliminates an attempt to deduplicate light probes with respect to positions. A warning is introduced as the lack of deduplication could cause flickering objects.</p></li><li><p>Graphics: Fixed consistent Gfx.WaitForPresentOnGfxThread editor spikes when using Metal. Also fixed issue which caused the Game View FPS to drop when the editor was moved to a different display. In addition, fixed bad performance when Game View was displayed in a different window at the same time as the Scene View. (UUM-4697)</p></li><li><p>Linux: Backport for bug 1134402.<br>Identical changes to trunk. (<a href="https://issuetracker.unity3d.com/issues/linux-keyboard-dead-keys-are-not-reported-in-new-input-system">1134402</a>)</p></li><li><p>Linux: Fixed crash caused by destroying MenuItem widgets and accessing their data in GTK handlers. (1372311)</p></li><li><p>Linux: Fixed PC does not going to sleep when the editor is open. (<a href="https://issuetracker.unity3d.com/issues/linux-pc-doesnt-sleep-when-the-editor-is-open">1418023</a>)</p></li><li><p>Linux: Fixed player window cannot be resized when the player is started in full screen mode. (<a href="https://issuetracker.unity3d.com/issues/linux-player-window-cant-be-resized-when-the-player-is-started-in-fullscreen-mode-and-then-changed-to-windowed">1372700</a>)</p></li><li><p>macOS: MacOS MoveMainWindowTo no longer fails to switch screens when monitors are scaled. (1415023)</p></li><li><p>Particles: Fixed for glitching particle effects that showed up when using graphics jobs. (UUM-2576)</p></li><li><p>Physics 2D: Ensure that the PlatformEffector2D continually calculates friction/bounce when something is in contact with it. (<a href="https://issuetracker.unity3d.com/issues/platform-effector-2d-components-disabled-use-side-friction-property-doesnt-work-when-a-gameobject-is-falling-off-the-corner">UUM-1684</a>)</p></li><li><p>Profiler: Fixed Memory Profiler capture reloading unloaded assets referenced by scripts. (<a href="https://issuetracker.unity3d.com/issues/backport-memory-profiler-throws-object-lock-exceptions-when-capturing-editor-memory">UUM-898</a>)</p></li><li><p>Serialization: Avoid crash during build related to assets that use SerializeReference and Garbage Collection. (<a href="https://issuetracker.unity3d.com/issues/crash-on-scripting-object-get-class-when-attempting-to-build-data">UUM-644</a>)</p></li><li><p>uGUI: Fixed an issue where a RectTransform that is part of a nested Canvas would get its values overridden when it would become disabled. (<a href="https://issuetracker.unity3d.com/issues/canvas-rect-transform-is-calculated-incorrectly-when-its-a-child-of-another-canvas">1374782</a>)</p></li><li><p>UI Toolkit: Fixed an issue where the UI Builder breaks the cursor property when saving by appending a comma between the additional parameters. (<a href="https://issuetracker.unity3d.com/issues/backport-ui-builder-breaks-cursors-parameters-in-the-uss-file-when-changing-uss-files-values-in-the-ui-builder-window">UUM-872</a>)</p></li><li><p>Universal Windows Platform: Fixed memory leak when creating new PlayerPrefs with key that is longer than 25 characters. (UUM-4166)</p></li><li><p>URP: URP 2D - Fix bug when upgrading parametric lights to freeform lights. (<a href="https://issuetracker.unity3d.com/issues/parametric-light-upgrade-doesnt-dirty-scene-so-upgrade-might-not-be-saved">UUM-1869</a>)</p></li><li><p>WebGL: Updated UnityWebRequest.url after request redirects. (<a href="https://issuetracker.unity3d.com/issues/unitywebrequest-dot-url-and-unitywebrequest-dot-uri-is-not-updated-when-request-is-redirected-in-webgl">1360290</a>)</p></li></ul><h4 id="package-changes-in-202216f1">Package changes in 2022.1.6f1</h4><h4 id="packages-updated">Packages updated</h4><ul><li>com.unity.burst: <a href="https://docs.unity3d.com/Packages/com.unity.burst@1.7//changelog/CHANGELOG.html">1.7.1</a> → <a href="https://docs.unity3d.com/Packages/com.unity.burst@1.7//changelog/CHANGELOG.html">1.7.2</a></li></ul>