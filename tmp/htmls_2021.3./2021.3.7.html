<h3 id="known-issues-in-202137f1">Known Issues in 2021.3.7f1</h3><ul><li><p>AI Navigation Core: NavMesh::Raycast freezes the whole editor in an infinite loop on Application.UpdateScene (<a href="https://issuetracker.unity3d.com/issues/navmesh-raycast-freezes-the-whole-editor-in-an-infinite-loop-on-application-dot-updatescene">UUM-2496</a>)</p></li><li><p>Inspector Framework: List element overlaps everything when using Serializable struct/class (<a href="https://issuetracker.unity3d.com/issues/list-element-overlaps-everything-when-using-serializable-struct-slash-class">UUM-7683</a>)</p></li><li><p>Linux: [Backport] [Linux] Editor crashes at "GfxDeviceGLES::DrawBuffersBatchMode" when entering Play Mode in the LEGO tutorial (<a href="https://issuetracker.unity3d.com/issues/backport-linux-editor-crashes-at-gfxdevicegles-drawbuffersbatchmode-when-entering-play-mode-in-the-lego-tutorial">UUM-971</a>)</p></li><li><p>MacOS: [Mac] Editor performance drops on macOS when clicking and dragging on Position, Rotation and Scale values in Transform component (<a href="https://issuetracker.unity3d.com/issues/mac-editor-performance-drops-on-macos-when-clicking-and-dragging-on-position-rotation-and-scale-values-in-transform-component">UUM-7457</a>)</p></li><li><p>Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project (<a href="https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project">1376858</a>)</p></li><li><p>Scene Management: Scene causes Editor crash when specific Lighting Data Asset is used (<a href="https://issuetracker.unity3d.com/issues/scene-causes-editor-crash-when-specific-lighting-data-asset-is-used">UUM-9319</a>)</p></li><li><p>Shader System: Editor crashes when building if calling "ShaderKeyword" methods in "IPreprocessShaders" classes (<a href="https://issuetracker.unity3d.com/issues/editor-crashes-when-building-if-calling-shaderkeyword-methods-in-ipreprocessshaders-classes">UUM-2536</a>)</p></li><li><p>uGUI: Broken mouse pointer input coordinates in GraphicRaycaster for certain window sizes in Build when run in windowed mode (<a href="https://issuetracker.unity3d.com/issues/broken-mouse-pointer-input-coordinates-in-graphicraycaster-for-certain-window-sizes-in-build-when-run-in-windowed-mode">UUM-7893</a>)</p></li><li><p>uGUI: UI becomes not interactable after deactivating and reactivating Canvas (<a href="https://issuetracker.unity3d.com/issues/ui-becomes-not-interactable-after-deactivating-and-reactivating-canvas">UUM-9258</a>)</p></li><li><p>uGUI: UI Elements are no longer rendered when deactivating and reactivating the Parent GameObject (<a href="https://issuetracker.unity3d.com/issues/ui-elements-are-no-longer-rendered-when-deactivating-and-reactivating-the-parent-gameobject">UUM-9248</a>)</p></li><li><p>Universal RP: Lights appear significantly brighter when using the Simple Lit shader (<a href="https://issuetracker.unity3d.com/issues/lights-appear-significantly-brighter-when-using-the-simple-lit-shader">UUM-7851</a>)</p></li></ul><h3 id="202137f1-release-notes">2021.3.7f1 Release Notes</h3><h4 id="features">Features</h4><ul><li><p>Editor: Added timestamps argument to include timestamps and thread ID prefix to logs.</p></li><li><p>Editor: Adds the ability to block shortcuts from triggering during playmode while the game view window is focused.</p></li><li><p>Player: Added timestamps argument to include timestamps and thread ID prefix to logs.</p></li></ul><h4 id="improvements">Improvements</h4><ul><li><p>Editor: Added a confirmation dialog when switching serialization modes</p></li><li><p>HDRP: Further improve the consistency of non-physical depth of field at varying native rendering resolutions and resolution scales.</p></li></ul><h4 id="changes">Changes</h4><ul><li><p>Android: Accept build-tools version 30.0.x instead of strictly 30.0.2</p></li><li><p>IAP: # Changelog<br>## [4.2.1] <ul><li>2022-06-14<br>### Fixed</li></ul></p><ul><li>Downgrade <code>com.unity.services.core</code> from 1.4.1 to 1.3.1 due to a new bug found in 1.4.1</li></ul></li><li><p>Package: Update auth package to 2.1.1</p></li><li><p>Package: Update core package to 1.4.1</p></li></ul><h4 id="fixes">Fixes</h4><ul><li><p>2D: Fixed case where Shape of PolygonCollider2D doesn't update when Sprite Shape contains vertex at [0,0]. (<a href="https://issuetracker.unity3d.com/issues/shape-of-polygoncollider2d-doesnt-update-when-sprite-shape-contains-vertex-at-00-and-its-profile-doesnt-have-any-sprites">1401376</a>)</p></li><li><p>2D: Fixed case where SpriteShape throws ArgumentException error when checking position validity of a point added to Spline. (<a href="https://issuetracker.unity3d.com/issues/spriteshape-throws-argumentexception-error-when-checking-position-validity-of-a-point-added-to-spline">1387298</a>)</p></li><li><p>2D: Fixed case where Tangent Data is always saved even when not in use for SpriteShapeRenderer when GeometryCache is active. (1394404)</p></li><li><p>2D: Fixed duplicate instantiated GameObjects from Tiles on Tilemap Prefabs when instantiating the Tilemap Prefabs. (<a href="https://issuetracker.unity3d.com/issues/instantiating-tilemap-that-has-rule-tile-with-default-gameobject-set-creates-extra-copy-of-gameobject-at-00-0-in-builds-1">UUM-1671</a>)</p></li><li><p>Android: Blind fix for an issue where executing Android SDK tool command would fail with missing java error. For ex., "Unable to locate a Java Runtime". Even though everything is set correctly in Preferences-&gt;External Tools-&gt;JDK. Also during the failure, Unity will now print environment variables thus helping identifying such issues in the future. (UUM-2106)</p></li><li><p>Android: Bring back the ability to initialize UnityPlayer with Context class, this allows Unity to initialize itself from WallpaperService. (<a href="https://issuetracker.unity3d.com/issues/android-crash-when-using-unityplayer-getapplicationcontext-this-on-exported-andoid-projects">1413649</a>)</p></li><li><p>Android: Fixed high memory usage when uploading 2D array textures using Vulkan on Adreno devices. (1418261)</p></li><li><p>Android: Fixed overhead of memory allocations in the Vulkan backend for allocation sizes between 128kB and 1024kB. (UUM-5966)</p></li><li><p>Android: Fixed regression where TouchScreenKeyboard.Open() was not opening. (<a href="https://issuetracker.unity3d.com/issues/tmp-android-keyboard-doesnt-show-up-when-touchscreenkeyboard-dot-open-function-is-called-on-an-android-device">UUM-2112</a>)</p></li><li><p>Android: Fixed Screen.safeArea returning wrong height when building Native app with Unity as a Library. (<a href="https://issuetracker.unity3d.com/issues/android-screen-dot-safearea-returns-wrong-height-when-building-native-app-with-unity-as-a-library">UUM-515</a>)</p></li><li><p>Asset Pipeline: Fixed an issue where generating previews of some prefabs could raise an 'unknown importer' error in the console. (<a href="https://issuetracker.unity3d.com/issues/backport-asset-importer-errors-on-the-initial-import-of-prefabs">UUM-2908</a>)</p></li><li><p>DX12: Fixed for crash when an upload subupdates buffer was assigned to a compute shader as a UAV. (UUM-5770)</p></li><li><p>Editor: Fixed crash when moving non-empty folder to a target containing another folder with the same name in the Project Browser. (UUM-5197)</p></li><li><p>Editor: Fixed occasional crash when loading TIFFs with bad thumbnail tags. (<a href="https://issuetracker.unity3d.com/issues/editor-crashes-on-freeimage-makethumbnail-after-importing-tif-file">UUM-3783</a>)</p></li><li><p>Editor: Replaced the scene asset icon with new Unity logo. (1385124)</p></li><li><p>Game Core: Fixed crash on pre-processor only compilation of compute shaders. (UUM-908)</p></li><li><p>GI: Fixed Light Probes losing their lighting data after entering Play mode when Baked and Realtime GI are enabled. (<a href="https://issuetracker.unity3d.com/issues/lightprobes-probes-lose-their-lighting-data-after-entering-play-mode-when-baked-and-realtime-gi-are-enabled">UUM-3968</a>)</p></li><li><p>GI: Fixed SetLightingDataAsset with multiscenes (caused the lightmaps to disappear for other scenes). (<a href="https://issuetracker.unity3d.com/issues/backport-assigning-a-lighting-data-asset-causes-the-lightmaps-to-be-unloaded-for-all-scenes-except-the-active-one">UUM-916</a>)</p></li><li><p>GI: [GPU PLM] OpenCL shader loading time in new projects has become significantly slower. Fixed regression by speeding up OpenCL shader loading stage by caching binaries in the GICache. (<a href="https://issuetracker.unity3d.com/issues/gpu-plm-opencl-shader-loading-time-in-the-new-projects-has-become-significantly-slower-1">UUM-1350</a>)</p></li><li><p>Graphics: Fixed some dropdown menus in the Mac Editor that would previously jitter or jerk out with artifacts when opened. (<a href="https://issuetracker.unity3d.com/issues/mac-profiler-profiling-mode-dropdown-view-jerks-out-when-interacting-with-any-dropdown-arrows-in-the-menu">UUM-5546</a>)</p></li><li><p>Graphics: SkinnedMeshRenderer and MeshRenderer are now in the same SRP Batch during shadow pass. (<a href="https://issuetracker.unity3d.com/issues/draw-calls-that-batch-in-opaque-pass-do-not-batch-in-shadow-pass-when-some-of-the-draw-calls-come-from-skinnedmeshrenderer-and-some-come-from-meshrenderer">UUM-4336</a>)</p></li><li><p>Graphics: Switching vsync mode while in a Metal player could sometimes cause a freeze due to the vsync status not syncing correctly before waiting on the frame present - this has been fixed. (<a href="https://issuetracker.unity3d.com/issues/mac-metal-player-freezes-when-vsync-is-turned-on-with-button-onclick-event">UUM-5547</a>)</p></li><li><p>HDRP: Add a blendable perceptual blending parameter on volumetric clouds to get rid of over exposure artifacts. (1407686)</p></li><li><p>HDRP: Adding mechanism in HDRP to strip FragInputs, which will allow us to strip some interpolators in the pixel shader For shader graphs. (<a href="https://issuetracker.unity3d.com/issues/hdrp-path-tracing-samples-are-not-captured-with-recorder-when-shutter-interval-is-set-to-0">1399841</a>)</p></li><li><p>HDRP: Facilitated reactivation of Ray Tracing Light Cluster in Path Tracing. (1404944)</p></li><li><p>HDRP: Fixed a performance issue with Single Shadow debug mode. (1400281)</p></li><li><p>HDRP: Fixed a render error when disabling both motion vectors and opaques. (1410622)</p></li><li><p>HDRP: Fixed a render graph error when opening a project with default lighting enabled and clouds in the scene. (<a href="https://issuetracker.unity3d.com/issues/render-graph-execution-errors-are-thrown-when-restarting-hdrp-project-with-deactivated-scene-lighting">UUM-3339</a>)</p></li><li><p>HDRP: Fixed a render graph error when using Output AOV in non-dev builds. (<a href="https://issuetracker.unity3d.com/issues/hdrp-output-aov-black-in-player">1421560</a>)</p></li><li><p>HDRP: Fixed accumulation when shutter interval is zero. (<a href="https://issuetracker.unity3d.com/issues/hdrp-path-tracing-samples-are-not-captured-with-recorder-when-shutter-interval-is-set-to-0">1399841</a>)</p></li><li><p>HDRP: Fixed an issue with decals not scaling with a parent transform. (1401887)</p></li><li><p>HDRP: Fixed artifacts on the edges of the screen when enabling volumetric clouds. (1400011)</p></li><li><p>HDRP: Fixed blend mode label field. (<a href="https://issuetracker.unity3d.com/issues/hdrp-unable-to-find-style-warnings-are-thrown-in-the-console-log-when-selecting-two-or-more-specific-materials">1410907</a>)</p></li><li><p>HDRP: Fixed Cloud Layer rendering on nvidia gpus. (<a href="https://issuetracker.unity3d.com/issues/hdrp-cloud-layer-renders-a-black-screen-on-nvidia-gpu-10xx-series">1401162</a>)</p></li><li><p>HDRP: Fixed custom post-processes not released correctly when switching HDRP assets. (<a href="https://issuetracker.unity3d.com/issues/errors-are-thrown-when-changing-quality-level-on-hdrp">1419924</a>)</p></li><li><p>HDRP: Fixed errors in HDR comparison doc. (1410049)</p></li><li><p>HDRP: Fixed errors when switching to SMAA. (<a href="https://issuetracker.unity3d.com/issues/hdrp-switching-to-smaa-throws-errors">1401225</a>)</p></li><li><p>HDRP: Fixed for Texture2D and Texture3D parameters not accepting 'None' as value. (1406928)</p></li><li><p>HDRP: Fixed game view goes greenish and then black in editor with DX12/Vulkan (1415948)</p></li><li><p>HDRP: Fixed the documentation for recursive rendering not being clear enough for the smoothness' behavior. (1409004)</p></li><li><p>HDRP: Fixed the SSR not properly working on deferred with tiles with multiple variants. (<a href="https://issuetracker.unity3d.com/issues/edgy-artifact-on-the-reflection-when-the-coat-masks-value-is-greater-than-0">1399311</a>)</p></li><li><p>HDRP: Fixed Volumetric Clouds texture input fields. (1408252)</p></li><li><p>HDRP: Fixrd a NaN resulting from path traced hair materials with certain base color inputs. (1411249)</p></li><li><p>HDRP: Improved the default state of newly created Planar Reflection Probes. (1420128)</p></li><li><p>HDRP: Made sure that camera jittering is disabled in Path Tracing. (1399440)</p></li><li><p>HDRP: updated accumulation API scripts to solve issue with screen shot capture in certain Unity Editor workflows. (1415399)</p></li><li><p>IL2CPP: Avoid incorrect behavior of the Array::Set method when the faster (smaller) builds IL2CPP code generation option is used. (<a href="https://issuetracker.unity3d.com/issues/il2cpp-2d-vector3-array-converted-to-2d-vector4-array-has-zeroed-vectors-in-player-whose-code-generation-is-for-faster-runtime">1411185</a>)</p></li><li><p>IL2CPP: Avoided a stack overflow during code conversion when an attribute constructor uses the attribute itself. (<a href="https://issuetracker.unity3d.com/issues/il2cpp-project-with-nhibernate-library-fails-to-build-when-using-il2cpp-scripting-backend">UUM-3907</a>)</p></li><li><p>IL2CPP: Copy .h source plugin files into the Gradle project generated for Android builds. (<a href="https://issuetracker.unity3d.com/issues/header-files-are-not-included-in-exported-projects-when-using-il2cpp-scripting-backend">UUM-3641</a>)</p></li><li><p>IL2CPP: Fixed "Cannot add a generic parameter reference without an instance" error when converting a method with a generic function pointer. (<a href="https://issuetracker.unity3d.com/issues/il2cpp-exception-when-using-function-pointer-with-generic-parameter-from-type-and-method">1427170</a>)</p></li><li><p>IL2CPP: Fixed issue where a try block inside of a loop nested in a try/finally block could cause the finally handler to run multiple times. (<a href="https://issuetracker.unity3d.com/issues/objectdisposedexception-is-caught-when-an-unused-variable-is-declared-in-the-using-statement">1402180</a>)</p></li><li><p>IL2CPP: Fixed issue where assemblies with an instance method and a static method with the same name, parameters, and return type would cause the build to fail. (<a href="https://issuetracker.unity3d.com/issues/build-fails-with-error-unity-dot-il2cpp-dot-hashcodecollisionexception-when-opc-dot-uafx-dot-client-dot-dll-is-included-in-the-project">1411168</a>)</p></li><li><p>IL2CPP: Fixed issue where Assembly.GetType() on a type without a namespace could match a nested type with the same name and issue where Assembly.GetType() did not respect the ignoreCase flag for nested types. (<a href="https://issuetracker.unity3d.com/issues/il2cpp-assembly-dot-gettype-returns-a-nested-class-when-the-nested-class-is-defined-before-the-non-nested-one">1422119</a>)</p></li><li><p>IL2CPP: Fixed performance issues in metadata access with thread contention. (UUM-609)</p></li><li><p>IL2CPP: Fixed performance regression in regular expressions. (<a href="https://issuetracker.unity3d.com/issues/il2cpp-regex-perfomance-regression-when-using-il2cpp-scripting-backend">UUM-590</a>)</p></li><li><p>IL2CPP: Fixed possible runtime crash when a generic type is used as a base class generic parameter. (<a href="https://issuetracker.unity3d.com/issues/inflatefielddefinition-crash-in-builds-when-a-specific-script-is-included-and-il2cpp-code-generation-is-set-to-faster-runtime">UUM-1129</a>)</p></li><li><p>IL2CPP: Throw a managed exception when CreateDelegate is called with a delegate type that was not generated ahead of time. (<a href="https://issuetracker.unity3d.com/issues/crashes-with-interfaceactioninvoker2-int-il2cppobject-star-when-launching-il2cpp-build-with-input-system">UUM-817</a>)</p></li><li><p>Mono: Correct issue where FileSystemEventArgs.FullPath did not return a fully qualified path. (<a href="https://issuetracker.unity3d.com/issues/backport-failed-to-load-a-custom-asset-when-using-naninovel-package">UUM-1822</a>)</p></li><li><p>Mono: Fixed "The BinaryReader read data to a Span is always zero." (<a href="https://issuetracker.unity3d.com/issues/backport-the-binaryreader-read-data-to-a-span-is-always-zero">UUM-866</a>)</p></li><li><p>Mono: Fixed issue where FileSystemEventArgs.FullPath would have an incorrect path if FileWatcher event was on a file in a subdirectory. (<a href="https://issuetracker.unity3d.com/issues/filesystemwatcher-returns-bad-file-path">1397564</a>)</p></li><li><p>Mono: Fixed System.Windows.Forms.SendKeys.Send on Windows.</p></li><li><p>Package Manager: Fixed an issue where some <code>PackageInfo</code> properties would not be populated correctly if the package came from a GitHub registry. (<a href="https://issuetracker.unity3d.com/issues/displayname-in-package-dot-json-is-ignored-if-the-package-is-from-github">1354652</a>)</p></li><li><p>Particles: When using the Built-in Rendering Pipeline, prevent the Standard Unlit Particle shader from performing unnecessary lighting calculations on the CPU. (<a href="https://issuetracker.unity3d.com/issues/backport-duplicate-unlit-particle-system-draw-calls-cant-be-batched-when-there-are-multiple-lights-in-the-scene">UUM-827</a>)</p></li><li><p>Scripting: Fixed case when double-clicking message wouldn't open the correct file and line. (<a href="https://issuetracker.unity3d.com/issues/backport-script-not-opening-when-double-clicking-error">UUM-897</a>)</p></li><li><p>UI Toolkit: Fixed a bug where ListView and TreeView using SelectionType.None would still be selectable with double click and navigation keys. (UUM-5438)</p></li><li><p>UI Toolkit: Fixed an issue where the expanded state of the ListView would not be serialized across selections. (UUM-1461)</p></li><li><p>UI Toolkit: Fixed disabled UIDocument still being rendered on editor start. (UUM-793)</p></li><li><p>UI Toolkit: Fixed VisualElements change scaling when mouse moves over a different window on a higher DPI display. (<a href="https://issuetracker.unity3d.com/issues/visualelements-change-scaling-when-mouse-moves-over-ui-builder-window-on-a-higher-dpi-display-1">UUM-7260</a>)</p></li><li><p>URP: URP 2D - Fixes vertex color for sprite shapes. (<a href="https://issuetracker.unity3d.com/issues/2d-sprite-shape-urp-spriteshape-alpha-value-of-color-not-working-when-using-urp-and-sprite-lit-default-mat">UUM-1921</a>)</p></li><li><p>Version Control: Fixed missing references in synced prefabs.</p></li><li><p>VFX Graph: Position ArcSphere failing with BlendDirection. (<a href="https://issuetracker.unity3d.com/issues/vfx-graph-blend-direction-arcsphere-bug">UUM-1295</a>)</p></li><li><p>VFX Graph: Unexcepted double blend direction slot on Position Mesh block. (UUM-5082)</p></li><li><p>VFX Graph: Unexpected lossy scale evaluation on GPU. (UUM-539)</p></li><li><p>XR: Fixed Screen Space Shadows in Single Pass Instancing.</p></li></ul><h4 id="package-changes-in-202137f1">Package changes in 2021.3.7f1</h4><h4 id="packages-updated">Packages updated</h4><ul><li><p>com.unity.2d.spriteshape: <a href="https://docs.unity3d.com/Packages/com.unity.2d.spriteshape@7.0//changelog/CHANGELOG.html">7.0.4</a> → <a href="https://docs.unity3d.com/Packages/com.unity.2d.spriteshape@7.0//changelog/CHANGELOG.html">7.0.5</a></p></li><li><p>com.unity.collab-proxy: <a href="https://docs.unity3d.com/Packages/com.unity.collab-proxy@1.15//changelog/CHANGELOG.html">1.15.18</a> → <a href="https://docs.unity3d.com/Packages/com.unity.collab-proxy@1.17//changelog/CHANGELOG.html">1.17.1</a></p></li><li><p>com.unity.purchasing: <a href="https://docs.unity3d.com/Packages/com.unity.purchasing@4.1//changelog/CHANGELOG.html">4.1.5</a> → <a href="https://docs.unity3d.com/Packages/com.unity.purchasing@4.2//changelog/CHANGELOG.html">4.2.1</a></p></li><li><p>com.unity.services.authentication: <a href="https://docs.unity3d.com/Packages/com.unity.services.authentication@2.0//changelog/CHANGELOG.html">2.0.0</a> → <a href="https://docs.unity3d.com/Packages/com.unity.services.authentication@2.1//changelog/CHANGELOG.html">2.1.1</a></p></li><li><p>com.unity.services.cloudcode: <a href="https://docs.unity3d.com/Packages/com.unity.services.cloudcode@2.0//changelog/CHANGELOG.html">2.0.0</a> → <a href="https://docs.unity3d.com/Packages/com.unity.services.cloudcode@2.0//changelog/CHANGELOG.html">2.0.1</a></p></li><li><p>com.unity.services.cloudsave: <a href="https://docs.unity3d.com/Packages/com.unity.services.cloudsave@2.0//changelog/CHANGELOG.html">2.0.0</a> → <a href="https://docs.unity3d.com/Packages/com.unity.services.cloudsave@2.0//changelog/CHANGELOG.html">2.0.1</a></p></li><li><p>com.unity.services.core: <a href="https://docs.unity3d.com/Packages/com.unity.services.core@1.4//changelog/CHANGELOG.html">1.4.0</a> → <a href="https://docs.unity3d.com/Packages/com.unity.services.core@1.4//changelog/CHANGELOG.html">1.4.2</a></p></li><li><p>com.unity.learn.iet-framework: <a href="https://docs.unity3d.com/Packages/com.unity.learn.iet-framework@2.2//changelog/CHANGELOG.html">2.2.1</a> → <a href="https://docs.unity3d.com/Packages/com.unity.learn.iet-framework@2.2//changelog/CHANGELOG.html">2.2.2</a></p></li><li><p>com.unity.learn.iet-framework.authoring: <a href="https://docs.unity3d.com/Packages/com.unity.learn.iet-framework.authoring@1.0//changelog/CHANGELOG.html">1.0.2</a> → <a href="https://docs.unity3d.com/Packages/com.unity.learn.iet-framework.authoring@1.0//changelog/CHANGELOG.html">1.0.3</a></p></li><li><p>com.unity.transport: <a href="https://docs.unity3d.com/Packages/com.unity.transport@1.0//changelog/CHANGELOG.html">1.0.0</a> → <a href="https://docs.unity3d.com/Packages/com.unity.transport@1.1//changelog/CHANGELOG.html">1.1.0</a></p></li></ul><p><strong>Packages added</strong></p><ul><li><p><a href="https://docs.unity3d.com/Packages/com.unity.netcode.gameobjects@1.0//changelog/CHANGELOG.html">com.unity.netcode.gameobjects@1.0.0</a></p></li><li><p><a href="https://docs.unity3d.com/Packages/com.unity.multiplayer.tools@1.0//changelog/CHANGELOG.html">com.unity.multiplayer.tools@1.0.0</a></p></li></ul>