<h3 id="known-issues-in-2021322f1">Known Issues in 2021.3.22f1</h3><ul><li><p>Asset - Database: Script recompiles in Play Mode when Script Changes While Playing option is set to Recompile After Finished Playing and Auto refresh is set to enabled.
  (<a href="https://issuetracker.unity3d.com/issues/script-recompiles-in-play-mode-when-script-changes-while-playing-option-is-set-to-recompile-after-finished-playing-and-auto-refresh-is-set-to-enabled">UUM-20409</a>)</p></li><li><p>iOS:  Rendering freezes when the orientation is changed
  (<a href="https://issuetracker.unity3d.com/issues/ios-rendering-freezes-when-the-orientation-is-changed">UUM-9480</a>)</p></li><li><p>Linux:  Crash on GUIView::IsVSyncEnabled when saving a preset
  (<a href="https://issuetracker.unity3d.com/issues/linux-crash-on-guiview-isvsyncenabled-when-saving-a-preset">UUM-29750</a>)</p></li><li><p>MacOS: [2D Platformer Microgame] 2D Platformer Microgame Project crash on <strong>cxxabiv1::</strong>aligned_malloc_with_fallback when pinching out or in on the trackpad during “Zoom in and out” step 
  (<a href="https://issuetracker.unity3d.com/issues/m1-2d-platformer-microgame-2d-platformer-microgame-project-crash-on-cxxabiv1-aligned-malloc-with-fallback-when-pinching-out-or-in-on-the-trackpad-during-zoom-in-and-out-step">UUM-20720</a>)</p></li><li><p>MacOS: [M1] Crash on System.Object:__icall_wrapper_ves_icall_array_new_specific when launching a project
  (<a href="https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project">UUM-3207</a>)</p></li><li><p>Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project
  (<a href="https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project">1376858</a>)</p></li><li><p>RP Foundation: "Resources.FindObjectsOfTypeAll(typeof(Material)).Length" increases every time when entering/exiting Play Mode
  (<a href="https://issuetracker.unity3d.com/issues/resources-dot-findobjectsoftypeall-typeof-material-dot-length-increases-every-time-when-entering-slash-exiting-play-mode">UUM-27587</a>)</p></li><li><p>Scene Management: Crash on Transform::CheckStructure when manually opening a scene
  (<a href="https://issuetracker.unity3d.com/issues/crash-on-transform-checkstructure-when-manually-opening-a-scene">UUM-31129</a>)</p></li></ul><h3 id="2021322f1-release-notes">2021.3.22f1 Release Notes</h3><h4 id="fixes">Fixes</h4><ul><li><p>2D: - Fixed an issue where in large Sprite Libraries the inspector would fail to load Sprite previews.
  (<a href="https://issuetracker.unity3d.com/issues/sprites-start-to-flicker-in-the-inspector-of-the-sprite-library-asset-when-expanding-the-inspector">DANB-367</a>)</p></li><li><p>2D: - [com.unity.2d.animation] Fixed an issue where "System.ArgumentException" thrown when opening sprite Prefab with Script.
  (<a href="https://issuetracker.unity3d.com/issues/system-dot-argumentexception-thrown-when-opening-sprite-prefab-with-script">DANB-335</a>)</p></li><li><p>2D: - [com.unity.2d.animation] Fixed an issue where IKEditorManager updates even when there are no active IK Manager 2Ds in the Scene.
  (<a href="https://issuetracker.unity3d.com/issues/ikeditormanager-dot-initialize-is-called-when-the-editorapplication-dot-hierarchychanged-event-is-invoked">DANB-344</a>)</p></li><li><p>2D: - [com.unity.2d.animation] Fixed an issue where IKGizmos will throw an exception in the editor when IKSolver has an unassigned Solver in its list.
  (DANB-370)</p></li><li><p>2D: - [com.unity.2d.animation] Fixed an issue where undo the addition of a Sprite Skin component would crash the editor.
  (<a href="https://issuetracker.unity3d.com/issues/crash-on-transform-gettransformaccess-when-undoing-the-action-of-adding-sprite-skin-to-an-object">DANB-201</a>)</p></li><li><p>2D: - [com.unity.2d.animation] Fixed an issue where undoing vertex painting results in a displaced mesh.
  (<a href="https://issuetracker.unity3d.com/issues/2d-using-undo-in-the-skinning-editor-after-moving-bones-and-geometry-with-the-weight-brush-disfigures-the-sprite">DANB-309</a>)</p></li><li><p>2D: - [com.unity.2d.animation] Fixed SpriteResolver does not animation with animation clip when upgrading from 2020.3.
  (DANB-374)</p></li><li><p>2D: - [com.unity.2d.spriteshape]  Fix case where Error "A Native Collection has not been disposed, resulting in a memory leak" occurs in Play Mode.
  (<a href="https://issuetracker.unity3d.com/issues/error-a-native-collection-has-not-been-disposed-resulting-in-a-memory-leak-occurs-in-play-mode-when-a-gameobject-has-the-sprite-shape-controller-component-and-is-a-child-of-an-inactive-parent">DANB-296</a>)</p></li><li><p>2D: - [com.unity.2d.spriteshape] Fix case where BezierUtility.BezierPoint function parameters are not in the right order.
  (<a href="https://issuetracker.unity3d.com/issues/bezierutility-dot-bezierpoint-function-parameters-are-not-in-the-right-order">DANB-239</a>)</p></li><li><p>2D: - [com.unity.2d.tilemap.extras][GameObjectBrush] Align rotation and flip to 2D View in Editor.</p></li><li><p>2D: - [com.unity.2d.tilemap.extras][GameObjectBrush] Fix placement of GameObjects for Hexagon Layouts with Anchor.</p></li><li><p>2D: - [com.unity.2d.tilemap.extras][RandomBrush] Use default color and transform when painting over with RandomBrush.</p></li><li><p>2D: Fixed a crash when a user loads a Tilemap with a TilemapCollider2D and CompositeCollider2D with an invalid Sprite.
  (<a href="https://issuetracker.unity3d.com/issues/crash-on-tilemapcollider2d-generatepathsfromsprite-when-opening-specific-project">UUM-29132</a>)</p></li><li><p>Apple TV: Fixed a crash when closing the hardware keyboard.
  (<a href="https://issuetracker.unity3d.com/issues/tvos-crash-when-closing-the-on-screen-keyboard-with-tvos-version-15-dot-0">UUM-26712</a>)</p></li><li><p>Asset Pipeline: Fixed a case of Missing Script errors that could occur after leaving safe mode.</p></li><li><p>Asset Pipeline: Removed use of auto keyword in LMDB library.
  (UUM-29394)</p></li><li><p>DX12: Fixed a crash due to copying sampler descriptors.
  (UUM-29343)</p></li><li><p>Editor: Detect asset corruption before uploading to accelerator.
  (<a href="https://issuetracker.unity3d.com/issues/asset-corruption-when-using-the-accelerator-cache-server">UUM-26502</a>)</p></li><li><p>Editor: Disabled depth resolve if the camera doesn't have a depth buffer.
  (UUM-22019)</p></li><li><p>Editor: Enabled Gradle file search to use RegEx when looking for Play library dependencies, which identifies dependencies included with both double or single quotes.
  (UUM-29110)</p></li><li><p>Editor: Enabled shader global values to be taken into account when deciding what to rebake.
  (UUM-27392)</p></li><li><p>Editor: Fixed "Target minimum iOS Version" requirement.
  (<a href="https://issuetracker.unity3d.com/issues/wrong-target-minimum-ios-version-is-set-in-a-newly-created-project-if-the-required-version-is-12">UUM-29044</a>)</p></li><li><p>Editor: Fixed a rare Editor crash when using accelerator for shader cache.
  (<a href="https://issuetracker.unity3d.com/issues/crash-during-project-build-when-accessing-remote-shader-cache">UUM-27645</a>)</p></li><li><p>Editor: Fixed an OS key binding exception in ShortcutManager.
  (<a href="https://issuetracker.unity3d.com/issues/windows-keys-show-up-with-incorrect-keycodes-and-throw-errors-when-attempting-to-reassign-shortcuts-to-them">UUM-4125</a>)</p></li><li><p>Editor: Fixed freeform light tessellation for Light2D.
  (<a href="https://issuetracker.unity3d.com/issues/freeform-light2d-lighting-is-incorrect-when-moving-around-nodes">UUM-9674</a>)</p></li><li><p>Editor: Fixed handling msaa resolve in Frame Debugger when connected to Meta Quest over display link.
  (<a href="https://issuetracker.unity3d.com/issues/xr-quest-2-using-the-frame-debugger-camera-dot-render-commands-are-displayed-in-red-and-black-when-msaa-is-activated">UUM-1552</a>)</p></li><li><p>Editor: Fixed issue when importing FBX files where memory usage grows exponentially with the amount of clips present in the file.
  (<a href="https://issuetracker.unity3d.com/issues/unity-editor-not-responding-and-uses-up-all-the-memory-while-opening-project">UUM-22047</a>)</p></li><li><p>Editor: Fixed ReorderableList element culling when drawing with GUI rotation or scaling applied.
  (<a href="https://issuetracker.unity3d.com/issues/ui-doesnt-render-list-contents-when-using-guiutility-dot-scalearoundpivot">UUM-10761</a>)</p></li><li><p>Editor: Fixed the editor crash while switching avatar from generic to humanoid.
  (<a href="https://issuetracker.unity3d.com/issues/linux-crash-on-guiview-sendlayoutevent-guistate-and-when-changing-animation-type-to-humanoid">UUM-22716</a>)</p></li><li><p>Editor: GameObjects from 31st layer are rendered when Camera.cullingMask is set to 'Everything'.
  (<a href="https://issuetracker.unity3d.com/issues/gameobjects-from-31st-layer-are-not-rendered-when-camera-dot-cullingmask-is-set-to-everything">UUM-2698</a>)</p></li><li><p>Editor: Only change file status flags with chflags on OSX if the requested flags differ from actual.
  (UUM-26616)</p></li><li><p>Editor: The color picker can now select the proper color on a secondary monitor on macOS
  (<a href="https://issuetracker.unity3d.com/issues/cant-select-color-from-editor-with-color-picker-when-unity-editor-is-on-secondary-monitor">UUM-2501</a>)</p></li><li><p>GI: Fixed corrupted probes on scenes without a lighting data asset when running the editor with -nographics.
  (<a href="https://issuetracker.unity3d.com/issues/linear-color-space-always-renders-fullbright-when-target-platform-is-uwp">UUM-16874</a>)</p></li><li><p>Graphics: Fixed failing editor mode test on M1 trying to create a PVRTC texture smaller than the minimum required size.
  (UUM-3791)</p></li><li><p>Graphics: Product name will now be used as application name when creating Vulkan instance.
  (<a href="https://issuetracker.unity3d.com/issues/there-is-no-option-to-change-the-string-being-passed-when-unity-passes-the-string-to-the-vkcreateinstance-function">UUM-25486</a>)</p></li><li><p>Graphics: VSync doesn't turn off when changing the quality in the Player from "High Fidelity" to "Performant".
  (<a href="https://issuetracker.unity3d.com/issues/vsync-doesnt-turn-off-when-changing-the-quality-in-the-player-from-high-fidelity-to-performant">UUM-17522</a>)</p></li><li><p>Linux: Fixed the Mouse position so it is now correct when playing the build on a multiple monitor setup in full screen mode.
  (<a href="https://issuetracker.unity3d.com/issues/linux-mouse-position-is-incorrect-when-playing-build-on-a-multiple-monitor-setup-in-full-screen-mode">UUM-26497</a>)</p></li><li><p>Networking: Fixed an issue that could prevent UDP sockets from being created on Windows when TDI filters were installed.</p></li><li><p>Scene/Game View: Fixed selected child GameObjects not rendering gizmos when the root GameObject is not also selected.
  (<a href="https://issuetracker.unity3d.com/issues/collider-gizmos-are-not-visible-when-a-child-gameobject-is-selected-and-parent-gameobject-is-outside-the-view">UUM-22208</a>)</p></li><li><p>Shaders: Fix material keywords cleared when setting the exact same list of keywords
  (<a href="https://issuetracker.unity3d.com/issues/setting-the-material-dot-shaderkeywords-field-causes-the-field-to-become-empty-when-the-new-shader-keywords-are-the-same-as-the-existing-ones">UUM-27639</a>)</p></li><li><p>TLS: Cumulative TLS update.<br>  Fixed invalid verification results reported in some cases when there is a TLS handshake failure.<br>  Fixed an issue where opening multiple TLS connections with different lifetimes might affect the ability to produce log output after one of the first connections is closed.<br>  Improved TLS errors reported by Unity Web Request.</p></li><li><p>uGUI: "NullReferenceException" error is thrown when entering the Play Mode with &gt;=2 open Inspectors and Canvas GameObject is selected.
  (<a href="https://issuetracker.unity3d.com/issues/nullreferenceexception-error-is-thrown-when-entering-the-play-mode-with-equals-2-open-inspectors-and-canvas-gameobject-is-selected">UUM-1510</a>)</p></li><li><p>uGUI: Instantiating a Selectable under a CanvasGroup sets the correct interactable state.
  (<a href="https://issuetracker.unity3d.com/issues/the-button-is-interactable-when-instantiated-into-a-non-interactable-canvas-group">UUM-27611</a>)</p></li><li><p>UI Elements: Added "-unity-slice-scale" USS property to UI Builder and updated drag step for some style fields<br>  Also updated dragger manipulators for the following UI Builder property inspectors (default drag step updated from 1.0px (old value) to 0.1px (new value):<br></p><ul><li>TextShadow's Blur Radius, Offset X and Y fields<br></li><li>Slice Scale field.
(<a href="https://issuetracker.unity3d.com/issues/ui-builder-the-border-of-visualelement-is-not-created-when-slicing-a-pixel-art-sprite">UUM-15680</a>)</li></ul></li><li><p>UI Toolkit: Users can set the ScrollView's mouse wheel scroll size (thus its speed) with the Mouse Wheel Scroll Size attribute, regardless of its vertical and horizontal page sizes.
  (<a href="https://issuetracker.unity3d.com/issues/slow-scroll-view-scrolling-when-entering-play-mode-and-in-builds">UUM-18554</a>)</p></li><li><p>Universal RP: Fixed soft shadow filtering quality when using large empty shadow atlas. Use allocated atlas size instead of requested size.
  (<a href="https://issuetracker.unity3d.com/issues/urp-shadows-are-jagged-when-shadow-atlas-resolution-is-set-to-4096">UUM-10520</a>)</p></li><li><p>URP: Fixed incorrect Depth for Camera Stacks.
  (<a href="https://issuetracker.unity3d.com/issues/ios-ui-camera-stacking-is-not-working-on-some-ios-devices">UUM-24943</a>)</p></li><li><p>VFX Graph: Added support for multiple subgraphs drag&amp;drop.
  (<a href="https://issuetracker.unity3d.com/issues/multiple-subgraphs-cannot-be-dragged-to-the-system">UUM-15236</a>)</p></li><li><p>VFX Graph: Fixed a crash when drag &amp; dropping a vfx on another vfx with a circular dependency.
  (<a href="https://issuetracker.unity3d.com/issues/vfx-crash-on-serializablemanagedref-getscripttype-when-drag-and-dropping-subgraph-to-the-system">UUM-14670</a>)</p></li><li><p>VFX Graph: Fixed the <code>Dispose()</code> method of <code>MeshToSDFBaker</code> leading to memory leaks
  (<a href="https://issuetracker.unity3d.com/issues/sdf-baking-causes-memory-to-be-allocated-that-isnt-deallocated-when-in-play-mode-and-in-builds">UUM-25814</a>)</p></li><li><p>VFX Graph: GPU Event weren't always safe.
  (UUM-25065)</p></li><li><p>WebGL: Fixed FMOD console errors when a scene is reloaded.
  (UUM-19241)</p></li><li><p>WebGL: Fixed playback of mp3 audio files loaded via UnityWebRequest on Safari
  (<a href="https://issuetracker.unity3d.com/issues/webgl-audio-source-has-no-sound-if-the-audio-clip-was-downloaded-via-webrequest-on-ios-devices">UUM-25389</a>)</p></li><li><p>Windows: Fixed IME text input not being reported appropriately when users clicks away while using an IME, with the input system. The characters would be reported multiple times.
  (UUM-24734)</p></li></ul><h4 id="package-changes-in-2021322f1">Package changes in 2021.3.22f1</h4><h4 id="packages-updated">Packages updated</h4><ul><li><p>com.unity.2d.animation: <a href="https://docs.unity3d.com/Packages/com.unity.2d.animation@7.0//changelog/CHANGELOG.html">7.0.9</a> &amp;#x2192; <a href="https://docs.unity3d.com/Packages/com.unity.2d.animation@7.0//changelog/CHANGELOG.html">7.0.10</a></p></li><li><p>com.unity.2d.spriteshape: <a href="https://docs.unity3d.com/Packages/com.unity.2d.spriteshape@7.0//changelog/CHANGELOG.html">7.0.6</a> &amp;#x2192; <a href="https://docs.unity3d.com/Packages/com.unity.2d.spriteshape@7.0//changelog/CHANGELOG.html">7.0.7</a></p></li><li><p>com.unity.2d.tilemap.extras: <a href="https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@2.2//changelog/CHANGELOG.html">2.2.4</a> &amp;#x2192; <a href="https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@2.2//changelog/CHANGELOG.html">2.2.5</a></p></li><li><p>com.unity.nuget.newtonsoft-json: <a href="https://docs.unity3d.com/Packages/com.unity.nuget.newtonsoft-json@3.0//changelog/CHANGELOG.html">3.0.2</a> &amp;#x2192; <a href="https://docs.unity3d.com/Packages/com.unity.nuget.newtonsoft-json@3.1//changelog/CHANGELOG.html">3.1.0</a></p></li><li><p>com.unity.purchasing: <a href="https://docs.unity3d.com/Packages/com.unity.purchasing@4.6//changelog/CHANGELOG.html">4.6.0</a> &amp;#x2192; <a href="https://docs.unity3d.com/Packages/com.unity.purchasing@4.7//changelog/CHANGELOG.html">4.7.0</a></p></li><li><p>com.unity.services.analytics: <a href="https://docs.unity3d.com/Packages/com.unity.services.analytics@4.3//changelog/CHANGELOG.html">4.3.0</a> &amp;#x2192; <a href="https://docs.unity3d.com/Packages/com.unity.services.analytics@4.4//changelog/CHANGELOG.html">4.4.0</a></p></li><li><p>com.unity.xr.openxr: <a href="https://docs.unity3d.com/Packages/com.unity.xr.openxr@1.6//changelog/CHANGELOG.html">1.6.0</a> &amp;#x2192; <a href="https://docs.unity3d.com/Packages/com.unity.xr.openxr@1.7//changelog/CHANGELOG.html">1.7.0</a></p></li><li><p>com.unity.transport: <a href="https://docs.unity3d.com/Packages/com.unity.transport@1.3//changelog/CHANGELOG.html">1.3.1</a> &amp;#x2192; <a href="https://docs.unity3d.com/Packages/com.unity.transport@1.3//changelog/CHANGELOG.html">1.3.3</a></p></li></ul>