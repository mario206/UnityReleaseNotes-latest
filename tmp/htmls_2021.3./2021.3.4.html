<h3 id="known-issues-in-202134f1">Known Issues in 2021.3.4f1</h3><ul><li><p>Android: Editor is unable to find JAVA when building an application (<a href="https://issuetracker.unity3d.com/issues/editor-is-unable-to-find-java-when-building-an-application">UUM-2106</a>)</p></li><li><p>Asset - Database: Texture size increased on first build when 'Compress Textures/Assets on Import' is enabled (<a href="https://issuetracker.unity3d.com/issues/texture-size-increased-on-first-build-when-compress-textures-slash-assets-on-import-is-enabled">1397965</a>)</p></li><li><p>Asset Bundles: Textures are not compressed when building bundles (<a href="https://issuetracker.unity3d.com/issues/textures-not-compressed-when-building-bundles">1412557</a>)</p></li><li><p>Graphics Device Features: Random-write to UAV texture from shadowcaster shader causes GPU hang when filtering Scene Hierarchy objects (<a href="https://issuetracker.unity3d.com/issues/random-write-to-uav-texture-from-shadowcaster-shader-causes-gpu-hang-when-filtering-scene-hierarchy-objects">1417589</a>)</p></li><li><p>HD RP: [HDRP][DXR] Temporal denoising is broken up to 2021.3 in punctuals raytraced shadows (<a href="https://issuetracker.unity3d.com/issues/hdrp-dxr-temporal-denoising-is-broken-up-to-2021-dot-3-in-punctuals-raytraced-shadows">UUM-2140</a>)</p></li><li><p>IL2CPP: [Android] Build fails when building an exported project with Script Debugging enabled (<a href="https://issuetracker.unity3d.com/issues/il2cpp-android-build-fails-when-building-an-exported-project-on-android-studio-with-script-debugging-enabled">1373278</a>)</p></li><li><p>IMGUI: Impossible to change the Gradient's location value in the Visual Effects Graph when using the keyboard (<a href="https://issuetracker.unity3d.com/issues/impossible-to-change-the-gradients-location-value-in-the-visual-effects-graph-when-using-the-keyboard">1420954</a>)</p></li><li><p>Inspector Framework: First array element expansion is broken for arrays that use Custom Property Drawers (<a href="https://issuetracker.unity3d.com/issues/first-array-element-expansion-is-broken-for-arrays-that-use-custom-property-drawers">1409773</a>)</p></li><li><p>Kernel: Unity crashes on StackWalker::GetCurrentCallstack when rest-certificate.pem is corrupted (<a href="https://issuetracker.unity3d.com/issues/unity-crashes-on-stackwalker-getcurrentcallstack-when-rest-certificate-dot-pem-is-corrupted">1423569</a>)</p></li><li><p>Metal: Consistent EditorLoop 5-10ms spikes when using Metal API (<a href="https://issuetracker.unity3d.com/issues/consistent-gfx-dot-waitforpresentongfxthread-5-10ms-spikes-when-using-metal-api">1378985</a>)</p></li><li><p>Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project (<a href="https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project">1376858</a>)</p></li><li><p>Mono: Editor crashes intermittently on mono_object_isinst when closing it in batch mode or when building (<a href="https://issuetracker.unity3d.com/issues/editor-crashes-intermittently-on-mono-object-isinst-when-closing-it-in-batch-mode-or-when-building">1418292</a>)</p></li><li><p>Package: Empty "StreamingAssets" folder gets created after building an empty project (<a href="https://issuetracker.unity3d.com/issues/empty-streamingassets-folder-gets-created-after-building-an-empty-project">1423325</a>)</p></li><li><p>Physics: Crash on internalABP::ABP_PairManager::addPair when switching to ArticulationJointType.SphericalJoint during runtime (<a href="https://issuetracker.unity3d.com/issues/crash-on-internalabp-abp-pairmanager-addpair-when-switching-to-articulationjointtype-dot-sphericaljoint-during-runtime">1418715</a>)</p></li><li><p>Quality of Life: [Mac] ShortcutManager ignores Shift modifier (<a href="https://issuetracker.unity3d.com/issues/mac-shortcutmanager-ignores-shift-control-and-option-modifiers">1424655</a>)</p></li><li><p>Shader System: Editor crashes in Play mode when Groupshared memory and a constant buffer value is used in a compute shader on OpenGLES3 (<a href="https://issuetracker.unity3d.com/issues/editor-crashes-in-play-mode-when-groupshared-memory-and-a-constant-buffer-value-is-used-in-a-compute-shader-on-opengles3">1413012</a>)</p></li></ul><h3 id="202134f1-release-notes">2021.3.4f1 Release Notes</h3><h4 id="features">Features</h4><ul><li>Graphics: Added gaze foveated rendering (GFR) on Vulkan.</li></ul><h4 id="improvements">Improvements</h4><ul><li><p>Android: Added the AssetBundle extension to the list of exceptions for gradle compression of StreamingAssets. (<a href="https://issuetracker.unity3d.com/issues/addressables-bundles-get-compressed-in-android-builds">1405245</a>)</p></li><li><p>Documentation: Added code snippet for Physics.ContactModifyEvent.</p></li><li><p>Services: Opting out of analytics within the editor is now available to all customers and will sync the settings with the Unity backend.</p></li></ul><h4 id="fixes">Fixes</h4><ul><li><p>2D: Fixed case where Lighting is incorrect when Sprite Atlas uses secondary Texture Normal Maps in Linear Color Space. (<a href="https://issuetracker.unity3d.com/issues/lighting-is-incorrect-when-sprite-atlas-uses-secondary-texture-normal-maps-in-linear-color-space">1378322</a>)</p></li><li><p>2D: Fixed Tile Palette window incorrectly preventing selection in Scene View when Tilemap Tools are inactive. (<a href="https://issuetracker.unity3d.com/issues/gameobjects-in-the-scene-are-not-selectable-when-using-w-after-painting-with-tile-pallete">1365564</a>)</p></li><li><p>Android: Fixed an issue to allow 2 segment package names. (<a href="https://issuetracker.unity3d.com/issues/android-the-build-fails-when-identification-package-name-has-two-segments-one-dot">1425979</a>)</p></li><li><p>Android: Fixed app-freezing when an application changes into multi-window(split-screen) on Chrome OS tablet mode. (1361131)</p></li><li><p>Android: Fixed Screen.resolutions to return all supported refresh rates, not only 60Hz. (1426366)</p></li><li><p>Animation: Fixed an issue where the parameter preview of the animator did not work anymore. (<a href="https://issuetracker.unity3d.com/issues/animator-blendtree-parameters-slider-value-is-stuck-at-0-when-trying-to-move-the-slider">1388833</a>)</p></li><li><p>Editor: Sped up drag &amp; drop in the Project view on large projects. (<a href="https://issuetracker.unity3d.com/issues/dragging-and-dropping-asset-in-the-inspector-is-taking-upwards-of-3-seconds-everytime">1314065</a>)</p></li><li><p>GI: Strip shader variants with DIRLIGHTMAP_COMBINED keyword enabled when both LIGHTMAP_ON and DYNAMICLIGHTMAP_ON are disabled when building the player. Directional lightmap logic is always enclosed in the more general baked or dynamic lightmap blocks. (<a href="https://issuetracker.unity3d.com/issues/graphics-variants-which-have-dirlightmap-combined-are-not-removed-when-stripping-shader-variant-code">1307896</a>)</p></li><li><p>Graphics: Fixed a crash when calling Graphics.RenderMesh for a Mesh that was destroyed. (<a href="https://issuetracker.unity3d.com/issues/crash-when-calling-graphics-dot-rendermesh-for-a-mesh-that-was-destroyed">1404273</a>)</p></li><li><p>Graphics: Fixed flickering of particle system when using Vulkan. (1417289)</p></li><li><p>IL2CPP: Fixed a crash during liveness processing when asynchronous delegate invocation is used. (<a href="https://issuetracker.unity3d.com/issues/crash-when-running-garbagecollectsharedassets">1417730</a>)</p></li><li><p>IL2CPP: Fixed an issue where calls to GetHashCode on value types with no instance fields would not return a stable value. (<a href="https://issuetracker.unity3d.com/issues/il2cpp-calling-gethashcode-on-instances-of-empty-structs-does-not-return-the-same-value-in-il2cpp-builds">1411455</a>)</p></li><li><p>IL2CPP: Fixed builds failures when doing .NET Framework API builds and referencing types in System.Drawing. (<a href="https://issuetracker.unity3d.com/issues/il2cpp-build-fails-when-using-net-framework-api-compatibility">1413051</a>)</p></li><li><p>IL2CPP: Fixed code generation for Enum.HasFlag when its second argument is a System.Enum type. (<a href="https://issuetracker.unity3d.com/issues/mobile-il2cpp-build-fails-when-using-custom-script-and-target-architecture-arm64-is-selected">1420369</a>)</p></li><li><p>IL2CPP: Fixed function pointer bugs with integer casting and signature comparisons. (<a href="https://issuetracker.unity3d.com/issues/urp-il2cpp-build-fails-with-buildfailedexception-and-bee-library-errors-when-building-with-il2cpp-scripting-backend-enabled">1391567</a>)</p></li><li><p>IL2CPP: Fixed invalid C++ code for unmanged function pointer call in shared generic code. (1417082)</p></li><li><p>IMGUI: Removed hard-coded color space of the gradient picker. (1383095)</p></li><li><p>Input: Fixed keyboard not working on iOS 15. (<a href="https://issuetracker.unity3d.com/issues/keyboard-input-is-not-working-when-using-an-external-keyboard-in-ios-15">1376970</a>)</p></li><li><p>Kernel: Fixed VirtualFileSystem tests failing in the case of short paths being returned. (1402346)</p></li><li><p>Linux: Fixed a crash at the launch on systems that does not support Vulkan and OpenGL3.2. (1372651)</p></li><li><p>Linux: Fixed input system package drop down is a blank square issue. (<a href="https://issuetracker.unity3d.com/issues/new-input-systems-input-actions-windowss-binding-path-dropdown-is-rendered-as-an-empty-white-square-on-linux">1391850</a>)</p></li><li><p>macOS: Enabled the Build and Run button for Apple Silicon builds in the Silicon Editor. (<a href="https://issuetracker.unity3d.com/issues/m1-build-and-run-button-being-disabled-when-the-target-architecture-apple-silicon-is-selected-in-the-silicon-editor">1415688</a>)</p></li><li><p>Mono: Fixed a bug where the SmtpClient would ignore the ServicePointManager's SecurityProtocol level. (<a href="https://issuetracker.unity3d.com/issues/system-dot-net-dot-mail-dot-smtpexception-421-4-dot-7-66-tls-1-dot-0-and-1-dot-1-are-not-supported-error-is-throw-when-sending-an-email-with-smtpclient">1389326</a>)</p></li><li><p>Mono: Fixed a crash when de-serializing managed objects that have changed field types. (<a href="https://issuetracker.unity3d.com/issues/m1-crash-with-star-assertion-at-handle-dot-c-446-condition-m-class-is-valuetype-klass-not-met-when-deserializing-data">1378713</a>)</p></li><li><p>Mono: Fixed a rare incremental GC crash on Windows. (<a href="https://issuetracker.unity3d.com/issues/incremental-gc-pushes-invalid-stack-range-on-windows">1411601</a>)</p></li><li><p>Mono: Fixed an incorrect exception being thrown via Process.Start when windows path contains '. (<a href="https://issuetracker.unity3d.com/issues/errors-in-the-console-when-project-name-contains-apostrophe">1387637</a>)</p></li><li><p>Mono: Fixed an issue where callstacks would not be reported on OSX. (<a href="https://issuetracker.unity3d.com/issues/mac-stack-trace-is-not-available-after-a-crash-in-the-editor-log">1411374</a>)</p></li><li><p>Mono: Fixed default interface method crash when using mismatched generic arguments. (<a href="https://issuetracker.unity3d.com/issues/crash-on-assertion-condition-is-ok-error-not-met-when-entering-the-play-mode">1394314</a>)</p></li><li><p>Mono: Fixed PlatformNotSupportedException when calling System.Security.Cryptography.ProtectedData.Protect. (<a href="https://issuetracker.unity3d.com/issues/platformnotsupportedexception-is-thrown-when-using-system-dot-security">1397970</a>)</p></li><li><p>Mono: Implemented ProcessStartInfo.ArgumentList which was introduced in .Net Standard 2.1. (1396842)</p></li><li><p>Mono: Improved error handling to throw a MarshalDirectiveException when marshaling generic instances as return types from pinvoke callbacks. (<a href="https://issuetracker.unity3d.com/issues/unity-crashes-when-calling-marshal-dot-getfunctionpointerfordelegate-on-a-delegate-with-a-nullable-return-value">1390445</a>)</p></li><li><p>Mono: Removed handling SIGINT when Mono is embedded in Unity and the Player. (<a href="https://issuetracker.unity3d.com/issues/server-build-doesnt-respond-to-ctrl-plus-c-after-setting-console-dot-foregroundcolor">1376434</a>)</p></li><li><p>Physics 2D: Fixed an issue in the CustomCollider2D where a shapes bounds were not updating when replacing existing shapes with different vertices only. This resulted in an incorrect collision detection for that shape. (<a href="https://issuetracker.unity3d.com/issues/customcollidier2d-does-not-update-properly-after-call-to-setcustomshape-s">1425289</a>)</p></li><li><p>Scene/Game View: Fixed possible argument exception when using Scene Visibility API. (<a href="https://issuetracker.unity3d.com/issues/argumentexception-the-scene-is-not-loaded-when-test-runs-and-the-editor-does-not-have-focus">1288443</a>)</p></li><li><p>Scripting: Fixed a case where the type of generic fields inside generic classes would fail to get resolved when building the project. (1415422)</p></li><li><p>Scripting: Fixed filtering of assemblies by platform constraints not working and by defines. (<a href="https://issuetracker.unity3d.com/issues/found-plugins-with-same-names-error-is-thrown-for-the-microsoft-extensions-logging-package-when-building-on-android-platform">1373388</a>)</p></li><li><p>Serialization: Fixed a crash when deserializing a Prefab instance containing a resize on an array containing a nested type with a Fixed Buffer. (<a href="https://issuetracker.unity3d.com/issues/editor-crash-when-deserializing-an-array-of-a-type-with-a-nested-fixed-size-buffer-field">1400774</a>)</p></li><li><p>Shaders: Fixed a crash when warming up a shader variant collection that had a shader with UsePass. (<a href="https://issuetracker.unity3d.com/issues/crash-on-shaderlab-program-getmatchingsubprogram-after-entering-play-mode">1407692</a>)</p></li><li><p>Shaders: Fixed include dependencies being reported incorrectly when guarded by defines that depend on keywords. (<a href="https://issuetracker.unity3d.com/issues/editing-shader-includes-does-not-guarantee-shaders-being-updated-when-changes-are-made-in-script">1401580</a>)</p></li><li><p>Shaders: Fixed redundant shader variant recompilation after Editor relaunch. (<a href="https://issuetracker.unity3d.com/issues/some-shaders-are-recompiled-when-building-the-player-after-each-editor-launch">1425799</a>)</p></li><li><p>Shaders: Fixed ShaderKeywordSet.Disable not disabling keywords. (<a href="https://issuetracker.unity3d.com/issues/shader-keyword-is-not-disabled-when-calling-shaderkeywordset-dot-disable">1417644</a>)</p></li><li><p>uGUI: Fixed RectMask2D using the wrong Canvas for calculations after it was reparented. (<a href="https://issuetracker.unity3d.com/issues/rectmask2d-hides-all-content-when-parented-from-other-display-to-first-dislpay-in-the-game-view-window">1395695</a>)</p></li><li><p>UI Toolkit: Fixed the preview texture of linear gradients in gamma projects. (<a href="https://issuetracker.unity3d.com/issues/shadergraph-getting-a-smaller-gradient-than-generated-code-example-when-using-default-gradient-node">1369425</a>)</p></li><li><p>Universal: Fixed an issue that preview cameras no longer spam errors on the first frame of rendering. (<a href="https://issuetracker.unity3d.com/issues/urp-errors-are-spammed-after-entering-play-mode-in-sunflare-scene-and-navigating-the-project-view">1393818</a>)</p></li><li><p>URP: Fixed an issue of Renderer2D using the incorrect render path when lights are out of the scene view. (<a href="https://issuetracker.unity3d.com/issues/2d-urp-gameobjects-become-unlit-when-moving-2d-light-out-of-the-scene-view">1400566</a>)</p></li><li><p>URP: Fixed errors when using Native RenderPass and Render Objects feature after Post Processing.</p></li><li><p>URP: Fixed smooth material lighting banding issues on mobile platforms. (<a href="https://issuetracker.unity3d.com/issues/mobile-urp-banding-like-artifacts-are-visible-when-smooth-material-is-lit-by-light">1375791</a>)</p></li><li><p>VFX Graph: Fixed an issue that in <code>Output Particle</code> blocks, shader graph exposed properties order is now consistent with shader graph blackboard. (1398256)</p></li><li><p>Video: Fixed an issue that Video's Alpha not transparent when built with WebGL. (<a href="https://issuetracker.unity3d.com/issues/videos-alpha-not-transparent-when-built-with-webgl">1397499</a>)</p></li><li><p>WebGL: Fixed WebGL build in the Linux editor to include default resources. (<a href="https://issuetracker.unity3d.com/issues/linux-webgl-build-crashes-every-time-when-using-unity-editor-on-linux">1411380</a>)</p></li><li><p>XR: Fixed Unity VR Splash screen not showing up on UWP.</p></li></ul><h4 id="package-changes-in-202134f1">Package changes in 2021.3.4f1</h4><h4 id="packages-updated">Packages updated</h4><ul><li><p>com.unity.collab-proxy: <a href="https://docs.unity3d.com/Packages/com.unity.collab-proxy@1.15//changelog/CHANGELOG.html">1.15.16</a> → <a href="https://docs.unity3d.com/Packages/com.unity.collab-proxy@1.15//changelog/CHANGELOG.html">1.15.17</a></p></li><li><p>com.unity.localization: <a href="https://docs.unity3d.com/Packages/com.unity.localization@1.0//changelog/CHANGELOG.html">1.0.3</a> → <a href="https://docs.unity3d.com/Packages/com.unity.localization@1.3//changelog/CHANGELOG.html">1.3.1</a></p></li><li><p>com.unity.render-pipelines.core: <a href="https://docs.unity3d.com/Packages/com.unity.render-pipelines.core@12.1//changelog/CHANGELOG.html">12.1.6</a> → <a href="https://docs.unity3d.com/Packages/com.unity.render-pipelines.core@12.1//changelog/CHANGELOG.html">12.1.7</a></p></li><li><p>com.unity.render-pipelines.high-definition: <a href="https://docs.unity3d.com/Packages/com.unity.render-pipelines.high-definition@12.1//changelog/CHANGELOG.html">12.1.6</a> → <a href="https://docs.unity3d.com/Packages/com.unity.render-pipelines.high-definition@12.1//changelog/CHANGELOG.html">12.1.7</a></p></li><li><p>com.unity.render-pipelines.high-definition-config: <a href="https://docs.unity3d.com/Packages/com.unity.render-pipelines.high-definition-config@12.1//changelog/CHANGELOG.html">12.1.6</a> → <a href="https://docs.unity3d.com/Packages/com.unity.render-pipelines.high-definition-config@12.1//changelog/CHANGELOG.html">12.1.7</a></p></li><li><p>com.unity.render-pipelines.universal: <a href="https://docs.unity3d.com/Packages/com.unity.render-pipelines.universal@12.1//changelog/CHANGELOG.html">12.1.6</a> → <a href="https://docs.unity3d.com/Packages/com.unity.render-pipelines.universal@12.1//changelog/CHANGELOG.html">12.1.7</a></p></li><li><p>com.unity.scriptablebuildpipeline: <a href="https://docs.unity3d.com/Packages/com.unity.scriptablebuildpipeline@1.19//changelog/CHANGELOG.html">1.19.6</a> → <a href="https://docs.unity3d.com/Packages/com.unity.scriptablebuildpipeline@1.20//changelog/CHANGELOG.html">1.20.1</a></p></li><li><p>com.unity.services.core: <a href="https://docs.unity3d.com/Packages/com.unity.services.core@1.3//changelog/CHANGELOG.html">1.3.1</a> → <a href="https://docs.unity3d.com/Packages/com.unity.services.core@1.4//changelog/CHANGELOG.html">1.4.0</a></p></li><li><p>com.unity.shadergraph: <a href="https://docs.unity3d.com/Packages/com.unity.shadergraph@12.1//changelog/CHANGELOG.html">12.1.6</a> → <a href="https://docs.unity3d.com/Packages/com.unity.shadergraph@12.1//changelog/CHANGELOG.html">12.1.7</a></p></li><li><p>com.unity.visualeffectgraph: <a href="https://docs.unity3d.com/Packages/com.unity.visualeffectgraph@12.1//changelog/CHANGELOG.html">12.1.6</a> → <a href="https://docs.unity3d.com/Packages/com.unity.visualeffectgraph@12.1//changelog/CHANGELOG.html">12.1.7</a></p></li><li><p>com.unity.visualscripting: <a href="https://docs.unity3d.com/Packages/com.unity.visualscripting@1.7//changelog/CHANGELOG.html">1.7.6</a> → <a href="https://docs.unity3d.com/Packages/com.unity.visualscripting@1.7//changelog/CHANGELOG.html">1.7.8</a></p></li><li><p>com.unity.xr.openxr: <a href="https://docs.unity3d.com/Packages/com.unity.xr.openxr@1.4//changelog/CHANGELOG.html">1.4.1</a> → <a href="https://docs.unity3d.com/Packages/com.unity.xr.openxr@1.4//changelog/CHANGELOG.html">1.4.2</a></p></li></ul><p><strong>Packages added</strong></p><ul><li><a href="https://docs.unity3d.com/Packages/com.unity.services.authentication@2.0//changelog/CHANGELOG.html">com.unity.services.authentication@2.0.0</a></li></ul><p><strong>Pre-release packages added</strong></p><ul><li><p><a href="https://docs.unity3d.com/Packages/com.unity.netcode.gameobjects@1.0//changelog/CHANGELOG.html">com.unity.netcode.gameobjects@1.0.0-pre.9</a></p></li><li><p><a href="https://docs.unity3d.com/Packages/com.unity.multiplayer.tools@1.0//changelog/CHANGELOG.html">com.unity.multiplayer.tools@1.0.0-pre.7</a></p></li></ul>