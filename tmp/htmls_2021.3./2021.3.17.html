<h3 id="known-issues-in-2021317f1">Known Issues in 2021.3.17f1</h3><ul><li><p>2D: [URP] Memory leak when in Play Mode
  (<a href="https://issuetracker.unity3d.com/issues/urp-memory-leak-when-in-play-mode">UUM-19089</a>)</p></li><li><p>IMGUI Framework: Array values aren't changed when altering them in a custom EditorWindow
  (<a href="https://issuetracker.unity3d.com/issues/array-values-arent-changed-when-altering-them-in-a-custom-editorwindow">UUM-15645</a>)</p></li><li><p>MacOS: Crash on __pthread_kill when dragging Sprites into the Scene view
  (<a href="https://issuetracker.unity3d.com/issues/crash-on-pthread-kill-when-dragging-sprites-into-the-scene-view">UUM-20950</a>)</p></li><li><p>MacOS: Crash on __pthread_kill when multi-clicking on "Build and Publish" in the "LEGO Microgame" project
  (<a href="https://issuetracker.unity3d.com/issues/crash-on-pthread-kill-when-multi-clicking-on-build-and-publish-in-the-lego-microgame-project">UUM-22236</a>)</p></li><li><p>MacOS: [2D Platformer Microgame] 2D Platformer Microgame Project crash on <strong>cxxabiv1::</strong>aligned_malloc_with_fallback when pinching out or in on the trackpad during “Zoom in and out” step
  (<a href="https://issuetracker.unity3d.com/issues/m1-2d-platformer-microgame-2d-platformer-microgame-project-crash-on-cxxabiv1-aligned-malloc-with-fallback-when-pinching-out-or-in-on-the-trackpad-during-zoom-in-and-out-step">UUM-20720</a>)</p></li><li><p>MacOS: [M1] Crash on System.Object:__icall_wrapper_ves_icall_array_new_specific when launching a project
  (<a href="https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project">UUM-3207</a>)</p></li><li><p>Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project
  (<a href="https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project">1376858</a>)</p></li><li><p>Video: [Android] Application crashes when changing the source URL of a video player in Android
  (<a href="https://issuetracker.unity3d.com/issues/android-application-crashes-when-changing-the-source-url-of-a-video-player-in-android">UUM-20661</a>)</p></li><li><p>Visual Effects: [VFX Graph] Opaque Unlit Output don't write to Depth
  (<a href="https://issuetracker.unity3d.com/issues/vfx-graph-opaque-unlit-output-dont-write-to-depth">UUM-19559</a>)</p></li></ul><h3 id="2021317f1-release-notes">2021.3.17f1 Release Notes</h3><h4 id="features">Features</h4><ul><li><p>Visual Scripting: Added confirmation popup when resetting assemblies/types in project settings.</p></li><li><p>Visual Scripting: Added confirmation popup when resetting project settings and editor preferences.</p></li><li><p>Visual Scripting: Added Sticky Note for ScriptGraph and StateGraph.</p></li><li><p>Visual Scripting: Nodes may now have a button which triggers a custom action in their inspector description.</p></li><li><p>Visual Scripting: Nodes whose type cannot be found are now temporarily converted to dummy nodes until either their original type is defined again or the user replaces them.</p></li><li><p>Visual Scripting: Support for parameter renaming in code used by API nodes.</p></li></ul><h4 id="improvements">Improvements</h4><ul><li><p>Animation: Improved performance of AnimatorOverrideController.ApplyOverrides().
  (<a href="https://issuetracker.unity3d.com/issues/significant-impact-on-performance-when-using-animator-override-controller">UUM-14753</a>)</p></li><li><p>Asset Import: Reduced the overhead of asset importing by limiting the number of copies of internal parameter structs.</p></li><li><p>GI: Added a toggle for automatic recalculation of environment lighting in the Workflow section of the Lighting window.
  (UUM-13907)</p></li><li><p>Package: Updated version of com.unity.learn.iet-framework to 3.1.1.</p></li><li><p>Package: Updated version of com.unity.learn.iet-framework.authoring to 1.2.1.</p></li><li><p>VFX Graph: Added a toggle in both VFX preferences in VFX Graph view to allow shader debug symbols with generated shaders.
  (UUM-19517)</p></li></ul><h4 id="api-changes">API Changes</h4><ul><li>Core: Added: Use these methods for improved performance when operating on both positions and rotations at the same time.<br>  Transform.GetLocalPositionAndRotation()<br>  Transform.GetPositionAndRotation()<br>  TransformAccess.GetLocalPositionAndRotation()<br>  TransformAccess.GetPositionAndRotation()<br>  TransformAccess.SetLocalPositionAndRotation()<br>  TransformAccess.SetPositionAndRotation()</li></ul><h4 id="changes">Changes</h4><ul><li><p>Editor: Updated the Unity FBX SDK bindings to version 4.1.2. which update Autodesk FBX SDK to 2020.3.2.</p></li><li><p>Visual Scripting: AOTStubs are now generated for all nodes regardless of whether they represent a runtime or editor member.
  (<a href="https://issuetracker.unity3d.com/issues/aot-stub-generator-ignores-assemblies-that-reference-unity-editor">UVSB-2381</a>)</p></li><li><p>Visual Scripting: Increased zoom out distance in graphs.</p></li><li><p>XR: Updated com.unity.xr.openxr package version to 1.6.0.</p></li><li><p>XR: Updated XR Core Utilities to 2.0.1.</p></li></ul><h4 id="fixes">Fixes</h4><ul><li><p>Fixed Autodesk FBX and SketchUp SDK vulnerabilities. (<a href="https://unity.com/security/jan-2023-01">UNITY-SEC-JAN-2023-1</a>)</p></li><li><p>2D: Added proper manual URL for GridSelection.
  (<a href="https://issuetracker.unity3d.com/issues/open-reference-for-grid-selection-help-button-opens-non-existing-page">UUM-20223</a>)</p></li><li><p>2D: Fixed Case where there is Sprite Atlas warning in console when loading sprite in playmode.
  (<a href="https://issuetracker.unity3d.com/issues/2d-sprite-atlas-sprite-atlas-warning-in-console-when-loading-sprite-in-playmode">UUM-18521</a>)</p></li><li><p>2D: Fixed collider shapes for a TilemapCollider2D when rotated Tiles are used with a collider offset.</p></li><li><p>2D: Fixed crash when there is an invalid Sprite on a Tilemap and a TilemapRenderer tries to bind the invalid Sprite to a Sprite Atlas.
  (UUM-19275)</p></li><li><p>2D: Fixed rendering of GameObjects in a Tile Palette window when a Scriptable Render Pipeline is used.
  (<a href="https://issuetracker.unity3d.com/issues/tile-palette-preview-window-shows-pink-material">UUM-22035</a>)</p></li><li><p>2D: Fixed sorting of Tiles in a TilemapRenderer when the Sprites of the Tiles in the TilemapRenderer come from different Texture sources and Sprites with large vertex/index counts are rendered first due to batching.
  (UUM-18345)</p></li><li><p>2D: Fixed Sprite Mode field is empty upon changing Texture Type to Sprite in TextureImporter.
  (<a href="https://issuetracker.unity3d.com/issues/default-texture-settings-are-not-set-when-importing-image">UUM-16278</a>)</p></li><li><p>2D: Removed hiding tint in Sprites/Default shader.
  (<a href="https://issuetracker.unity3d.com/issues/changing-the-color-for-material-is-not-available-if-shader-is-set-to-sprites-slash-default">UUM-19330</a>)</p></li><li><p>2D: [com.unity.2d.psdimporter] Fixed an issue where an error would be shown when selecting Import Mode: Merged.</p></li><li><p>2D: [com.unity.2d.psdimporter] Fixed an issue where the amount of alpha removed from layers would not be re-applied as final position offset of the layers.</p></li><li><p>2D: [com.unity.2d.psdimporter] Fixed an issue where the editor would crash when importing .psd/.psb files with their layers outside of the document canvas.
  (<a href="https://issuetracker.unity3d.com/issues/crash-on-dualthreadallocator-trydeallocate-when-opening-the-project">DANB-285</a>)</p></li><li><p>2D: [com.unity.2d.psdimporter] Fixed an issue where the generated GameObjects would be laid out differently from how they appear in the DCC tool.
  (<a href="https://issuetracker.unity3d.com/issues/sprite-layout-is-incorrect-when-importing-a-psb-file">DANB-298</a>)</p></li><li><p>2D: [com.unity.2d.tilemap.extras][GameObjectBrush] Fix placement of GameObjects when Cell Gap is set.</p></li><li><p>2D: [com.unity.2d.tilemap.extras][GridInformation] Implement IEquatable for GridInformationKey.</p></li><li><p>2D: [com.unity.2d.tilemap.extras][PrefabRandomBrush] Fix possible NullReferenceException in PrefabRandomBrush.</p></li><li><p>AI: Fixed a blocked passage due to seemingly valid polygons after an obstacle carved the NavMesh nearby.
  (<a href="https://issuetracker.unity3d.com/issues/navmesh-navmeshobstacle-placed-near-the-edge-of-a-navmesh-causes-isolated-polygons-where-navmeshagents-can-get-stuck">UUM-8240</a>)</p></li><li><p>Android: Fixed error 'Source directory '....'. is not a directory when Symlink Sources option is on.
  (<a href="https://issuetracker.unity3d.com/issues/backport-android-error-unitylibrary-compiledebugkotlin-in-the-android-studio-when-project-exported-with-symlink-sources-en">UUM-884</a>)</p></li><li><p>Asset Pipeline: Fixed an issue where the standalone profiler could crash or emit errors when the script domain reloads in the editor.
  (<a href="https://issuetracker.unity3d.com/issues/edit-mode-recording-standalone-profiler-crashes-on-stopassetimportingv2internal-when-reloading-the-domain">UUM-19179</a>)</p></li><li><p>Audio: Updated FMOD's FLAC from version 1.2.1 to 1.3.4. This fixes an issue identified by our application security team.
  (UUM-400)</p></li><li><p>Build Pipeline: Fixed static batching sorting to ensure deterministic build results.
  (UUM-11427)</p></li><li><p>DX12: Fixed stalls in asynchronous scene loading with a large number of reflection probes.
  (UUM-20766)</p></li><li><p>Editor: Ensure scene view outline render uses the attributed main texture property name rather than the default name.
  (<a href="https://issuetracker.unity3d.com/issues/dot-dot-dot-doesnt-have-a-texture-property-maintex-error-when-using-gizmos-with-maintexture-attribute">UUM-20416</a>)</p></li><li><p>Editor: Fixed a bug on Chrome on iOS where the WebGL canvas cannot regain focus after losing it.
  (<a href="https://issuetracker.unity3d.com/issues/ios-chrome-ui-button-stops-working-after-opening-new-tab-and-going-back-to-unity-project-tab">UUM-1166</a>)</p></li><li><p>Editor: Fixed a crash when a window is closed during EditorWindow.OnLostFocus.
  (<a href="https://issuetracker.unity3d.com/issues/error-slash-crash-when-editorwindow-dot-close-is-called-in-editorwindow-dot-onlostfocus">UUM-12434</a>)</p></li><li><p>Editor: Fixed a deadlock that can occur when MasterTextureLimit is changed while a texture has an in-progress upload request.
  (UUM-16491)</p></li><li><p>Editor: Fixed API for users sending analytics as json formatted strings.</p></li><li><p>Editor: Fixed camera roll animations import.
  (<a href="https://issuetracker.unity3d.com/issues/camera-lookatconstraint-keyframes-are-not-imported-in-the-animation-when-importing-fbx-file-from-3ds-max">UUM-15444</a>)</p></li><li><p>Editor: Fixed character encoding for error messages in the Unity Accelerator.
  (<a href="https://issuetracker.unity3d.com/issues/tcpprotobufclient-error-is-displayed-in-random-symbols-when-the-os-is-set-to-use-a-non-latin-alphabet-language">UUM-16372</a>)</p></li><li><p>Editor: Fixed crash issue with very large project import when the amount of descriptors grows unusually high.
  (<a href="https://issuetracker.unity3d.com/issues/crash-on-gfxtaskexecutord3d12-addrequiredresourcebarriers-when-opening-the-project">UUM-20186</a>)</p></li><li><p>Editor: Fixed crash/validation error when loading old Vulkan shaders from asset bundles.</p></li><li><p>Editor: Fixed documentation links for Script Graph and State Graphs assets.
  (<a href="https://issuetracker.unity3d.com/issues/documentation-page-is-not-displayed-for-the-user-when-he-clicks-on-scriptgraphasset-and-stategraphasset-question-marks">UVSB-2422</a>)</p></li><li><p>Editor: Fixed Editor crash when calling API's to show modal dialogs while -drawRect is in progress.
  (<a href="https://issuetracker.unity3d.com/issues/crash-on-pthread-kill-when-editorutility-dot-openfolderpanel-is-executed">UUM-2293</a>)</p></li><li><p>Editor: Fixed EditorWindow maximum size calculations when using a display not at integer scaling.
  (<a href="https://issuetracker.unity3d.com/issues/windows-custom-editorwindow-height-is-6-pixels-longer-than-the-maxsize-slash-minsize-when-its-set-to-the-biggest-slash-smallest-size">UUM-12808</a>)</p></li><li><p>Editor: Fixed for scene hierarchy order change when entering Play mode in the Mobile Template.
  (UUM-13298)</p></li><li><p>Editor: Fixed Highlighter.Highlight does not disappear when the highlighted element disappears from view.
  (<a href="https://issuetracker.unity3d.com/issues/highlighter-dot-highlight-does-not-disappear-when-the-highlighted-element-disappears-from-view">UUM-3535</a>)</p></li><li><p>Editor: Fixed issue on Windows where modal dialogs can get the Editor stuck if they are launched from a window that closes itself.
  (<a href="https://issuetracker.unity3d.com/issues/the-unity-editor-becomes-unresponsive-when-a-modal-window-loses-focus-and-an-aux-window-exists">UUM-21096</a>)</p></li><li><p>Editor: Fixed issue where mouse up and mouse down events were reported twice in OnGUI when using the Device Simulator.
  (<a href="https://issuetracker.unity3d.com/issues/in-device-simulator-ongui-events-are-called-twice">UUM-14340</a>)</p></li><li><p>Editor: Fixed null reference exception in the FreeCamera component when there is no keyboard.
  (UUM-17801)</p></li><li><p>Editor: Fixed sub graphs being shown with broken connections on first load as of Unity 2021.2.
  (<a href="https://issuetracker.unity3d.com/issues/visual-script-graph-with-non-embed-subgraph-gets-corrupted-node-links-when-reopening-project-after-removing-artifacts-folder">UVSB-2345</a>)</p></li><li><p>Editor: Fixed t:prefab in AssetProvider only yields files ending in .prefab (no fbx or obj anymore).
  (<a href="https://issuetracker.unity3d.com/issues/advanced-search-hierarchy-window-doesnt-present-the-search-results-when-opening-a-scene-and-search-field-isnt-empty">UUM-18200</a>)</p></li><li><p>Editor: Fixed that on Mac when hovering over arrow in the Hierarchy to open Prefab in Prefab Mode the tooltip displays shortcut as "Alt" and not "Option".
  (<a href="https://issuetracker.unity3d.com/issues/macos-in-hierarchy-hovering-over-arrow-to-open-prefab-in-prefab-view-tooltip-displays-shortcut-to-alt-and-not-command">UUM-15760</a>)</p></li><li><p>Editor: Fixed unexpected rendering when Fragment Normal uses Object Space.
  (UUM-10045)</p></li><li><p>Editor: Metal no longer crash when using shader referencing POSITION with mesh missing this attr.
  (<a href="https://issuetracker.unity3d.com/issues/m1-silicon-crash-on-mtlgetenvcase-when-opening-the-project">UUM-20796</a>)</p></li><li><p>Editor: OpenSSL updated to 1.1.1s to address.
  (UUM-18983)</p></li><li><p>Editor: Some gamepad inputs were being mapped to keyboard keys on 2021.3 for Android, causing the input scheme to be keyboard when it should be gamepad. This mapping has been removed.
  (<a href="https://issuetracker.unity3d.com/issues/android-playerinput-dot-currentcontrolscheme-displays-keyboard-inputcontrolscheme-when-pressing-gamepads-rb-lb-or-view-buttons">UUM-20119</a>)</p></li><li><p>Graphics: Added error message when capturing a screenshot into a RenderTexture but passing null for argument.
  (UUM-7004)</p></li><li><p>Graphics: Fixed a ReadPixels issue.
  (UUM-2998)</p></li><li><p>Graphics: Fixed an issue so that entering playmode with disabled compositor no longer breaks all its layers.
  (<a href="https://issuetracker.unity3d.com/issues/hdrp-entering-playmode-with-disabled-compositor-breaks-all-its-layers">UUM-11633</a>)</p></li><li><p>Graphics: Fixed an issue with inspecting a RenderTexture with DepthAuto / ShadowMap as the Color Format so it no longer breaks the inspector.
  (UUM-11764)</p></li><li><p>Graphics: Fixed crash in depth resolve when using HDR render textures.
  (<a href="https://issuetracker.unity3d.com/issues/crash-on-gfxdeviced3d11base-resolvedepthintotexture-when-using-hdr-enabled-rendertextures">UUM-2316</a>)</p></li><li><p>Graphics: Fixed for incorrect values in ReadPixel for some graphics formats on DirectX.
  (<a href="https://issuetracker.unity3d.com/issues/incorrect-values-in-readpixel-for-some-16bit-graphicsformat-when-on-windows">UUM-15344</a>)</p></li><li><p>Graphics: Fixed problems with 16-bit floats on iOS with URP.
  (UUM-14877)</p></li><li><p>Graphics: Fixed ShaderUtil API to properly fetch data from the SerializedShader and the RuntimeShader.
  (UUM-10163)</p></li><li><p>Graphics: Fixed <code>GraphicsFenceType</code> so it is now set correctly from <code>CommandBuffer.CreateGraphicsFence</code>.
  (<a href="https://issuetracker.unity3d.com/issues/editor-can-not-determine-if-graphicsfence-has-passed-when-using-commandbuffer">UUM-11450</a>)</p></li><li><p>Graphics: Graphics: Fixed crash by preventing race condition when opening app from floating icon state on Android.
  (<a href="https://issuetracker.unity3d.com/issues/android-crash-with-signal-11-when-opening-app-from-floating-icon-state">UUM-576</a>)</p></li><li><p>HDRP: Added clarification on HDR Output not supporting Scene View.
  (<a href="https://issuetracker.unity3d.com/issues/hdrp-hdr-documentation-missing-info-about-supported-views">UUM-16184</a>)</p></li><li><p>HDRP: Fixed a black screen issue with master builds on HDRP.
  (UUM-17388)</p></li><li><p>HDRP: Fixed a number of outdated reference to "HDRP Default Settings" in the UI.
  (UUM-11494)</p></li><li><p>HDRP: Fixed ambient probe for volumetric clouds.</p></li><li><p>HDRP: Fixed an issue with Bloom and Depth of Field in game view when filtering in the hierarchy.
  (UUM-17739)</p></li><li><p>HDRP: Fixed an issue with low resolution depth of field producing a cropped result in some scenarios.
  (<a href="https://issuetracker.unity3d.com/issues/hdrp-dof-in-half-or-quarter-resolution-results-in-cropped-frame">UUM-11354</a>)</p></li><li><p>HDRP: Fixed black dots when clouds rendered in local mode.
  (<a href="https://issuetracker.unity3d.com/issues/flickering-black-pixels-in-the-game-view-when-volumetric-clouds-with-local-clouds-are-enabled-in-an-hdrp-project">UUM-11651</a>)</p></li><li><p>HDRP: Fixed black line in ray traced reflections.
  (UUM-11379)</p></li><li><p>HDRP: Fixed color grading so it no longer outputs negative colors.
  (UUM-11110)</p></li><li><p>HDRP: Fixed custom pass scaling issues with dynamic resolution.
  (<a href="https://issuetracker.unity3d.com/issues/dynamic-resolution-broken-with-custom-pass-3">UUM-10882</a>)</p></li><li><p>HDRP: Fixed decal material validation after saving.
  (<a href="https://issuetracker.unity3d.com/issues/decalmeshforwardemissive-and-decalprojectorforwardemissive-are-re-enabled-when-saving-project-for-the-first-time">UUM-12750</a>)</p></li><li><p>HDRP: Fixed embedding the config package when it's not a direct dependency.
  (<a href="https://issuetracker.unity3d.com/issues/hdrp-error-thrown-on-clicking-the-embed-configuration-editable-package-button-in-the-hdrp-wizard-window-1">UUM-8012</a>)</p></li><li><p>HDRP: Fixed exposure of recorded frames with path tracing and auto exposure.
  (UUM-14985)</p></li><li><p>HDRP: Fixed graphics issues with sky and fog in game view when filtering objects in the hierarchy.
  (<a href="https://issuetracker.unity3d.com/issues/hdrp-visual-glitching-appear-in-game-view-after-selecting-a-gameobject-from-hierarchy-searching-results-whilst-fog-volume-override-is-enabled">UUM-11952</a>)</p></li><li><p>HDRP: Fixed Layer List is not duplicated when duplicating a LayeredLit Material.
  (<a href="https://issuetracker.unity3d.com/issues/layer-list-is-not-duplicated-when-duplicating-a-layeredlit-material">UUM-11123</a>)</p></li><li><p>HDRP: Fixed minor bug in the shadow ray culling for the cone spot light.
  (UUM-9708)</p></li><li><p>HDRP: Fixed missing limitation in path tracing documentation regarding Local Volumetric Fog.
  (UUM-13354)</p></li><li><p>HDRP: Fixed missing tag on decal shader properties.</p></li><li><p>HDRP: Fixed Missing tooltip for Screen Weight Distance in Screen Space Refraction Override.
  (UUM-16930)</p></li><li><p>HDRP: Fixed mouse position in debug menu with scaled screens in editor.
  (UUM-16880)</p></li><li><p>HDRP: Fixed null reference error in the rendering debugger when no camera is available.
  (UUM-18189)</p></li><li><p>HDRP: Fixed performance when volumetric fog is disabled.
  (UUM-14318)</p></li><li><p>HDRP: Fixed range of spill removal parameter in graphics compositor UI.
  (<a href="https://issuetracker.unity3d.com/issues/hdrp-compositors-chroma-spill-rmoval-spills-magenta-over-the-layer">UUM-11634</a>)</p></li><li><p>HDRP: Fixed Ray Tracing Mixed Mode Collisions.
  (UUM-14613)</p></li><li><p>HDRP: Fixed scene depth node not working in the Decal ShaderGraph material type.
  (<a href="https://issuetracker.unity3d.com/issues/scene-depth-node-doesnt-return-a-proper-depth-value-when-used-in-a-decal-shadergraph">UUM-8237</a>)</p></li><li><p>HDRP: Fixed shadergraph using derivatives and Raytracing Quality keyword.
  (<a href="https://issuetracker.unity3d.com/issues/nodes-using-derivatives-are-not-stripped-out-in-raytracing-even-when-using-the-raytracing-quality-keyword">UUM-8358</a>)</p></li><li><p>HDRP: Fixed shadows in transparent unlit shadow matte.
  (UUM-12284)</p></li><li><p>HDRP: Fixed slight change of color in background when changing scene hierarchy.
  (UUM-14324)</p></li><li><p>HDRP: Fixed Text alignment in Transparency Inputs section.
  (UUM-17208)</p></li><li><p>HDRP: Fixed texture wrapping of cloud layer.
  (<a href="https://issuetracker.unity3d.com/issues/lowering-cloud-layer-channel-opacity-beyond-a-certain-threshold-results-in-graphical-artifact">UUM-15591</a>)</p></li><li><p>HDRP: Fixed the fallback section so it now disappears when hiding the additional data.
  (UUM-16780)</p></li><li><p>HDRP: Fixed the indirect diffuse lighting in ray tracing so it now always works properly.
  (UUM-14083)</p></li><li><p>HDRP: Fixed the ray tracing reflection denoiser being partially broken.
  (<a href="https://issuetracker.unity3d.com/issues/ray-tracing-reflection-denoiser-is-partially-broken">UUM-10443</a>)</p></li><li><p>HDRP: Fixed the ray tracing shadow denoiser s it no longer produces leaks at the edge of spotlight shadows.
  (UUM-17794)</p></li><li><p>HDRP: Fixed transmission on directional lights.
  (<a href="https://issuetracker.unity3d.com/issues/hdrp-transmission-from-directional-light-on-thick-object-mode-is-rendered-even-when-object-is-in-shadow">UUM-15003</a>)</p></li><li><p>HDRP: Fixed unnecessary loss of precision when all post processing are disabled.
  (<a href="https://issuetracker.unity3d.com/issues/different-results-when-disabling-post-processing-effects-individually-and-disabling-post-processing-completely-on-the-camera-1">UUM-13277</a>)</p></li><li><p>HDRP: Fixed volumetric cloud incorrectly display in lighting debug mode.</p></li><li><p>HDRP: Fixed zfighting artifacts for ray tracing.
  (UUM-7668)</p></li><li><p>HDRP: Improved the motion and receiver rejection tooltips for RTGI and RTAO.
  (<a href="https://issuetracker.unity3d.com/issues/hdrp-receiver-motion-rejection-raytraced-ssgi-tooltip-improvement">UUM-13152</a>)</p></li><li><p>HDRP: Removed misleading part of a LensFlare tooltip.
  (UUM-13946)</p></li><li><p>HDRP: Removed unused voluimetric clouds volume component on new scenes templates.
  (<a href="https://issuetracker.unity3d.com/issues/hdrp-new-scene-templates-created-with-unused-volumetric-clouds-component">UUM-11451</a>)</p></li><li><p>HDRP: Removed unwanted RTAO effect on indirect specular lighting.
  (UUM-8772)</p></li><li><p>HDRP: Renamed IOR output in Eye shadergraph for clarification.
  (<a href="https://issuetracker.unity3d.com/issues/hdrp-rename-ior-input-port">UUM-15849</a>)</p></li><li><p>HDRP: Worked around exception when enabling raytracing when resources for raytracing have not been built.
  (UUM-9570)</p></li><li><p>IL2CPP: Enabled properly forwarding declare generic value type pointer arguments.
  (UUM-19689)</p></li><li><p>IMGUI: Removed <strong>Resolve of invalid GC handle</strong> error occurring when exiting Play mode.
  (<a href="https://issuetracker.unity3d.com/issues/2020-dot-3-resolve-of-invalid-gc-handle-error-occurs-when-exiting-play-mode-after-creating-a-tilemap">UUM-14969</a>)</p></li><li><p>iOS: Fixed a hang on startup on iOS 16 when linking to UnityFramework.
  (<a href="https://issuetracker.unity3d.com/issues/ios-player-crashes-on-ios-16-devices-when-unityframework-dot-framework-is-added-in-link-binary-with-libraries">UUM-16259</a>)</p></li><li><p>Linux: Fixed <code>SystemInfo.batteryStatus</code> and <code>SystemInfo.batteryLevel</code> so that they now work on Linux.
  (<a href="https://issuetracker.unity3d.com/issues/linux-systeminfo-dot-batterystatus-slash-systeminfo-dot-batterylevel-doesnt-work-on-a-linux-laptop">UUM-16083</a>)</p></li><li><p>Mono: Updated the Brotli compression library to version 1.0.9 to correct <a href="https://github.com/advisories/GHSA-5v8v-66v8-mwm7">https://github.com/advisories/GHSA-5v8v-66v8-mwm7</a>.
  (UUM-15721)</p></li><li><p>Networking: Fixed race condition between DownloadHandlerTexture and Resources.UnloadUnusedAssets, sometimes cause premature destruction of the texture.
  (UUM-18044)</p></li><li><p>Package Manager: Package documentation links pointing to private Github URLs can now be opened in browser for non-Unity packages. Additionally, for all packages in general, opening local documentation will fall back on the README file if a documentation.md file cannot be found.
  (<a href="https://issuetracker.unity3d.com/issues/documentationurl-and-changelogurl-is-ignored-when-package-is-located-in-private-repositorie">UUM-8337</a>)</p></li><li><p>Particles: Fixed crash caused by Particle EmissionModule::Transfer handling of bursts array.
  (UUM-8886)</p></li><li><p>Physics 2D: Fixed an issue so that RelativeJoint2D angularOffset uses Degrees and not Radians.
  (<a href="https://issuetracker.unity3d.com/issues/angular-offset-for-relative-joint-2d-displays-degrees-despite-utilizing-radians-in-the-inspector-after-altering-angular-offset-in-a-script">UUM-19333</a>)</p></li><li><p>Physics 2D: Fixed an issue when using the 2D Physics Multithreaded solver so that contact processing time no longer increases over time under certain circumstances.
  (D2D-4284)</p></li><li><p>Physics 2D: Fixed an issue where a contact normal would be inversed leading to Collider2D.IsTouching incorrectly filtering the collision normal angle.
  (<a href="https://issuetracker.unity3d.com/issues/wrong-collision-normals-with-composite-tillemap-collider">UUM-15726</a>)</p></li><li><p>Prefabs: Fixed the import process so that only transform remains after importing a broken file, if a Prefab file is found to contain multiple transforms due to external merge tool or manual edit error. <strong>Note:</strong> Import prioritization of <code>RectTransform</code> over <code>Transform</code> remains unchanged.
  (<a href="https://issuetracker.unity3d.com/issues/crash-on-gameobjecthierarchyproperty-getcolorcode-when-dragging-prefab-with-tmp-script-to-hierarchy-or-scene-window">UUM-14898</a>)</p></li><li><p>Profiler: Fixed profiler connection allocations tracking under the ProfilerConnection entry in Memory Profiler.
  (<a href="https://issuetracker.unity3d.com/issues/android-progressive-memory-consumption-on-android-when-application-is-left-to-idle">UUM-16465</a>)</p></li><li><p>Profiler: Fixed rendering of certain character sets in CPU Profiler Timeline view.
  (<a href="https://issuetracker.unity3d.com/issues/profiler-does-not-support-characters-when-utf8-encoding-is-used">UUM-16513</a>)</p></li><li><p>Profiler: GPU module's sample hierarchy no longer uses CPU data after a recompilation when there is an active selection.
  (<a href="https://issuetracker.unity3d.com/issues/gpu-usage-hierarchy-columns-in-the-profiler-window-change-when-scripts-are-recompiled">UUM-20083</a>)</p></li><li><p>Profiler: Restore Defaults will now also re-enable all default modules and reset chart preferences.
  (<a href="https://issuetracker.unity3d.com/issues/profilers-restore-defaults-button-doesnt-reset-the-list-of-modules-back-to-default">UUM-11329</a>)</p></li><li><p>Scripting: Removed warning for obsolete platforms when added plugins to plugin folders that contains both obsolete and non-obsolete platforms.
  (<a href="https://issuetracker.unity3d.com/issues/cannot-set-deprecated-build-target-osxintel-warning-appears-when-setting-pluginimporters-compatible-platform-to-osx">UUM-12246</a>)</p></li><li><p>Shadergraph: Fixed Shader Graph BiRP Target so it now works correctly with point lights and transparent objects.
  (<a href="https://issuetracker.unity3d.com/issues/an-object-does-not-receive-lighting-from-point-light-when-shader-graph-material-is-applied">UUM-9823</a>)</p></li><li><p>Shaders: Fixed a crash in Shader Prefiltering when the Render Pipeline assets contain circular data references.
  (<a href="https://issuetracker.unity3d.com/issues/crash-during-build-process-shaderkeywordfilter-dot-settingsnode-dot-gatherfilterdata">UUM-19976</a>)</p></li><li><p>Shaders: Fixed a crash when building variants when a package is unloaded and re-loaded.
  (<a href="https://issuetracker.unity3d.com/issues/crash-on-joinimpl-core-basic-string-char-core-stringstoragedefault-when-installing-hdrp-package-after-removing-it">UUM-20693</a>)</p></li><li><p>Shaders: Fixed an incorrect error message when using instanced rendering and replacement shaders.
  (UUM-20961)</p></li><li><p>Shaders: Fixed shader graph incorrectly stripping variants for BiRP shaders that weren't built with shader graph.
  (<a href="https://issuetracker.unity3d.com/issues/standard-shader-with-cutout-mode-doesnt-work-in-the-player-when-shader-graph-is-installed-with-built-in-render-pipeline">UUM-14800</a>)</p></li><li><p>Shaders: Preparing variants for compilation dialog now shows the name of the shader being processed.
  (<a href="https://issuetracker.unity3d.com/issues/variant-preparation-does-not-show-the-name-of-the-shader">UUM-22015</a>)</p></li><li><p>SRP Core: Fixed ColorCurves volume leaking Texture2D objects under certain circumstances.
  (UUM-16602)</p></li><li><p>Terrain: Terrain is not affected by Environmental Lighting when Draw Instanced is turned on.
  (<a href="https://issuetracker.unity3d.com/issues/terrain-is-not-affected-by-environmental-lighting-when-draw-instanced-is-turned-on">UUM-11754</a>)</p></li><li><p>UI: Fixed missing tooltip for "Screen Weight Distance" in Screen Space Refraction override.
  (UUM-12116)</p></li><li><p>UI Toolkit: Fixed :active default style overwritten by :hover:enabled.
  (<a href="https://issuetracker.unity3d.com/issues/button-in-the-ui-toolkit-samples-window-doesnt-change-the-color-when-being-pressed">UUM-19845</a>)</p></li><li><p>UI Toolkit: Fixed an issue where the Progress Bar's title attribute would not reset inside the UI Builder.
  (<a href="https://issuetracker.unity3d.com/issues/ui-builder-progressbar-title-field-isnt-updated-when-setting-the-value-to-an-empty-string">UUM-21345</a>)</p></li><li><p>UI Toolkit: Fixed an issue where the UI Builder would log a cryptic error when trying to save a uxml document outside of the project. It will now inform the user that the operation failed.
  (<a href="https://issuetracker.unity3d.com/issues/improve-error-message-when-saving-out-side-of-project">UUM-20711</a>)</p></li><li><p>UI Toolkit: Fixed image element so it no longer ignores UV rect when a sprite was used.
  (<a href="https://issuetracker.unity3d.com/issues/image-ignores-the-uv-rect-parameter-when-a-sprite-is-used">UUM-18362</a>)</p></li><li><p>UI Toolkit: Fixed incorrect width calculated for Labels with style tags.
  (UUM-8428)</p></li><li><p>UI Toolkit: Fixed layout of Image element so it now works with a flipped UV rect.
  (<a href="https://issuetracker.unity3d.com/issues/an-image-is-not-displayed-upside-down-when-width-and-height-are-not-specified">UUM-17729</a>)</p></li><li><p>UI Toolkit: Fixed support for compound assignment operators for UI Toolkit numeric fields (IntegerField, LongField, FloatField, DoubleField).
  (<a href="https://issuetracker.unity3d.com/issues/uitoolkit-math-assignment-operators-done-in-a-numeric-field-dont-return-the-expression-result">UUM-3471</a>)</p></li><li><p>UI Toolkit: Improved UI Toolkit so that flipped UVs are now properly handled by scale modes of the Image element.
  (<a href="https://issuetracker.unity3d.com/issues/the-image-is-not-displayed-in-a-window-when-the-image-y-axis-is-flipped">UUM-17136</a>)</p></li><li><p>Universal RP: Fixed a missing keyword in ParticleLit for Lightmap shadow mixing.
  (<a href="https://issuetracker.unity3d.com/issues/urp-particle-lit-is-missing-number-pragma-multi-compile-lightmap-shadow-mixing">UUM-18601</a>)</p></li><li><p>Universal RP: Fixed projection flip inversion.
  (<a href="https://issuetracker.unity3d.com/issues/gameobject-light-reflection-is-inverted-when-in-play-mode-or-player">UUM-13634</a>)</p></li><li><p>Universal Windows Platform: Fixed mouse wheel events on UWP.
  (<a href="https://issuetracker.unity3d.com/issues/scrolling-with-the-mouse-is-logged-as-a-mousedown-event-when-the-project-is-deployed-on-uwp">UUM-19092</a>)</p></li><li><p>URP: Fixed 2D game view flickering when using URP Pixel Perfect and Cinemachine Pixel Perfect Extension.
  (UUM-20343)</p></li><li><p>URP: Fixed errors related to the lack of support of native shadow maps on WebGL1.
  (UUM-2270)</p></li><li><p>VFX Graph: Fixed an issue that vertex Color was black while using new shader graph integration on planar primitive output.
  (<a href="https://issuetracker.unity3d.com/issues/vfx-graph-missing-vertexcolor-initialization-with-output-quad">UUM-12866</a>)</p></li><li><p>VFX Graph: Fixed an issue with the out of range exception on GPU when multiple spawn context are plugged to the same initialize system.
  (<a href="https://issuetracker.unity3d.com/issues/vfx-oom-on-gpu-causing-unexpected-behavior-with-multiple-spawner">UUM-8351</a>)</p></li><li><p>VFX Graph: Forbid drag and drop of material from project browser to VFX component in scene.
  (<a href="https://issuetracker.unity3d.com/issues/vfx-dragging-regular-material-onto-a-vfx-graph-will-override-its-own-material">UUM-14790</a>)</p></li><li><p>Video: Fixed Video Player crash/malfunction on Android versions less than 9.
  (<a href="https://issuetracker.unity3d.com/issues/backport-android-videoplayer-videos-are-not-played-from-url-on-specific-devices">UUM-1843</a>)</p></li><li><p>Video: VideoPlayer.width and height return 0 instead of expected values.
  (<a href="https://issuetracker.unity3d.com/issues/backport-macos-videoplayer-dot-width-and-height-returns-0-when-videoplayer-dot-texture-dot-width-and-height-returns-expected-values">UUM-1899</a>)</p></li><li><p>Visual Scripting: Detected and fixed parameter renames for nodes that support a default parameter for each of their inputs.
  (<a href="https://issuetracker.unity3d.com/issues/bolt-update-random-range-node-set-users-values-to-min0-and-max0">UVSB-1885</a>)</p></li><li><p>Visual Scripting: Fixed a problem that was preventing link.xml creation when building for Mono backend.
  (<a href="https://issuetracker.unity3d.com/issues/serialization-errors-are-thrown-in-the-player-when-managed-stripping-level-is-set-to-high">UVSB-2348</a>)</p></li><li><p>Visual Scripting: Fixed graphs being corrupted on deserialization if containing a node whose type cannot be found.
  (<a href="https://issuetracker.unity3d.com/issues/script-graph-cannot-be-opened-and-failed-to-deserialize-behaviour-dot-error-is-logged-after-deleting-a-custom-node-script">UVSB-2332</a>)</p></li><li><p>Visual Scripting: Fixed Visual Scripting settings now only save to disk when modified.</p></li><li><p>Visual Scripting: Fixed <code>Gradient.mode</code> serialization. This fix is available for Unity 2021.3.9f1 or newer.
  (<a href="https://issuetracker.unity3d.com/issues/blend-gradient-mode-is-changed-to-fixed-if-using-visual-scripting-serializer-when-entering-play-mode">UVSB-2356</a>)</p></li><li><p>Visual Scripting: Moved Events/MessageListeners files to a Listeners folder to avoid to exceed some OS path limit.</p></li><li><p>WebGL: Fixed a bug where Firefox would hang at 90% while loading.
  (<a href="https://issuetracker.unity3d.com/issues/webgl-player-stops-loading-at-90-percent-in-firefox-when-browser-loses-focus">UUM-1155</a>)</p></li><li><p>WebGL: Fixed error handling of AudioContext.resume().
  (UUM-17803)</p></li><li><p>XR: Fixed crash on Quest when using MSAA and moving out of the guardian during startup.
  (UUM-20525)</p></li><li><p>XR: Updated XR Interaction Toolkit to 2.2.0.</p></li></ul><h4 id="package-changes-in-2021317f1">Package changes in 2021.3.17f1</h4><h4 id="packages-updated">Packages updated</h4><ul><li><p>com.unity.2d.psdimporter: <a href="https://docs.unity3d.com/Packages/com.unity.2d.psdimporter@6.0//changelog/CHANGELOG.html">6.0.6</a> &amp;#x2192; <a href="https://docs.unity3d.com/Packages/com.unity.2d.psdimporter@6.0//changelog/CHANGELOG.html">6.0.7</a></p></li><li><p>com.unity.2d.tilemap.extras: <a href="https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@2.2//changelog/CHANGELOG.html">2.2.3</a> &amp;#x2192; <a href="https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@2.2//changelog/CHANGELOG.html">2.2.4</a></p></li><li><p>com.unity.ide.rider: <a href="https://docs.unity3d.com/Packages/com.unity.ide.rider@3.0//changelog/CHANGELOG.html">3.0.16</a> &amp;#x2192; <a href="https://docs.unity3d.com/Packages/com.unity.ide.rider@3.0//changelog/CHANGELOG.html">3.0.18</a></p></li><li><p>com.unity.ide.visualstudio: <a href="https://docs.unity3d.com/Packages/com.unity.ide.visualstudio@2.0//changelog/CHANGELOG.html">2.0.16</a> &amp;#x2192; <a href="https://docs.unity3d.com/Packages/com.unity.ide.visualstudio@2.0//changelog/CHANGELOG.html">2.0.17</a></p></li><li><p>com.unity.purchasing: <a href="https://docs.unity3d.com/Packages/com.unity.purchasing@4.5//changelog/CHANGELOG.html">4.5.1</a> &amp;#x2192; <a href="https://docs.unity3d.com/Packages/com.unity.purchasing@4.5//changelog/CHANGELOG.html">4.5.2</a></p></li><li><p>com.unity.remote-config: <a href="https://docs.unity3d.com/Packages/com.unity.remote-config@3.2//changelog/CHANGELOG.html">3.2.2</a> &amp;#x2192; <a href="https://docs.unity3d.com/Packages/com.unity.remote-config@3.3//changelog/CHANGELOG.html">3.3.1</a></p></li><li><p>com.unity.render-pipelines.core: <a href="https://docs.unity3d.com/Packages/com.unity.render-pipelines.core@12.1//changelog/CHANGELOG.html">12.1.8</a> &amp;#x2192; <a href="https://docs.unity3d.com/Packages/com.unity.render-pipelines.core@12.1//changelog/CHANGELOG.html">12.1.9</a></p></li><li><p>com.unity.render-pipelines.high-definition: <a href="https://docs.unity3d.com/Packages/com.unity.render-pipelines.high-definition@12.1//changelog/CHANGELOG.html">12.1.8</a> &amp;#x2192; <a href="https://docs.unity3d.com/Packages/com.unity.render-pipelines.high-definition@12.1//changelog/CHANGELOG.html">12.1.9</a></p></li><li><p>com.unity.render-pipelines.high-definition-config: <a href="https://docs.unity3d.com/Packages/com.unity.render-pipelines.high-definition-config@12.1//changelog/CHANGELOG.html">12.1.8</a> &amp;#x2192; <a href="https://docs.unity3d.com/Packages/com.unity.render-pipelines.high-definition-config@12.1//changelog/CHANGELOG.html">12.1.9</a></p></li><li><p>com.unity.render-pipelines.universal: <a href="https://docs.unity3d.com/Packages/com.unity.render-pipelines.universal@12.1//changelog/CHANGELOG.html">12.1.8</a> &amp;#x2192; <a href="https://docs.unity3d.com/Packages/com.unity.render-pipelines.universal@12.1//changelog/CHANGELOG.html">12.1.9</a></p></li><li><p>com.unity.services.authentication: <a href="https://docs.unity3d.com/Packages/com.unity.services.authentication@2.3//changelog/CHANGELOG.html">2.3.1</a> &amp;#x2192; <a href="https://docs.unity3d.com/Packages/com.unity.services.authentication@2.4//changelog/CHANGELOG.html">2.4.0</a></p></li><li><p>com.unity.services.cloudcode: <a href="https://docs.unity3d.com/Packages/com.unity.services.cloudcode@2.1//changelog/CHANGELOG.html">2.1.1</a> &amp;#x2192; <a href="https://docs.unity3d.com/Packages/com.unity.services.cloudcode@2.2//changelog/CHANGELOG.html">2.2.1</a></p></li><li><p>com.unity.services.core: <a href="https://docs.unity3d.com/Packages/com.unity.services.core@1.6//changelog/CHANGELOG.html">1.6.0</a> &amp;#x2192; <a href="https://docs.unity3d.com/Packages/com.unity.services.core@1.7//changelog/CHANGELOG.html">1.7.0</a></p></li><li><p>com.unity.shadergraph: <a href="https://docs.unity3d.com/Packages/com.unity.shadergraph@12.1//changelog/CHANGELOG.html">12.1.8</a> &amp;#x2192; <a href="https://docs.unity3d.com/Packages/com.unity.shadergraph@12.1//changelog/CHANGELOG.html">12.1.9</a></p></li><li><p>com.unity.visualeffectgraph: <a href="https://docs.unity3d.com/Packages/com.unity.visualeffectgraph@12.1//changelog/CHANGELOG.html">12.1.8</a> &amp;#x2192; <a href="https://docs.unity3d.com/Packages/com.unity.visualeffectgraph@12.1//changelog/CHANGELOG.html">12.1.9</a></p></li><li><p>com.unity.visualscripting: <a href="https://docs.unity3d.com/Packages/com.unity.visualscripting@1.7//changelog/CHANGELOG.html">1.7.8</a> &amp;#x2192; <a href="https://docs.unity3d.com/Packages/com.unity.visualscripting@1.8//changelog/CHANGELOG.html">1.8.0</a></p></li><li><p>com.unity.xr.core-utils: <a href="https://docs.unity3d.com/Packages/com.unity.xr.core-utils@2.0//changelog/CHANGELOG.html">2.0.0</a> &amp;#x2192; <a href="https://docs.unity3d.com/Packages/com.unity.xr.core-utils@2.0//changelog/CHANGELOG.html">2.0.1</a></p></li><li><p>com.unity.xr.interaction.toolkit: <a href="https://docs.unity3d.com/Packages/com.unity.xr.interaction.toolkit@2.0//changelog/CHANGELOG.html">2.0.4</a> &amp;#x2192; <a href="https://docs.unity3d.com/Packages/com.unity.xr.interaction.toolkit@2.2//changelog/CHANGELOG.html">2.2.0</a></p></li><li><p>com.unity.xr.openxr: <a href="https://docs.unity3d.com/Packages/com.unity.xr.openxr@1.5//changelog/CHANGELOG.html">1.5.3</a> &amp;#x2192; <a href="https://docs.unity3d.com/Packages/com.unity.xr.openxr@1.6//changelog/CHANGELOG.html">1.6.0</a></p></li><li><p>com.unity.formats.fbx: <a href="https://docs.unity3d.com/Packages/com.unity.formats.fbx@4.1//changelog/CHANGELOG.html">4.1.2</a> &amp;#x2192; <a href="https://docs.unity3d.com/Packages/com.unity.formats.fbx@4.1//changelog/CHANGELOG.html">4.1.3</a></p></li><li><p>com.autodesk.fbx: 4.1.1 &amp;#x2192; 4.1.2</p></li><li><p>com.unity.learn.iet-framework: <a href="https://docs.unity3d.com/Packages/com.unity.learn.iet-framework@2.2//changelog/CHANGELOG.html">2.2.2</a> &amp;#x2192; <a href="https://docs.unity3d.com/Packages/com.unity.learn.iet-framework@3.1//changelog/CHANGELOG.html">3.1.1</a></p></li><li><p>com.unity.learn.iet-framework.authoring: <a href="https://docs.unity3d.com/Packages/com.unity.learn.iet-framework.authoring@1.0//changelog/CHANGELOG.html">1.0.3</a> &amp;#x2192; <a href="https://docs.unity3d.com/Packages/com.unity.learn.iet-framework.authoring@1.2//changelog/CHANGELOG.html">1.2.1</a></p></li><li><p>com.unity.transport: <a href="https://docs.unity3d.com/Packages/com.unity.transport@1.3//changelog/CHANGELOG.html">1.3.0</a> &amp;#x2192; <a href="https://docs.unity3d.com/Packages/com.unity.transport@1.3//changelog/CHANGELOG.html">1.3.1</a></p></li></ul>