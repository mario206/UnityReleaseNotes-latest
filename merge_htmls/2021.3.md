### Known Issues in 2021.3.53f1

*   : Garbage Collector memory leak when allocating and deallocating memory in Web builds ([UUM-86352](https://issuetracker.unity3d.com/issues/garbage-collector-memory-leak-when-allocating-and-deallocating-memory-in-web-builds))
    
*   : Graphics.RenderMeshIndirect does not issue multi-draw rendering commands when using a graphics API capable of multi-draw commands ([UUM-91617](https://issuetracker.unity3d.com/issues/graphics-dot-rendermeshindirect-does-not-issue-multi-draw-rendering-commands-when-using-a-graphics-api-capable-of-multi-draw-commands))
    
*   : Increased Memory usage when Update Mode 'On Demand' Realtime lights are used and DX12 API is selected ([UUM-90065](https://issuetracker.unity3d.com/issues/increased-memory-usage-when-update-mode-on-demand-realtime-lights-are-used-and-dx12-api-is-selected))
    

### 2021.3.53f1 Release Notes

#### Changes

*   Build Pipeline: Build Pipeline: Allow building AssetBundles with both the DisableTypeTree and StripUnityVersion flags. Fix the ability to load these AssetBundles in the Runtime. ([UUM-102575](https://issuetracker.unity3d.com/issues/an-error-is-thrown-when-building-assetbundles-with-disablewritetypetree-and-stripunityversion-flags))
    
*   XR: Updated com.unity.xr.openxr package version to 1.15.0-pre.2.
    

#### Fixes

*   2D: Fixed normal map preview in Sprite Editor Window's Secondary Texture module. ([UUM-99022](https://issuetracker.unity3d.com/issues/normal-maps-are-rendered-differently-in-sprite-editor-when-compared-to-the-inspector-preview))
    
*   Android: Fixed AndroidJNI.ToBooleanArray not returning 0 when null. ([UUM-90092](https://issuetracker.unity3d.com/issues/android-androidjni-dot-tobooleanarray-returns-a-random-non-zero-value-instead-of-intptr-dot-zero-when-the-method-argument-is-null))
    
*   iOS: Fixed QualitySettings handling (when AA is involved) in Split View. ([UUM-61559](https://issuetracker.unity3d.com/issues/ios-game-view-resolution-is-altered-when-changing-between-quality-levels-that-have-a-different-anti-aliasing-setting-on-ipad-with-split-view-active))
    
*   Package Manager: Fixed an issue where installing a git package using Git LFS would not work with Git LFS 3.6.0 and higher. (UUM-91342)
    
*   Package Manager: Make GetPatckagesPath thread/serialization safe. (UUM-104998)

### Known Issues in 2021.3.52f1

*   DirectX12: Increased Memory usage when Update Mode 'On Demand' Realtime lights are used and DX12 API is selected ([UUM-90065](https://issuetracker.unity3d.com/issues/increased-memory-usage-when-update-mode-on-demand-realtime-lights-are-used-and-dx12-api-is-selected))
    
*   Graphics Device Features: Graphics.RenderMeshIndirect does not issue multi-draw rendering commands when using a graphics API capable of multi-draw commands ([UUM-91617](https://issuetracker.unity3d.com/issues/graphics-dot-rendermeshindirect-does-not-issue-multi-draw-rendering-commands-when-using-a-graphics-api-capable-of-multi-draw-commands))
    

### 2021.3.52f1 Release Notes

#### Improvements

*   Graphics: Improved CopyTexture documentation (warning about using Apply, mentions of the readability property, and general improvements).

#### Changes

*   XR: The Unity XR SDK is no longer available as we have focused our investments towards OpenXR.
    
*   XR: Updated com.unity.xr.openxr package version to 1.14.3.
    
*   XR: Updated com.unity.xr.openxr package version to 1.15.0-pre.1.
    

#### Fixes

*   2D: Fixed Sprite Editor Window settings text alignment in Preference Window. ([UUM-100716](https://issuetracker.unity3d.com/issues/misaligned-text-in-preferences-window-2d-animation-asperite-and-sprite-editor-preferences))
    
*   Android: Fixed gradle-wrapper.properties not getting updated when modifying Gradle path in "Preferences -> External Tools". (UUM-103233)
    
*   Editor: Fixed a crash when 0 vertex skinmesh. ([UUM-93061](https://issuetracker.unity3d.com/issues/crash-on-skinnedmeshrenderer-updateskinnedmeshes-when-interacting-with-the-editor-in-a-specific-scene))
    
*   Editor: Fixed a runtime crash when changing MSAA levels on OpenGL.
    
*   Editor: Fixed dropdown rendering problem when opening from the Prefab Overrides Comparison window. (UUM-97349)
    
*   Editor: Fixed freeze within cyclic compositions where internal depth limit was not being observed. ([UUM-49767](https://issuetracker.unity3d.com/issues/unity-freezes-when-opening-a-project))
    
*   Graphics: Fixed a crash when using legacy image effects with Metal stereo rendering (visionOS). (UUM-103020)
    
*   Graphics: Fixed the CustomRenderTexture Shader Properties array size warning. ([UUM-96096](https://issuetracker.unity3d.com/issues/property-exceeds-previous-array-size-2-vs-1-warnings-are-thrown-making-it-impossible-to-work-with-the-update-zones-of-the-customrendertexture-when-updating-the-script))
    
*   Graphics: Replaced costly WMI videocontroller query. (UUM-102971)
    
*   iOS: Changed Device.advertisingTrackingEnabled to report status from AppTrackingTransparency on iOS 14+. (UUM-101288)
    
*   License: Updated error message when the Editor is attempted to be launched without an xLTS entitlement. (UUM-103361)
    
*   Mono: Fixed Process.Start hangs on intel mac editors running on apple silicon. (UUM-101541)
    
*   Networking: Updated our version of MbedTLS to 3.6.3 to address possible security vulnerabilities. (UUM-103889)
    
*   Universal Windows Platform: Fixed audio playback when minimized, when Application.runInBackground is set to true. ([UUM-79675](https://issuetracker.unity3d.com/issues/audio-is-paused-when-the-player-is-minimized-and-application-dot-runinbackground-is-true))
    
*   Version Control: Fixed false positive error showing in console if creating a workspace from the Hub with a version of the Unity Editor shipping with a default Version Control package older than version 2.7.1.
    
*   Web: Corrected the name of the background image file in the output directory when using "Name Files as Hashes". ([UUM-96178](https://issuetracker.unity3d.com/issues/background-image-name-is-not-being-hashed-when-using-a-webgl-build-with-the-hashed-names-option))
    
*   XR: Fixed issue where Quest Link would fail when using DX12 and single pass rendering.

### Known Issues in 2021.3.51f1

*   DirectX12: Increased Memory usage when Update Mode 'On Demand' Realtime lights are used and DX12 API is selected ([UUM-90065](https://issuetracker.unity3d.com/issues/increased-memory-usage-when-update-mode-on-demand-realtime-lights-are-used-and-dx12-api-is-selected))
    
*   Graphics Device Features: Graphics.RenderMeshIndirect does not issue multi-draw rendering commands when using a graphics API capable of multi-draw commands ([UUM-91617](https://issuetracker.unity3d.com/issues/graphics-dot-rendermeshindirect-does-not-issue-multi-draw-rendering-commands-when-using-a-graphics-api-capable-of-multi-draw-commands))
    
*   Vulkan: Application crashes with Vulkan when restoring from background on Linux ([UUM-90287](https://issuetracker.unity3d.com/issues/vulkan-android-application-crashes-on-android-devices-with-vulkan-when-restoring-from-background))
    

### 2021.3.51f1 Release Notes

#### Improvements

*   Shadergraph: Removed duplicate LIGHTMAP\_ON and DIRLIGHTMAP\_COMBINED variants when generating shaders for builtin-deferred.
    
*   TLS: Updated our internal version of MbedTLS to version 3.6. This version brings new and improved security features to network communications in the engine, but also means that unsecure and deprecated protocols are now unsupported. Notably, support for TLS 1.0 and 1.1 was removed.
    

#### Changes

*   Android: Added Android SDK 36 support.
    
*   Android: Predictive Back Support is now enabled by default on new projects.
    
*   XR: Updated com.unity.xr.openxr package version to 1.14.2.
    

#### Fixes

*   2D: Fixed missing fog parameters in sprite subtargets. ([UUM-85456](https://issuetracker.unity3d.com/issues/fog-density-value-is-not-returned-when-using-the-fog-node-in-a-sprite-shader-graph))
    
*   Android: Fixed an issue where StartActivityIndicator is displayed outside of safe area. (UUM-82238)
    
*   Android: Fixed an issue where the AndroidActivityIndicatorStyle enum did not change. (UUM-79911)
    
*   Android: Fixed an issue where the Player lost focus when UnityEngine.Handheld.StartActivityIndicator() was used with the Facebook SDK. ([UUM-87564](https://issuetracker.unity3d.com/issues/android-the-player-loses-focus-when-using-unityengine-dot-handheld-dot-startactivityindicator-with-facebook-sdk))
    
*   Android: Fixed dialog input field not getting dismissed after back gesture. (UUM-99637)
    
*   Asset Pipeline: Fixed problem with main thread potentially being blocked, while doing async asset loads. ([UUM-95528](https://issuetracker.unity3d.com/issues/loading-animations-are-hitching-or-stopping-when-using-scenemanager-dot-loadsceneasync-to-load-new-scenes))
    
*   Editor: Changed made to Static Emissives in Light Explorer do not add to Undo History. ([UUM-83357](https://issuetracker.unity3d.com/issues/changes-made-to-static-emissives-in-light-explorer-do-not-add-to-undo-history))
    
*   Editor: Fixed an issue where the Device Simulator's scale would not persist when maximizing then minimizing another window. ([UUM-78562](https://issuetracker.unity3d.com/issues/the-simulator-tab-scale-is-reset-when-using-double-click-to-maximize-and-then-shrink-another-window))
    
*   Editor: Fixed crash when class id in scene file does not match expected type e.g. Component as GameObject. ([UUM-91352](https://issuetracker.unity3d.com/issues/crash-on-malloc-internal-when-opening-a-project-after-reloading-a-scene))
    
*   Editor: Fixed the `EditorStyles.whiteBoldLabel` style so the text is white. ([UUM-84114](https://issuetracker.unity3d.com/issues/editorguilayout-dot-labelfield-displays-black-text-when-the-editorstyles-dot-whiteboldlabel-parameter-is-passed-in))
    
*   Graphics: Fixed ScalableBufferManager.ResizeBuffers not working with MSAA RTs. ([UUM-24634](https://issuetracker.unity3d.com/issues/ios-game-view-becomes-black-or-pink-when-using-scalablebuffermanager-dot-resizebuffers-with-msaa))
    
*   iOS: Fixed soft keyboard Done/Cancel buttons truncating (to "...") in languages like Korean due to decimal font width. ([UUM-97527](https://issuetracker.unity3d.com/issues/ios-hwagin-done-and-cwiso-cancel-text-is-displayed-as-dot-dot-dot-in-the-on-screen-keyboard-when-the-system-preferred-language-is-set-to-korean))
    
*   UI Elements: Updated the pointer counter logic for collection views. ([UUM-82931](https://issuetracker.unity3d.com/issues/android-itemschosen-event-is-not-triggered-when-double-clicking-an-item-in-treeview-on-specific-devices))
    
*   Windows: Fixed monitor handle association with the display details, for all resolutions. ([UUM-78860](https://issuetracker.unity3d.com/issues/screen-api-breaks-when-setting-resolution-below-1280x720-in-an-exclusive-fullscreen-player-on-a-specific-monitor))

### Known Issues in 2021.3.50f1

*   DirectX12: Increased Memory usage when Update Mode 'On Demand' Realtime lights are used and DX12 API is selected ([UUM-90065](https://issuetracker.unity3d.com/issues/increased-memory-usage-when-update-mode-on-demand-realtime-lights-are-used-and-dx12-api-is-selected))
    
*   Input: Touch Input is not registered correctly when using multiple displays ([UUM-99077](https://issuetracker.unity3d.com/issues/touch-input-is-not-registered-correctly-when-using-multiple-displays))
    
*   Vulkan: Application crashes with Vulkan when restoring from background on Linux ([UUM-90287](https://issuetracker.unity3d.com/issues/vulkan-android-application-crashes-on-android-devices-with-vulkan-when-restoring-from-background))
    

### 2021.3.50f1 Release Notes

#### Features

*   Version Control: You can now create a code review from the list of branches (or changesets) opening either the Desktop App or the Unity Cloud website.
    
*   Version Control: You can now Shelve your Pending Changes when switching to another branch (or changeset) and decide if you want to apply them automatically after the switch.
    
*   Version Control: You can now Shelve your selected Pending Changes, inspect the shelves content, and apply them to your workspace.
    

#### API Changes

*   iOS: Added: Added iPhone 16e device generation enums and screen cutouts.

#### Changes

*   Version Control: Added dedicated toolbar buttons to open the list of branches and the Branch Explorer of the Desktop App.
    
*   Version Control: Improved the Create workspace window to suggest the matching Unity Cloud project if it exists.
    
*   Version Control: Moved the 'Unity Version Control' menu item under 'Window'/'Version Control' submenu starting from Unity 6.1.
    
*   Version Control: Optimized incoming changes & merge to only reload the Package Manager when needed.
    
*   Version Control: Reworded the changeset context menu "Undo this change" to "Revert this file to the previous revision" so it's more explicit.
    
*   Version Control: Serialize the Checkin comment and tick selection so they are kept on any domain reload and play mode.
    
*   XR: Updated com.unity.xr.openxr version to 1.14.1.
    

#### Fixes

*   2D: Fixed camera sorting layer not breaking batch correctly for URP 2D. ([UUM-90792](https://issuetracker.unity3d.com/issues/normals-from-other-sorting-layers-are-passed-to-camerasortinglayertexture-when-2d-light-is-used))
    
*   2D: Fixed sprite instancing with 2d shaders. ([UUM-87636](https://issuetracker.unity3d.com/issues/graphics-dot-drawmeshinstanced-does-not-work-when-2d-renderer-and-2d-shaders-are-used))
    
*   2D: Fixed warning 'GetControlID at event ValidateCommand returns a controlID different from the one in the Layout event' is logged when undoing the deletion of an Edited Freeform 2D Light. ([UUM-90726](https://issuetracker.unity3d.com/issues/warning-getcontrolid-at-event-validatecommand-returns-a-controlid-different-from-the-one-in-the-layout-event-is-logged-when-undoing-the-deletion-of-an-edited-freeform-2d-light))
    
*   Android: Fixed builds when having incompatible cmdline-tools version (higher than `10.0`). (UUM-96041)
    
*   Android: Fixed the problem with additional streaming assets (added using BuildPlayerContext.AddAdditionalPathToStreamingAssets) being compressed in APK/AAB. (UUM-96090)
    
*   Asset Import: Handle FBX Skeleton with unsupported RootNode. ([UUM-62869](https://issuetracker.unity3d.com/issues/crash-on-gameobject-querycomponentbytype-when-an-fbx-file-gets-imported))
    
*   Editor: Added shared parameter indicator "\*" to the name "Use incremental GC". ([UUM-86940](https://issuetracker.unity3d.com/issues/use-incremental-gc-is-a-shared-parameter-but-not-identified-as-one-with-a-star-when-displayed-in-the-player-settings))
    
*   Editor: Disabled splatmaps for shadows-only terrain. ([UUM-79364](https://issuetracker.unity3d.com/issues/the-terrain-itself-with-layer-5-or-up-is-visible-when-the-in-terrain-settings-cast-shadows-is-set-to-shadows-only))
    
*   Editor: Fixed graphics jobs toggle in projects settings when building for standalone targets. ([UUM-91713](https://issuetracker.unity3d.com/issues/graphics-jobs-toggle-in-project-settings-is-ignored-when-building-for-different-standalone-targets))
    
*   Editor: Fixed offscreen rendering flags to be added only when the "Offscreen Rendering (Vulkan)" OpenXR UI setting is enabled. ([OXRB-358](https://issuetracker.unity3d.com/issues/mobile-the-player-displays-a-black-screen-when-the-openxr-is-used-as-the-plug-in-provider))
    
*   Editor: Fixed to dylib files to appear in Xcode project for iOS/tvOS/visionOS. ([UUM-72675](https://issuetracker.unity3d.com/issues/ios-appletv-dylib-plugin-is-not-visible-in-the-xcode-but-is-added-in-the-project-folder))
    
*   Editor: Warning about uncompressed atlas should only appear when there are compressed and uncompressed textures in the atlas. Also improve the text clarity. ([UUM-91216](https://issuetracker.unity3d.com/issues/a-warning-is-displayed-in-the-inspector-when-a-mesh-with-any-material-is-added-as-a-terrain-detail))
    
*   Mobile: Fixed user certificates included in the app by default. ([UUM-97194](https://issuetracker.unity3d.com/issues/android-ios-unitywebrequest-requests-with-unitywebrequest-are-open-for-ssl-proxying))
    
*   Scripting: Fixed play state change callback not being invoked when domain reload forces playmode exit. ([UUM-85334](https://issuetracker.unity3d.com/issues/playmodestatechange-dot-exitingplaymode-is-not-logged-when-play-mode-is-exited-due-to-recompilation))
    
*   Shadergraph: Fixed the generation of new artifact ID of ShaderGraph on every reimport. ([UUM-86662](https://issuetracker.unity3d.com/issues/a-different-artifact-is-produced-every-time-when-importing-a-shadergraph-asset))
    
*   UI Toolkit: Changed editor PopupField style to match IMGUI and have the same height as other fields. ([UUM-81522](https://issuetracker.unity3d.com/issues/ui-toolkit-popupfields-are-19px-when-all-the-other-fields-are-18px))
    
*   Version Control: Ensured ignore.conf is not being reformatted when adding or removing an ignore rule, so it keeps empty lines and comments.
    
*   Version Control: Fixed a performance issue by preventing the ConfigureLogging call on every domain reload when Unity Version Control is not used, reducing the load time by ~200ms.
    
*   Version Control: Fixed console error GUI Error: Invalid GUILayout state in PlasticWindow view which is caused under some circumstances.
    
*   Version Control: Fixed lock statuses to correctly refresh in Project View and Inspector after merging.
    
*   Version Control: Fixed missing checked-out for renamed assets.
    
*   Version Control: Fixed null exception on entering in Play Mode before creating the workspace.
    
*   Version Control: Fixed rename asset leaves 'Added' + 'Remove locally' status instead of 'Moved'.
    
*   Version Control: Fixed the create branch operation to work in Gluon mode which uses partial workspaces.
    
*   Version Control: When modifying the mergespecfile.tx to use Beyond Compare, it continues to fall back to FileMerge. ([UUM-91595](https://issuetracker.unity3d.com/issues/unityyamlmerge-does-not-open-fallback-merge-tool-when-encountering-merge-conflicts))
    
*   Web: Fixed bug where calling RequestUserAuthorization(UserAuthorization.Microphone) in the Web player would prompt the user for webcam permissions instead of microphone permissions. The microphone API is not yet supported in Web, so a warning message has been added to inform developers of this limitation. ([UUM-75678](https://issuetracker.unity3d.com/issues/webcam-permissions-are-asked-instead-of-microphone-permissions-when-using-requestuserauthorization-userauthorization-dot-microphone-in-the-webgl-player))
    
*   Windows: Fixed issue with Windows Player was not calling wide character functions for DispatchMessageW, PeekMessageW, GetMessageW. ([UUM-90999](https://issuetracker.unity3d.com/issues/windows-unicode-custom-text-input-window-shows-question-marks-when-inserting-an-emoji))
    
*   XR: Updated XR Interaction Toolkit (com.unity.xr.interaction.toolkit) to version 2.6.4.

### 2021.3.49f1 Release Notes

#### Improvements

*   Documentation: Added a copy button to code examples in the documentation.

#### Fixes

*   Android: Allow build and run to work correctly when exporting an app bundle project. (UUM-91102)
    
*   Audio: Fixed a bug that would cause the audio to not resume properly after unpausing a timeline. ([UUM-91654](https://issuetracker.unity3d.com/issues/audio-does-not-resume-playing-in-timeline-when-timescale-is-set-to-0-and-back-to-1-after-the-remainder-of-the-audio-has-passed-in-real-time))
    
*   Editor: Do not accumulate vertical/horizontal scroll deltas for IMGUI events being triggered from native code. (UUM-79079)
    
*   Editor: Editor exits Play mode when another project is being created. ([UUM-68141](https://issuetracker.unity3d.com/issues/editor-exits-play-mode-when-another-project-is-being-created-using-unity-hub-3-dot-8-0-beta-dot-1))
    
*   Editor: Fixed a bug where using a render pipeline asset extending `UniversalRenderpipelineAsset` or its HDRP equivalent resulted in significantly longer build times. ([UUM-73223](https://issuetracker.unity3d.com/issues/shaders-are-not-being-striped-and-build-times-increase-when-using-a-custom-subclass-of-universalrenderpipelineasset))
    
*   Editor: Fixed an error that caused terrain layer map corruption and console errors when painting with a global mipmap limit set. ([UUM-55985](https://issuetracker.unity3d.com/issues/terrain-layers-are-drawn-as-black-rectangular-splotches-on-a-terrain-when-the-terrain-splatmap-mip-levels-in-the-editor-and-on-the-gpu-are-mismatched-due-to-the-global-mipmap-limit-being-set-to-any-option-less-than-full-resolution))
    
*   Editor: Fixed an issue on Windows where closing a Utility window with the Escape key would not prompt the user about saving or discarding unsaved changes. ([UUM-71291](https://issuetracker.unity3d.com/issues/pop-up-to-save-unsaved-changes-does-not-appear-when-closing-a-custom-editor-window-using-esc-key))
    
*   Editor: Fixed crash when adding "MudBun" renderer. ([UUM-78781](https://issuetracker.unity3d.com/issues/crash-on-gfxdeviced3d11base-drawbuffersindirect-when-adding-mudbun-renderer))
    
*   Editor: Fixed editor crash when a null object is passed in to EnsureUniqueSiblingName. ([UUM-91927](https://issuetracker.unity3d.com/issues/crash-on-ensureuniquesiblingname-when-calling-gameobjectutility-dot-ensureuniquenameforsibling-with-a-null-argument))
    
*   Editor: Fixed GizmoType.NotInSelectionHierarchy gizmos not being restored on deselect. ([UUM-72297](https://issuetracker.unity3d.com/issues/gizmotype-dot-inselectionhierarchy-not-detected-correctly-when-nonselected-or-notinselectionhierarchy-is-defined))
    
*   Editor: Fixed issue where the Gizmos and Layers menu opens and then closes and immediately reopens when you click the dropdown. ([UUM-91078](https://issuetracker.unity3d.com/issues/inconsistent-menu-behaviors-when-clicking-on-the-gizmo-menu-button-a-second-time))
    
*   Editor: Fixed the selected marker on the timeline being offset incorrectly when zoomed out. ([UUM-55366](https://issuetracker.unity3d.com/issues/the-marker-highlight-is-offset-when-zooming-out-in-the-profiler-timeline))
    
*   Graphics: Fixed the rendered color of the preset differs from the preview color when adding a new swatch in the HDR Color Picker. ([UUM-86724](https://issuetracker.unity3d.com/issues/the-rendered-color-of-the-preset-differs-from-the-preview-color-when-adding-a-new-swatch-in-the-hdr-color-picker))
    
*   HDRP: Fixed an issue where the padding in the Lighting window was different between tabs. ([UUM-83840](https://issuetracker.unity3d.com/issues/lighting-window-has-a-different-padding-in-tabs))
    
*   HDRP: Fixed black line artifacts on top of the screen with DRS and downsampled SSAO. ([UUM-69425](https://issuetracker.unity3d.com/issues/artifacts-are-seen-in-the-game-view-when-setting-dlss-custom-quality-mode-to-ultra-performance-and-using-the-qhd-resolution-in-play-mode))
    
*   HDRP: Fixed HDRP sky rendering when Camera Relative Rendering is disabled. ([UUM-90251](https://issuetracker.unity3d.com/issues/sky-does-not-get-rendered-when-camerarelativerendering-is-disabled))
    
*   IL2CPP: Removed the html report. This fixes a UnityLinker crash when `--enable-report` is used on a large project. ([UUM-95599](https://issuetracker.unity3d.com/issues/unitylinker-causes-crash-when-outputting-snapshot-data-for-very-large-projects))
    
*   Linux: Fixed assertion failure on ExFAT File systems when "Build and Run" is executed. ([UUM-91555](https://issuetracker.unity3d.com/issues/linux-assertion-failed-on-expression-success-and-and-actual-equals-equals-size-error-is-thrown-when-building-project-to-another-partition-with-a-different-file-system))
    
*   Package Manager: Fixed crash when package contains a dependency with null version in the package manifest. ([UUM-64442](https://issuetracker.unity3d.com/issues/crash-on-stackwalker-getcurrentcallstack-when-opening-a-specific-project))
    
*   Package Manager: Fixed the issue where selecting an organization with spaces in its name in the inspector caused validation errors and won't let save changes. Organization names are now automatically sanitized to remove spaces. (UUM-79730)
    
*   Package Manager: Packages installed on external `FAT32/exFAT` drives should not fail when the `mtime` is outside of the supported range. ([UUM-86351](https://issuetracker.unity3d.com/issues/unable-to-install-probuilder-package-when-project-is-located-in-an-external-fat32-slash-exfat-drive))
    
*   Scripting: Fixed pool cleanup on entering playmode with domain reload disabled. ([UUM-90313](https://issuetracker.unity3d.com/issues/object-pools-do-not-reset-when-re-entering-the-play-mode-with-reload-domain-disabled))
    
*   Shaders: Fixed a situation where some shaders would appear to cause an internal communcations error with the shader compiler. ([UUM-72852](https://issuetracker.unity3d.com/issues/linux-shader-communication-error-gets-thrown-when-opening-the-project-which-is-using-bruteforce-shader))
    
*   Shaders: Fixed corrupted shader property name after loading an asset bundle. ([UUM-59309](https://issuetracker.unity3d.com/issues/isbuiltin-method-skips-new-index-generation-when-called-in-a-different-order))
    
*   Terrain: Fixed bug in which grass details always used the default rendering layer mask. ([UUM-91894](https://issuetracker.unity3d.com/issues/light-is-not-applied-properly-to-terrain-details-when-using-light-layers))
    
*   Terrain: Terrain Detail objects are not rendered in the build when the Terrain is generated at runtime. ([UUM-62407](https://issuetracker.unity3d.com/issues/terrain-detail-objects-are-not-rendered-in-the-build-when-the-terrain-is-generated-at-runtime))
    
*   Universal RP: Fixed Implicit truncation of vector type shader warning. ([UUM-87081](https://issuetracker.unity3d.com/issues/shader-warning-in-universal-render-pipeline-slash-particles-slash-simple-lit-implicit-truncation-of-vector-type-warning-is-thrown-after-building-the-project))
    
*   Universal RP: Fixed light cookie texture memory leak when entering Playmode. ([UUM-92512](https://issuetracker.unity3d.com/issues/lights-with-cookies-generate-cookie-atlas-and-increase-memory-usage-every-time-when-play-mode-is-entered))
    
*   Video: Resolve issue where VideoClip importer incorrectly caches failed import results on the cache server. (UUM-77249)
    
*   Web: Fixed a bug where users could not successfully set the webcam resolution on the Web platform. ([UUM-87702](https://issuetracker.unity3d.com/issues/webcamtexture-does-not-set-the-requested-resolution-when-used-in-webgl))
    
*   XR: Updated XR Legacy Input Helpers (com.unity.xr.legacyinputhelpers) to version 2.1.12.

### Known Issues in 2021.3.48f1

*   Asset - Database: Crash on GetAssetCachedInfoV2 when opening a project ([UUM-14959](https://issuetracker.unity3d.com/issues/crash-on-getassetcachedinfov2-when-opening-a-project))

### 2021.3.48f1 Release Notes

#### Improvements

*   Tests: Replaced the RecipeEngine.Modules.UnityCI dependency with UnityCI.Common.

#### Fixes

*   2D: Fixed a sorting issue when a lower sorted mesh in a chunk are unable to fit in lower sorted Tile due to vertex or index limit, but are able to fit in a future higher sorted Tile. ([UUM-86981](https://issuetracker.unity3d.com/issues/isometric-tiles-are-flickering-and-overlapping-each-other-when-entering-play-mode-with-tilemap-renderer-mode-set-to-chunk))
    
*   Android: Added dotnet webrequest feature for auto internet access permission. ([UUM-83355](https://issuetracker.unity3d.com/issues/android-error-nameresolutionfailure-when-internet-access-is-set-to-auto))
    
*   Android: Added support for 16KB page sizes.
    
*   Android: Bump Android Logcat Package to 1.4.4.
    
*   Android: Fixed Android 15 keyboard Edit Field overlapping into cutoff area. ([UUM-77367](https://issuetracker.unity3d.com/issues/android-while-in-landscape-orientation-the-mobile-input-is-bigger-than-the-keyboard-when-building-for-android-15-beta-device))
    
*   Android: Fixed issue where user installed certificates directly to an Android device wouldn't show up in the trusted\_ca list. ([UUM-73839](https://issuetracker.unity3d.com/issues/android-error-curl-error-60-cert-verify-failed-certificate-is-not-correctly-signed-by-a-trusted-ca-unitytls-error-code-7-when-using-unitywebrequest-to-connect-to-the-server-with-a-self-signed-certificate))
    
*   Android: Updated BundleTool to version 1.17.2. (UUM-90609)
    
*   Asset Import: Fixed FBX import errors when importing models using the IndexToDirect format for normals. (UUM-74806)
    
*   Audio: Fixed the 3D audio pan where right audio channel is completely cutoff at specific position. ([UUM-82903](https://issuetracker.unity3d.com/issues/the-right-audio-channel-completely-cuts-out-in-a-specific-position-with-the-3d-audio-when-the-audio-should-be-playing-from-both-speaker-in-that-position))
    
*   Editor: Fixed CPU architecture in the plugin inspector resetting after applying changes. ([UUM-91926](https://issuetracker.unity3d.com/issues/changes-are-not-applied-when-selecting-platform-settings-for-plugins))
    
*   Editor: Fixed CPU architecture in the plugin inspector resetting after applying changes. ([UUM-91926](https://issuetracker.unity3d.com/issues/changes-are-not-applied-when-selecting-platform-settings-for-plugins))
    
*   Editor: Fixed the issue where licensing modals was printing an error message in Editor console:  
    "Layout update is struggling to process current layout". (UUM-86833)
    
*   Graphics: Fixed a crash when importing a 16K normal map texture from gray scale. ([UUM-79322](https://issuetracker.unity3d.com/issues/crash-on-miniheightmap-extractnormalmap-00-when-16k-map-size-is-applied-with-create-from-grayscale-enabled))
    
*   Graphics: Graphics: r8\_srgb is now (correctly) marked as unsupported on intel mac.
    
*   HDRP: Added clamp to HairAngleWorld to prevent nan from FastASin. ([UUM-72279](https://issuetracker.unity3d.com/issues/the-scene-view-flickers-when-moving-around-if-there-are-visible-hair-shaders))
    
*   HDRP: Fixed an issue where cascade shadows and distance shadowmask were not blended properly. ([UUM-78038](https://issuetracker.unity3d.com/issues/theres-a-gap-between-the-last-cascade-and-the-baked-shadow-map-when-distance-shadowmasks-are-enabled))
    
*   HDRP: Fixed wrong SSR when using a shader graph with a clear coat value of 0. ([UUM-84980](https://issuetracker.unity3d.com/issues/hdrp-clear-coat-materials-produce-screen-space-reflections-when-the-clear-coat-value-is-0-in-forward-only-lit-shader-mode))
    
*   IL2CPP: Fixed fields of field types on serialized types being stripped in some cases. (UUM-90024)
    
*   iOS: Fixed WebCamDevice.availableResolutions returning \[0;0\] on some devices. ([UUM-87792](https://issuetracker.unity3d.com/issues/ios-webcamdevice-dot-availableresolutions-returns-a-single-resolution-with-width-and-height-both-0-on-some-ios-devices))
    
*   Linux: Fixed Input.mouseScrollDelta which could be inconsistent depending on the framerate. ([UUM-88049](https://issuetracker.unity3d.com/issues/linux-input-dot-mousescrolldelta-is-inconsistent-when-limiting-framerate))
    
*   Mono: Added support for 16kb page sizes.
    
*   Mono: Changed to prevent crash for MONO\_TYPE\_FNPTR cases in mono\_field\_get\_value\_object\_checked. ([UUM-79025](https://issuetracker.unity3d.com/issues/crash-on-raiseexception-when-using-the-default-equals-object-implementation-in-a-value-type-containing-a-function-pointer))
    
*   Package Manager: Switch project when importing a full project asset package is fixed for mac users. ([UUM-87430](https://issuetracker.unity3d.com/issues/macos-switching-project-functionality-when-importing-a-complete-project-is-broken))
    
*   Profiler: Fixed "System Used Memory" counter on Android potentially returning a value in Bytes instead of MB.
    
*   Scripting: Fixed RuntimeInitializeOnLoad invoking the wrong method overload. ([UUM-53659](https://issuetracker.unity3d.com/issues/method-ran-with-runtimeinitializeonload-is-executed-last-when-running-an-overload-of-the-method-and-declaring-it-above-the-runtimeinitializeonload-method))
    
*   Shadergraph: Fixed Shader warnings in URP ShaderGraph when using the Normal From Texture node. ([UUM-90053](https://issuetracker.unity3d.com/issues/shader-warnings-in-urp-shadergraph-when-using-the-normal-from-texture-node))
    
*   Terrain: Changed to use hierarchical transform for tree representation matrix. ([UUM-78866](https://issuetracker.unity3d.com/issues/shadows-of-trees-painted-on-the-terrain-are-incorrectly-placed-when-the-lighting-is-baked))
    
*   uGUI: Fixed incorrect sorting when viewing nested canvases in prefab mode. ([UUM-86544](https://issuetracker.unity3d.com/issues/nested-canvases-do-not-inherit-sorting-layer-of-parent-when-viewed-in-prefab-mode))
    
*   UI Toolkit: Fixed layout issues that sometimes occurred between scene changes. ([UUM-87950](https://issuetracker.unity3d.com/issues/ui-elements-shrinking-misaligned-buttons-swapped-icons-or-incorrect-styles-when-rapidly-cycling-through-scenes-in-the-player))
    
*   Universal RP: Universal RP: Fixed an issue where Camera view is not rendered on PowerVR Rogue GE8320 GPU'S if Shadows are enabled in URP Asset and Camera stack contains Overlay Camera's. ([UUM-82949](https://issuetracker.unity3d.com/issues/camera-view-is-not-rendered-on-powervr-rogue-ge8320-gpus-if-shadows-are-enabled-in-urp-asset-and-camera-stack-contains-overlay-cameras))
    
*   Version Control: By default, the additional line breaks are not getting added to asset files when merging with UnityYAMLMerge with an extra option for user to get the line breaks. ([UUM-72934](https://issuetracker.unity3d.com/issues/additional-line-breaks-are-added-to-asset-files-when-merging-with-unityyamlmerge))
    
*   Web: Fixed the mouse scrolling sensitivity in Web. ([UUM-84978](https://issuetracker.unity3d.com/issues/scrolling-on-a-default-scrollview-in-a-webgl-build-is-too-sensitive-when-compared-to-other-platform-builds-and-the-editor))
    
*   XR: Fixed tracking origin mode validation logic. (UUM-90392)

### Known Issues in 2021.3.47f1

*   Asset - Database: Crash on GetAssetCachedInfoV2 when opening a project ([UUM-14959](https://issuetracker.unity3d.com/issues/crash-on-getassetcachedinfov2-when-opening-a-project))
    
*   Input: Crash on InputDeviceIOCTL when closing Unity editor ([UUM-10774](https://issuetracker.unity3d.com/issues/crash-on-inputdeviceioctl-when-closing-unity-editor))
    
*   Vulkan: \[Android\] Particles not rendered in the Player on some Android devices with Android 14 ([UUM-68080](https://issuetracker.unity3d.com/issues/android-particles-not-rendered-in-the-player-on-some-android-devices-with-android-14))
    

### 2021.3.47f1 Release Notes

#### Features

*   Version Control: Added an menu entry to 'Open in Unity Cloud' showing the repository in the Unity Dashboard.
    
*   Version Control: Added copy path & history context menu actions in all menus where they apply.
    
*   Version Control: Added diff and merge settings in Project Settings -> Version Control -> Unity Version Control Settings.
    
*   Version Control: Added file conflict & dir conflict context menu actions to the merge view.
    
*   Version Control: Added merge options dialog to the merge view.
    
*   Version Control: Added the ability to merge a branch or a changeset, using a new context menu actions.
    

#### Changes

*   Version Control: Automatically add UnityDirMonSyncFile rule for existing ignore.conf to avoid triggering unnecessary finding changes operation.
    
*   Version Control: Improved the "search" edit box so it can resize when there is not enough space in the toolbar.
    
*   Version Control: Optimized incoming changes to only reload the Package Manager when needed (Gluon/partial workspace only for now).
    
*   Version Control: Optimized switching operations to only triggers the Package Manager to reinstall packages when needed.
    
*   Version Control: Removed from the public documentation all internal APIs that were previously visible by mistake.
    
*   Version Control: Removed support for migrating old Collaborate workspaces to Unity Version Control.
    
*   Version Control: Replaced the "D" DevOps icon by the branching icon used in the Hub.
    
*   Version Control: Replaced the logo of Unity in the Sign in to Unity VCS window.
    
*   Version Control: Updated the minimum supported version to Unity 2021.3.0f1.
    
*   XR: Updated xr.sdk.openxr package version to 1.13.1.
    
*   XR: Updated xr.sdk.openxr package version to 1.13.2.
    

#### Fixes

*   2D: Fixed Sprite broken Sprite references in TextureImporter when SpriteRect are defined outside of it's texture. (UUM-84276)
    
*   Documentation: Updated ScriptableObject and ScriptableSingleton documentation. ([UUM-84568](https://issuetracker.unity3d.com/issues/you-may-not-pass-in-objects-that-are-already-persistent-error-is-thrown-when-calling-save-on-scriptablesingleton-inside-onvalidate))
    
*   Editor: Export window maintains initial selection after selecting different items in the Project Browser. (UUM-82656)
    
*   Editor: Fixed an issue where horizontal scrolling would not work when using a trackpad gesture. ([UUM-84867](https://issuetracker.unity3d.com/issues/light-explorer-window-cant-be-scrolled-horizontally-by-using-a-trackpad-gesture-when-there-is-no-vertical-scrollbar))
    
*   Editor: Fixed bug where .meta files were copied to .xcframework folders in iOS builds. ([UUM-79113](https://issuetracker.unity3d.com/issues/ios-meta-files-within-a-xcframework-are-included-in-a-build))
    
*   Editor: Fixed for Linux crash on right click in the middle of a window drag. ([UUM-82814](https://issuetracker.unity3d.com/issues/linux-crash-on-containerwindow-togglemaximize-when-clicking-rmb-while-moving-window-inside-the-editor))
    
*   Editor: Fixed issues with world space canvases rendered in offscreen cameras when in play mode and with a user defined application target frame rate. These could display flickering with transparent canvas UI components or ghosting for moving components. ([UUM-86486](https://issuetracker.unity3d.com/issues/objects-flickering-in-play-mode-when-using-rendertexture-with-canvas))
    
*   Editor: Fixed null ref exception when trying to maximize a pop-up window. ([UUM-76218](https://issuetracker.unity3d.com/issues/nullreferenceexception-is-thrown-when-trying-to-maximize-view-in-anchor-presets-menu))
    
*   Editor: Fixed some settings Asset icons that were missing in the selection window. ([UUM-83464](https://issuetracker.unity3d.com/issues/lighting-settings-asset-icon-is-missing-in-the-selection-window))
    
*   Editor: Fixed where the asset icon selected in the Object Selector not initially showing up. ([UUM-83464](https://issuetracker.unity3d.com/issues/lighting-settings-asset-icon-is-missing-in-the-selection-window))
    
*   Editor: Updated 7-Zip to 24.09.
    
*   Graphics: Android Vulkan: Add transient usage flag while creating image even if lazily allocated memory is not available on the device. ([UUM-71363](https://issuetracker.unity3d.com/issues/android-vulkan-vk-image-usage-transient-attachment-bit-not-added-on-some-android-devices-in-com-dot-unity3d-dot-player-dot-unityplayeractivity-slash-2d-colour-attachement))
    
*   Graphics: Fixed a problem with Texture Streaming where a material could remain blurry and not streamed in for an undefined amount of time. ([UUM-73384](https://issuetracker.unity3d.com/issues/the-material-variant-is-rendered-blurry-after-reopening-unity-when-the-mipmap-streaming-is-enabled))
    
*   Graphics: Fixed an issue where "glClientWaitSync: Expected application to have kicked everything until job" error is spammed when disabling Raw Image. ([UUM-35986](https://issuetracker.unity3d.com/issues/android-opengl-glclientwaitsync-expected-application-to-have-kicked-everything-until-job-error-is-spammed-when-disabling-raw-image))
    
*   Graphics: Fixed cases where drawing line primitives would draw triangles instead. ([UUM-66524](https://issuetracker.unity3d.com/issues/graphics-dot-renderprimitives-with-meshtopology-dot-lines-renders-triangles-when-the-shader-has-a-variable-with-position-semantic))
    
*   iOS: Fixed plugin framework folders showing up red in exported iOS Xcode project. (UUM-84687)
    
*   Mono: Fixed crash when mixed callstack debugging was enabled on non-windows platforms. ([UUM-16791](https://issuetracker.unity3d.com/issues/editor-crashes-on-startup-when-mixed-callstacks-diagnostics-switch-is-enabled))
    
*   Package Manager: Fixed the issue where quick start button does not link to the document page for the current unity version. ([UUM-78210](https://issuetracker.unity3d.com/issues/quickstart-buttons-for-unity-registry-feature-sets-links-to-outdated-documentation))
    
*   Scripting: Fixed early player loop overrides being reset to default when initialization is fully done. ([UUM-57619](https://issuetracker.unity3d.com/issues/playerloop-dot-setplayerloop-function-is-ignored-when-playing-game-in-player))
    
*   Scripting: Fixed Update being called after the script is disabled in Start. ([UUM-72366](https://issuetracker.unity3d.com/issues/the-update-method-gets-called-on-a-disabled-script-when-added-and-disabled-during-runtime))
    
*   Shadergraph: Fixed so that pasting an empty group positions it based on the cursor's location. (UUM-76254)
    
*   Shaders: Fixed shader compiler crashing when encountering a kernel directive without a provided name. ([UUM-85898](https://issuetracker.unity3d.com/issues/internal-shader-error-is-shown-when-a-corrupted-shader-is-imported))
    
*   SpeedTree: Fixed an issue where undo was not possible when the branch was rotated. ([UUM-82599](https://issuetracker.unity3d.com/issues/branch-rotation-cant-be-undone))
    
*   UI Toolkit: UI Builder can now be open during a package reimport. ([UUM-77727](https://issuetracker.unity3d.com/issues/errors-are-thrown-when-using-the-at-import-directive-in-uss-files))
    
*   URP: Fixed sorting the Reflection Probe by resolution. ([UUM-83862](https://issuetracker.unity3d.com/issues/error-type-is-not-a-enum-value-logged-when-ordering-reflection-probes-by-resolution-in-light-explorer))
    
*   Version Control: Added a warning message to inform users about mismatching cloud project.
    
*   Version Control: Fixed a crash in the create workspace window when unable to resolve a @unity organization.
    
*   Version Control: Fixed files getting checked out even though they are in hidden\_changes.conf.
    
*   Version Control: Fixed incoming changes view that was not kept as selected after resolving some conflicts.
    
*   Version Control: Fixed link to invite members in Unity Cloud.
    
*   Version Control: Fixed manual login to Cloud that didn't work with an Enterprise installation.
    
*   Version Control: Fixed new child branch not created from HEAD after update.
    
*   Version Control: Fixed resolve conflicts not informing about lack of UVCS installation.
    
*   Version Control: Fixed the Invite users to cloud organization when using an Enterprise installation.
    
*   Version Control: Fixed the learn more (here) link that showed the hex color value in Unity 6.
    
*   Version Control: Fixed workspace name that was not refreshed after repository manual creation or selection.
    
*   Version Control: Removed from the Create Workspace window the Local server that was present with no installation of UVCS.
    
*   Version Control: Replaced hardcoded urls pointing to plasticscm.com.
    
*   WebGL: Fixed video playing issue in WebGL when another video is still loading in Firefox. ([UUM-79406](https://issuetracker.unity3d.com/issues/av1-videos-do-not-play-in-webgl-when-another-video-is-still-loading-and-firefox-browser-is-used))
    
*   Windows: Fixed issue where changing the default icon is not refreshed by Windows Explorer when re-building a project into the same build folder used previously. ([UUM-71022](https://issuetracker.unity3d.com/issues/changing-the-default-icon-does-not-change-the-executables-icon-when-re-building-the-project))

### Known Issues in 2021.3.46f1

*   Asset - Database: Crash on GetAssetCachedInfoV2 when opening a project ([UUM-14959](https://issuetracker.unity3d.com/issues/crash-on-getassetcachedinfov2-when-opening-a-project))
    
*   Input: Crash on InputDeviceIOCTL when closing Unity editor ([UUM-10774](https://issuetracker.unity3d.com/issues/crash-on-inputdeviceioctl-when-closing-unity-editor))
    
*   iOS: iOS Simulator SDK is missing ARM64 Architecture support ([UUM-2238](https://issuetracker.unity3d.com/issues/ios-simulator-sdk-is-missing-arm64-architecture-support))
    
*   Vulkan: \[Android\] Particles not rendered in the Player on some Android devices with Android 14 ([UUM-68080](https://issuetracker.unity3d.com/issues/android-particles-not-rendered-in-the-player-on-some-android-devices-with-android-14))
    

### 2021.3.46f1 Release Notes

#### Features

*   License: Added XLTS entitlement check.

#### Fixes

*   Android: Editor.log will contain now entry on how the app is launched, for ex., adb.exe -s "FA7A31A08307" shell am start -a android.intent.action.MAIN -c android.intent.category.LAUNCHER -f 0x10200000 -S -n "com.DefaultCompany.GameActivity/com.unity3d.player.UnityPlayerActivity". (UUM-84923)
    
*   Android: Fixed an issue where an Android app could freeze, if "Run in Background is false, if the app loses focus, and calls AudioSource::Stop when focus is lost. ([UUM-79804](https://issuetracker.unity3d.com/issues/android-the-player-freezes-when-playing-audio-on-focus-loss))
    
*   Android: Ignore harmless warnings coming from sdkmanager - "Errors during XML parse:", "Additionally, the fallback loader failed to parse the XML.".
    
*   Animation: Fixed animations with events at time "1" throw import warnings when using particular animation lengths. (UUM-79396)
    
*   Animation: Fixed invalid default values of animated parameters in animator controller. ([UUM-73614](https://issuetracker.unity3d.com/issues/the-animation-curve-range-is-not-applied-properly))
    
*   Editor: Added an 'Include all scripts' checkbox option to the export window allows users to choose whether to include all project scripts in the export list. This serves as the initial step before addressing the script dependency issue. ([UUM-46345](https://issuetracker.unity3d.com/issues/items-that-are-not-referenced-in-scene-are-selected-when-exporting-scenes-package))
    
*   Editor: Disabled SRP batcher on the AssetImportWorker. ([UUM-77344](https://issuetracker.unity3d.com/issues/prefab-previews-in-the-project-window-sometimes-show-incorrectly))
    
*   Editor: Editor: Fixes a crashing bug caused by a (rare) failure to initialize NetworkListManager COM interface. (UUM-83823)
    
*   Editor: Fixed a bug that tree wireframe is incorrectly rendered outside of Scene view when editing a tree. ([UUM-82833](https://issuetracker.unity3d.com/issues/branch-editing-tools-draw-flashing-lines-with-black-backgrounds-in-editor-ui-windows))
    
*   Editor: Fixed a crash when sequentially setting values in a managed reference array of strings. ([UUM-73968](https://issuetracker.unity3d.com/issues/crash-on-serializedproperty-custom-setstringvalueinternal-when-setting-serializedproperty-string-value))
    
*   Editor: Fixed DeviceSimulator to implement Touch.rawPosition to return the starting position of the simulated touch contact. ([UUM-58248](https://issuetracker.unity3d.com/issues/touch-dot-rawposition-always-returns-00-when-clicking-or-dragging-anywhere-on-the-screen-in-the-play-mode))
    
*   Editor: Fixed the over-clamping of delta time value applied to "unity\_DeltaTime". ([UUM-35772](https://issuetracker.unity3d.com/issues/the-global-shader-variable-unity-deltatime-dot-x-value-does-not-match-the-time-dot-deltatime-value-when-compared-via-script))
    
*   Editor: Libcurl used by Unity update to version 8.10.1.
    
*   iOS: Fixed the character limit of the keyboard shown with TouchScreenKeyboard.Open. ([UUM-77509](https://issuetracker.unity3d.com/issues/ios-touchscreenkeyboard-allows-an-extra-character-when-characterlimit-is-set))
    
*   Linux: Fixed screen resolution does not sync properly with the system's when changing system resolution during runtime. (UUM-64956)
    
*   macOS: Fixed Application.targetFrameRate not being ignored when QualitySettings.vSyncCount > 0. ([UUM-83568](https://issuetracker.unity3d.com/issues/vsynccount-is-ignored-on-macos-standalone-player))
    
*   Networking: Fixed an issue where TLS connections would fail to be established after a certain time/number. ([UUM-83744](https://issuetracker.unity3d.com/issues/tlsexception-handshake-failed-error-code-unitytls-internal-error-error-when-a-lot-of-web-requests-are-sent-within-a-few-minutes))
    
*   Shaders: Fixed a crash that could occur when a shadow caster pass is deleted due to shader errors. (UUM-82622)
    
*   Shaders: Fixed compute shader compilation variant cache hits to be reported correctly in the editor log. ([UUM-75264](https://issuetracker.unity3d.com/issues/shader-cache-is-not-used-when-building-the-player-repeatedly))
    
*   SpeedTree: Importer error for .st files when there are special characters in the file path. ([UUM-83783](https://issuetracker.unity3d.com/issues/speedtree-importer-fails-to-import-st-files-when-path-to-the-project-includes-a-special-character))
    
*   Universal RP: Fixed a redundant empty line in a tooltip for Cast Shadows toggle in the URP Asset for Additional lights. ([UUM-83534](https://issuetracker.unity3d.com/issues/redundant-empty-space-on-tooltip-for-cast-shadows-option-for-additional-lights))
    
*   URP: Stop spamming about c-buffer layout mispatch in GPU-instancing-enabled speed tree materials when enabling Rendering Layers. ([UUM-64059](https://issuetracker.unity3d.com/issues/speedtree-error-is-thrown-when-rendering-layers-for-lights-are-enabled))
    
*   Version Control: UnityYAMLMerge is now able to open files when using long file paths on Windows. ([UUM-77908](https://issuetracker.unity3d.com/issues/unityyamlmerge-cannot-open-files-when-using-long-file-paths-on-windows))
    
*   Web: Improved error message in abort handler. ([UUM-83890](https://issuetracker.unity3d.com/issues/webgl-unclear-error-when-gzip-compressed-data-or-webassembly-dont-have-correct-http-headers))
    
*   WebGL: Fixed choppy video playback when using more than one Render Texture to play a video in Linear Color Space. ([UUM-79894](https://issuetracker.unity3d.com/issues/only-the-first-video-in-webgl-plays-smoothly-when-linear-color-space-is-used))
    
*   XR: Fixed crash on Meta Quest 2 when using Vulkan. ([UUM-83776](https://issuetracker.unity3d.com/issues/crash-on-meta-quest-2-when-using-vulkan))

### Known Issues in 2021.3.45f1

*   Android: Player crashes with an error "Unable to instantiate fragment com.unity3d.player.a.c:" when minimizing and maximizing the player while a notification permission dialog is shown ([UUM-60989](https://issuetracker.unity3d.com/issues/android-player-crashes-with-an-error-unable-to-instantiate-fragment-com-dot-unity3d-dot-player-dot-a-c-when-minimizing-and-maximizing-the-player-while-a-notification-permission-dialog-is-shown-and-dont-keep-activities-is-enabled-in-the-device-settings))
    
*   Asset - Database: Crash on GetAssetCachedInfoV2 when opening a project ([UUM-14959](https://issuetracker.unity3d.com/issues/crash-on-getassetcachedinfov2-when-opening-a-project))
    
*   IAP: \[Android\] Build fails with Error "A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable" when using In-App Purchasing and Facebook SDK ([UUM-76723](https://issuetracker.unity3d.com/issues/android-build-fails-when-using-in-app-purchasing-and-facebook-sdk))
    
*   Input: Crash on InputDeviceIOCTL when closing Unity editor ([UUM-10774](https://issuetracker.unity3d.com/issues/crash-on-inputdeviceioctl-when-closing-unity-editor))
    
*   iOS: iOS Simulator SDK is missing ARM64 Architecture support ([UUM-2238](https://issuetracker.unity3d.com/issues/ios-simulator-sdk-is-missing-arm64-architecture-support))
    
*   Shader System: Shader cache is not used when building the Player repeatedly ([UUM-75264](https://issuetracker.unity3d.com/issues/shader-cache-is-not-used-when-building-the-player-repeatedly))
    
*   Vulkan: \[Android\] Particles not rendered in the Player on some Android devices with Android 14 ([UUM-68080](https://issuetracker.unity3d.com/issues/android-particles-not-rendered-in-the-player-on-some-android-devices-with-android-14))
    

### 2021.3.45f1 Release Notes

#### Improvements

*   IL2CPP: \[RequireDerived\] and \[RequireImplementors\] will now mark all instance constructors of all types that they cause to be marked.
    
*   Shaders: Improved shader compilation logging in the player. ([UUM-79781](https://issuetracker.unity3d.com/issues/log-shader-compilation-does-not-give-info-on-which-shader-instance-had-a-variant-compiled))
    

#### API Changes

*   iOS: Added: Added iPhone 16 device generation enums and screen cutouts.

#### Changes

*   Editor: Updated com.unity.openxr package version to 1.13.0.
    
*   Editor: Updated OpenXR to 1.12.1.
    
*   iOS: When using "wide" color (P3 color space) we now use f16 color format for both metal layer, and internally by default.
    
*   XR: Updated XR Management Package's default version to 4.5.0.
    

#### Fixes

*   Android: Fixed unexpected permissions when using .androidlibs. ([UUM-69911](https://issuetracker.unity3d.com/issues/android-with-the-latest-unity-6-editor-default-apk-permissions-are-not-being-set-correctly))
    
*   Animation: Fixed an issue where entry transitions were not reporting warnings when one of their parameters was deleted. ([UUM-77622](https://issuetracker.unity3d.com/issues/deleting-a-parameter-in-an-animator-does-not-bring-up-a-warning-message-when-the-parameter-is-in-use-by-a-transition-from-the-entry-state))
    
*   Animation: Fixed crash when attempting to recreate the Animator bindings, by enabling a RigBuilder that binds a transform stream handle for example, while the Animator was being evaluated. ([UUM-80043](https://issuetracker.unity3d.com/issues/crash-on-unityengine-animation-setgenericfloatpropertyvalues-when-keyframing-the-rigbuilder-component-to-enabled-and-disabled))
    
*   Apple TV: Fixed Plugin Importer option Add To Embedded Binaries for AppleTV & fat mach-o libs. ([UUM-72637](https://issuetracker.unity3d.com/issues/appletv-add-to-embedded-binaries-option-is-missing-in-the-plugin-importer))
    
*   Editor: Added a more descriptive error message if FileUtil::ReplaceDirectory() fails to delete the destination directory. ([UUM-62633](https://issuetracker.unity3d.com/issues/fileutil-dot-replacedirectory-throws-an-uninformative-error-when-the-destination-path-contains-a-locked-file))
    
*   Editor: F-key functionality restored, and menu items enable/disable correctly. ([UUM-83883](https://issuetracker.unity3d.com/issues/ubuntu-cant-type-the-letter-f))
    
*   Editor: Fixed an issue where Editor menus on macOS could render blank and cause the editor to hang. ([UUM-73279](https://issuetracker.unity3d.com/issues/mac-menu-sometimes-renders-empty-when-using-help))
    
*   Editor: Fixed crash in Linux when opening recent scenes from the File menu. ([UUM-82381](https://issuetracker.unity3d.com/issues/linux-crash-on-menucontroller-executemenuitem-when-selecting-recent-scene))
    
*   Editor: Fixed rendering issues with XRSettings.RenderViewportScale when using OpenXR. ([UUM-19440](https://issuetracker.unity3d.com/issues/urp-openxr-xrsettings-dot-renderviewportscale-with-urp-give-incorrect-results-when-the-value-is-less-than-1))
    
*   Editor: Fixed safeArea reported value for bottom part of the screen for iOS < 15. ([UUM-51667](https://issuetracker.unity3d.com/issues/ios-the-safe-area-value-changes-when-reopening-the-app-in-landscape-orientation))
    
*   Editor: Fixed TLS Allocator errors logged when creating new project with 3D template and Connect to Unity Cloud enabled. ([UUM-61109](https://issuetracker.unity3d.com/issues/console-error-tls-allocator-alloc-temp-tls-underlying-allocator-alloc-temp-main-has-unfreed-allocations-size-37-with-warnings-and-messages-is-thrown-when-opening-a-new-project-for-the-first-time))
    
*   Editor: Linux Editor no longer crashes when creating a prefab variant from the context menu in a read-only directory. ([UUM-76157](https://issuetracker.unity3d.com/issues/linux-crash-on-createvariant-when-a-prefab-variant-is-created-in-the-packages-folder))
    
*   Editor: SRP Batcher supports Integer type "stencil ref". ([UUM-79305](https://issuetracker.unity3d.com/issues/when-the-type-of-the-stencil-ref-property-in-the-shader-is-an-integer-srp-batching-is-not-broken-even-if-the-stencil-ref-values-differ))
    
*   Editor: Switched to using more specific keys for caching splash screens rather than clearing the splash screen cache on all changes. Clearing out the splash screen hash could cause race conditions that would fail a build. If splash screens are not being cached properly you can clear out the cache before a build by deleting the SplashScreenCache folder in the Library. ([UUM-41830](https://issuetracker.unity3d.com/issues/android-entities-build-fails-with-the-error-asset-has-disappeared-while-building-player-to-globalgamemanagers-dot-assets-path-instancedid-xxxxxx-when-building))
    
*   Graphics: Fixed an issue when setting up BoneWeight with its own cached data. ([UUM-56490](https://issuetracker.unity3d.com/issues/mesh-dot-setboneweights-failed-vertex-vertex-number-has-zero-weights-is-being-logged-in-the-player-dot-log-file-when-the-project-is-played-with-build-and-run-and-development-build-toggled-off))
    
*   Graphics: Fixed issue in which raw Image that uses a Material with a custom Shader is invisible in Canvas when "Screen Space - Overlay" is set and the Player is in "Windowed" mode. ([UUM-73042](https://issuetracker.unity3d.com/issues/raw-image-that-uses-a-material-with-a-custom-shader-is-invisible-in-canvas-when-screen-space-overlay-is-set-and-the-player-is-in-windowed-mode))
    
*   Graphics: Fixed mesh memory being incorrectly reported in the memory profiler. ([UUM-20120](https://issuetracker.unity3d.com/issues/profiler-mesh-memory-remains-accounted-after-disposal-when-using-mesh-api))
    
*   HDRP: Fixed sun flicker where the sun is close to cloud boundaries. ([UUM-70628](https://issuetracker.unity3d.com/issues/directional-lights-flicker-when-placed-at-the-edge-of-a-volumetric-cloud))
    
*   IL2CPP: Fixed crash when attaching debugger due to invalid version number. (UUM-82249)
    
*   IL2CPP: Fixed issue with the wrong calling convention being used on function pointers when two function pointers with the same signature only differed by calling convention.
    
*   iOS: Fixed logging when using "Wait for the executable to be launched". ([UUM-78223](https://issuetracker.unity3d.com/issues/ios-logging-does-not-work-when-using-wait-for-the-executable-to-be-launched))
    
*   iOS: Fixed occasional hang on some devices when tweaking autorotation. ([UUM-75124](https://issuetracker.unity3d.com/issues/ios-player-freezes-with-a-warning-a-new-orientation-transaction-token-is-being-requested-while-a-valid-one-already-exists-when-orientation-is-changed-during-runtime-on-a-specific-devices))
    
*   iOS: Fixed Unity launching in background on background app activation. (UUM-82451)
    
*   Linux: Fixed Linux New Input System (Editor and Runtime) not detecting certain keys in Non-US Layouts. ([UUM-73613](https://issuetracker.unity3d.com/issues/linux-input-system-does-not-register-some-keys-when-using-international-keyboard-layouts))
    
*   Linux: Fixed Subsequent code executes after a crash. ([UUM-77356](https://issuetracker.unity3d.com/issues/linux-subsequent-code-executes-after-a-crash))
    
*   macOS: Fixed player not re-launching when doing Build & Run when the application is already running. ([UUM-75604](https://issuetracker.unity3d.com/issues/macos-player-doesnt-relaunch-when-doing-build-and-run-few-times-in-a-row-without-closing-player))
    
*   Mono: Fixed JIT trampoline memory leak with Timers and Sockets. ([UUM-76306](https://issuetracker.unity3d.com/issues/memory-leak-when-using-net-sockets))
    
*   Package: Bump the version of LIH to fully delete an empty file. This fixes an issue where automated tests that consume LIH are unstable.
    
*   Particles: Crash with Render triggered from OnEnable. ([UUM-74045](https://issuetracker.unity3d.com/issues/crash-on-particlesystemrenderer-updatevertexinputlayout-when-copying-and-pasting-a-prefab-containing-a-specific-particle-system))
    
*   Particles: Fixed potential unbounded memory and excessive work when using Ring Buffer mode. ([UUM-72277](https://issuetracker.unity3d.com/issues/particle-system-allocates-large-amounts-of-memory-when-it-is-very-far-away-from-the-origin-of-the-scene))
    
*   Physics 2D: Fixed an issue where setting the Rigidbody2D.rotation when interpolation is being used results in the wrong Rigidbody2D.position being used for the interpolation resulting in movement discontinuities. ([UUM-80058](https://issuetracker.unity3d.com/issues/rigidbody2d-dot-setrotation-breaks-interpolation-when-resetting-rotation-with-interpolation-enabled))
    
*   Physics 2D: When using Rigidbody2D interpolation and changing the Transform directly, the Transform pose has the priority for interpolation whereas when changing the Rigidbody2D pose directly, the Rigidbody2D pose has the priority over the Transform. This stops "jitter" issues when driving the Rigidbody2D constantly via the Transform. This still isn't a recommended practice however. ([UUM-82789](https://issuetracker.unity3d.com/issues/2d-physics-makes-object-movements-to-flicker))
    
*   Player: Fixed a corner case crash bug on server build player shutdown. ([UUM-61775](https://issuetracker.unity3d.com/issues/windows-native-crash-occurs-when-closing-the-player-console-window))
    
*   Shadergraph: Added issue where precision mismatch could result in an asset failing to import. ([UUM-74920](https://issuetracker.unity3d.com/issues/invalidoperationexception-precision-mismatch-error-is-thrown-in-the-console-when-multiplying-two-half-precision-values-in-a-multiply-node-with-single-precision-in-shader-graph))
    
*   uGUI: Fixed bug where Anchor foldout in RectTransform doesn't get keyboard focus. ([UUM-71130](https://issuetracker.unity3d.com/issues/field-names-under-anchors-in-the-recttransform-component-dont-get-focused-when-tabbing-through-the-fields))
    
*   Universal RP: Disabled depth priming for cameras with depth only render targets. ([UUM-65523](https://issuetracker.unity3d.com/issues/no-depth-output-in-play-mode-with-camera-dot-render-when-both-ssao-and-depth-priming-are-enabled))
    
*   Universal RP: Fixed multiview support for the XR Occlusion Mesh pass.
    
*   Version Control: Fixed token renewal issue: Can't obtain a new token (Message: Invalid Refresh Token., Code: 132.104).

### Known Issues in 2021.3.44f1

*   Android: Player crashes with an error "Unable to instantiate fragment com.unity3d.player.a.c:" when minimizing and maximizing the player while a notification permission dialog is shown ([UUM-60989](https://issuetracker.unity3d.com/issues/android-player-crashes-with-an-error-unable-to-instantiate-fragment-com-dot-unity3d-dot-player-dot-a-c-when-minimizing-and-maximizing-the-player-while-a-notification-permission-dialog-is-shown-and-dont-keep-activities-is-enabled-in-the-device-settings))
    
*   Asset - Database: Crash on GetAssetCachedInfoV2 when opening a project ([UUM-14959](https://issuetracker.unity3d.com/issues/crash-on-getassetcachedinfov2-when-opening-a-project))
    
*   Input: Crash on InputDeviceIOCTL when closing Unity editor ([UUM-10774](https://issuetracker.unity3d.com/issues/crash-on-inputdeviceioctl-when-closing-unity-editor))
    
*   iOS: iOS Simulator SDK is missing ARM64 Architecture support ([UUM-2238](https://issuetracker.unity3d.com/issues/ios-simulator-sdk-is-missing-arm64-architecture-support))
    

### 2021.3.44f1 Release Notes

#### Features

*   Version Control: Allow deletion of non-empty branches that have not been merged anywhere.
    
*   Version Control: New setting to automatically add new files to source control.
    

#### Improvements

*   IL2CPP: Support volatile stores using the ldind.ref opcode.
    
*   Version Control: Improved the dialog to install Unity Version Control from the Editor.
    

#### Changes

*   Documentation: Renaming Game Server Hosting to Multiplay Hosting as part of rebrand.
    
*   Editor: The editor now ships upstream 7-Zip (without support for zstandard compression), instead of 7-Zip-zstd/p7zip-zstd. (UUM-37529)
    

#### Fixes

*   2D: Fixed Crash on VertexUtility::CopyChannel when selecting or using a specific Sprite. ([UUM-72866](https://issuetracker.unity3d.com/issues/crash-on-vertexutility-copychannel-when-selecting-or-using-a-specific-sprite))
    
*   Android: Bump Android Logcat Package to 1.4.3.
    
*   Android: Default Video Resolution fixed for secondary orientation - resolution is now correct when device is rotated while playing a file using the video player. (UUM-57168)
    
*   Android: Don't strip PermissionFragment constructor without parameters, since it's required by permission upon application restart. ([UUM-60989](https://issuetracker.unity3d.com/issues/android-player-crashes-with-an-error-unable-to-instantiate-fragment-com-dot-unity3d-dot-player-dot-a-c-when-minimizing-and-maximizing-the-player-while-a-notification-permission-dialog-is-shown-and-dont-keep-activities-is-enabled-in-the-device-settings))
    
*   Android: Fixed gradle templates from 2021.3 not being upgraded properly. (UUM-76202)
    
*   Android: Fixed Swappy related freeze when minimizing and maximizing the application via the Recents screen. ([UUM-77169](https://issuetracker.unity3d.com/issues/android-the-player-application-freezes-and-crashes-when-minimizing-and-maximizing-the-application-via-the-recents-screen))
    
*   Android: Fixed targetApiLevel 35, add SDK 35 and update BuildTools to 34.0.0. ([UUM-75773](https://issuetracker.unity3d.com/issues/android-building-for-android-beta-15-fails-when-using-android-sdk-35-with-lts-unity-versions))
    
*   Android: Fixed the problem with native plugin being skipped for ARMv7 architecture if target CPU is not set. ([UUM-77679](https://issuetracker.unity3d.com/issues/android-libnativememorybinary-dot-so-is-not-being-generated-when-exporting-the-project))
    
*   Android: Mitigate sporadic issue when Android Player fails to create an EGL surface on startup. (UUM-2487)
    
*   Animation: Fixed a bug where state machine behaviors would appear linked when copy-pasting an AnimatorState. ([UUM-75459](https://issuetracker.unity3d.com/issues/original-state-value-changes-when-modifying-statemachinebehaviour-value-in-copied-state))
    
*   Editor: As with other platforms show the progress dialog when exporting a package on macOS to prevent the ability to perform other actions and lead to potential crashes or duplicate exports. ([UUM-72387](https://issuetracker.unity3d.com/issues/macos-crash-on-pthread-kill-when-exporting-a-package-while-another-export-is-in-progress))
    
*   Editor: Bug resolution for EditorUtility.DisplayDialog() not displaying text when the text is too long. ([UUM-71871](https://issuetracker.unity3d.com/issues/editorutility-dot-displaydialog-does-not-show-the-message-when-the-message-is-too-long))
    
*   Editor: Fixed a crash in shader variant prefiltering when renderpipeline asset had a broken reference. ([UUM-76152](https://issuetracker.unity3d.com/issues/crash-on-settingsfilteredshadervariantenumeration-settingsfilteredshadervariantenumeration-when-building-for-ios-or-android))
    
*   Editor: Fixed CursorLock disengaging during PlayMode on Linux when ProgressDialog is displayed. ([UUM-76647](https://issuetracker.unity3d.com/issues/linux-mouse-cursor-gets-unlocked-while-in-play-mode))
    
*   Editor: Fixed editor crash when accessing GUIManager in Server builds due to stripped IMGUI module. (UUM-76332)
    
*   Editor: Fixed FPS capped by target frame rate issue when vsync to align with documentation. ([UUM-61892](https://issuetracker.unity3d.com/issues/frame-rate-is-higher-than-expected-in-play-mode-when-target-frame-rate-is-set-with-application-dot-targetframerate))
    
*   Editor: Fixed leak of Windows GDI objects when calling DisplayDialog. ([UUM-76440](https://issuetracker.unity3d.com/issues/gdi-object-count-in-the-task-manager-keeps-increasing-when-invoking-editorutility-dot-displaydialog))
    
*   Editor: Fixed scenarios where the "Auto Refresh" editor preference was not respected. ([UUM-40547](https://issuetracker.unity3d.com/issues/auto-refresh-is-still-active-when-its-set-to-to-disable-in-the-preferences))
    
*   Editor: Fixed the issue of Linux freezing whenever a file is dragged and drop from Unity to VSCode. ([UUM-60652](https://issuetracker.unity3d.com/issues/linux-freeze-when-assets-are-dragged-and-dropped-to-vs-code))
    
*   Editor: Fixed the issue of Linux freezing whenever a file is dragged and drop from Unity to VSCode. ([UUM-60652](https://issuetracker.unity3d.com/issues/linux-freeze-when-assets-are-dragged-and-dropped-to-vs-code))
    
*   Editor: Fixed the issue of Linux freezing whenever a file is dragged and drop from Unity to VSCode. ([UUM-60652](https://issuetracker.unity3d.com/issues/linux-freeze-when-assets-are-dragged-and-dropped-to-vs-code))
    
*   Editor: Linux Editor no longer crashes when attempting to drag from the Project window to the Scene View. ([UUM-79812](https://issuetracker.unity3d.com/issues/linux-crash-on-pptr-operator-runtimeanimatorcontroller-star-const-when-saving-a-new-animation-file))
    
*   Editor: Prevents offscreen camera rendering in the Editor player loop when the game view is not updated. ([UUM-77044](https://issuetracker.unity3d.com/issues/incorrect-and-unstable-count-of-tris-and-verts-when-camera-target-texture-field-is-set-to-any-rendertexture))
    
*   Editor: Switch to FNV-1a for Render Graph. ([UUM-74849](https://issuetracker.unity3d.com/issues/a-wrong-compute-buffer-is-returned-in-a-render-pass-when-using-the-computebufferdesc-to-create-the-descriptors))
    
*   Editor: UnityPerMaterial non initialized matrix is now identity. ([UUM-72769](https://issuetracker.unity3d.com/issues/shader-graph-matrix-property-produces-random-output-values-when-srp-batcher-is-enabled))
    
*   GI: Fixed an issue where shader variants with LIGHTMAP\_ON, but which don't declare DIRLIGHTMAP\_COMBINED, were stripped during player builds when using directional lightmapping. ([UUM-68495](https://issuetracker.unity3d.com/issues/false-positive-shader-stripping-for-user-provided-shader-when-using-the-lightmap-on-preprocessor-directive))
    
*   Graphics: Fixed crash on metal with depth-only clears coupled with hdr under some circumstances. ([UUM-73624](https://issuetracker.unity3d.com/issues/unity-crashes-or-an-error-metal-grabintorendertexture-mismatched-grab-pass-80-slash-92-is-thrown-and-the-game-view-becomes-corrupted-when-hdr-is-enabled-in-an-ios-module-after-enabling-and-disabling-the-frame-debugger-with-clear-flags-set-to-depth-only))
    
*   HDRP: Reimporting ShaderGraph assets no longer triggers a UnityVCS/Perfoce local checkout. ([UUM-17912](https://issuetracker.unity3d.com/issues/shadergraphs-get-checked-out-in-perforce-every-time-they-get-reimported))
    
*   IL2CPP: Fixed crash when using a derived COM interface defined in an assembly with Embed Interop Types set to true. ([UUM-78201](https://issuetracker.unity3d.com/issues/fix-and-re-expose-passthrough-api-which-is-currently-it-is-blocked-by-il2cpp-fails-to-properly-map-interface-methods))
    
*   IL2CPP: Fixed IL2CPP compiler errors when using explicit struct layout on classes with base types. ([UUM-77245](https://issuetracker.unity3d.com/issues/il2cpp-compiler-errors-when-using-explicit-struct-layout-on-classes-with-base-types))
    
*   IL2CPP: Updated code generation for il2cpp\_codegen\_get\_marshal\_directive\_exception to safeguard against invalid C++ printable characters. ([UUM-75811](https://issuetracker.unity3d.com/issues/il2cpp-build-fails-when-using-type-names-with-special-characters))
    
*   iOS: Fixed crash when rendering to backbuffer in Update. ([UUM-77248](https://issuetracker.unity3d.com/issues/ios-error-execution-of-the-command-buffer-was-aborted-due-to-an-error-during-execution-ignored-for-causing-prior-slash-excessive-gpu-errors-00000004-kiogpucommandbuffercallbackerrorsubmissionsignored-when-drawing-a-mesh-with-graphics-dot-drawmeshnow))
    
*   iOS: Fixed determination of available shader texture binds count. ([UUM-79712](https://issuetracker.unity3d.com/issues/ios-too-many-texture-parameters-error-is-thrown-when-running-on-devices-that-support-the-number-of-parameters))
    
*   iOS: Fixed occasional deadlock in UnityWebRequest on abort. (UUM-77913)
    
*   iOS: Universal deeplink not being set for Awake/Start in the first scene. ([UUM-77725](https://issuetracker.unity3d.com/issues/ios-application-dot-absoluteurl-is-empty-when-a-release-app-is-opened-via-an-ios-universal-link))
    
*   Kernel: Fixed player crash due to internal data races when loading assets. ([UUM-72557](https://issuetracker.unity3d.com/issues/virtualfilesystem-crash-because-of-data-races))
    
*   Linux: Fixed first touch is ignored when touching on 2D/3D elements in Linux Platform. (UUM-61866)
    
*   macOS: Fixed Application.persistentDataPath points to wrong path on macOS dedicated server builds. ([UUM-77002](https://issuetracker.unity3d.com/issues/application-dot-persistentdatapath-points-to-wrong-path-on-macos-dedicated-server-builds))
    
*   Mono: Fixed issue where Linux was running out of memory pages due to them not being returned. ([UUM-72029](https://issuetracker.unity3d.com/issues/linux-crash-on-pthread-kill-when-using-incremental-gc))
    
*   Mono: Fixed JIT trampoline memory leak with Timers and Sockets. ([UUM-76306](https://issuetracker.unity3d.com/issues/memory-leak-when-using-net-sockets))
    
*   Mono: Workaround a missing libc library on the iOS Simulator. (UUM-60201)
    
*   Particles: Crash with Shape Module in Mesh mode while spawning inactive object through prefab or asset bundle. ([UUM-43091](https://issuetracker.unity3d.com/issues/crash-when-a-particle-system-is-running-and-using-assetbundle-dot-unload-true))
    
*   Particles: Fixed invisible particles when shape Arc is set to 0 and Mode set to Loop. ([UUM-78236](https://issuetracker.unity3d.com/issues/particles-spawned-from-particle-system-are-not-visible-when-shape-arc-is-set-to-0-and-mode-is-set-to-loop))
    
*   Player: Frame rate becomes lower after turning vertical sync on and off when in the Player on macOS. ([UUM-53430](https://issuetracker.unity3d.com/issues/frame-rate-becomes-lower-after-turning-vertical-sync-on-and-off-when-in-the-player-on-macos))
    
*   Prefabs: Fixed bug when Prefabs opened using LoadPrefabContents or EditPrefabContentsScope and saving them back without editing get changed on disk. ([UUM-77244](https://issuetracker.unity3d.com/issues/values-overwrite-in-parents-recttransform-when-using-prefabutility-dot-saveasprefabasset))
    
*   Profiler: Fixed "Page range is outside of system region range. Please report a bug!" error for captured memory snapshots and opened in the Memory Profiler packaged, caused by Unity Objects getting created in-between of capturing the Managed Heap and Native Object data. Snapshots before this fix are not fixed by this change but future captures won't have the same issue. This also fixes cases where Unity Objects in a Memory Snapshot might have pointed at invalid data for their Managed Shell, which may have been most notable with MonoBehaviour and ScriptableObject types. This may also have fixed a vanishingly small amount of instances of reported "Leaked Managed Shell" objects where the Native Object part of the object got destroyed just after the managed Heap data was captured. The close timing makes the likelihood of all of these issues very rare and more likely the longer it takes to capture a snapshot. (UUM-77449)
    
*   Profiler: Fixed an error being logged the the console when hovering the BackgroundPattern element in UI Builder. (UUM-68488)
    
*   Scripting: Added missing attribute MustDisposeResourceAttribute in JetBrains.Annotations. ([UUM-75305](https://issuetracker.unity3d.com/issues/the-mustdisposeresource-attribute-is-missing-when-using-the-unity-jetbrains-dot-annotations-library-subset))
    
*   Scripting: PluginImporter.ClearSettings shouldn't apply default values. ([UUM-77816](https://issuetracker.unity3d.com/issues/plugins-start-ignoring-calls-to-set-platforms-when-the-pluginimporter-dot-clearsettings-function-is-used))
    
*   Serialization: Serialization: Avoid crashing when loading ScriptableObjects or MonoBehaviours in binary-format that reference missing SerializeReference types. ([UUM-75238](https://issuetracker.unity3d.com/issues/crash-on-core-basic-string-when-opening-a-specific-project))
    
*   Shadergraph: Fixed a bug that Normal From Height node in a shader graph might return an invalid value when using 16-bit half precision. ([UUM-72722](https://issuetracker.unity3d.com/issues/normal-from-height-node-causes-visual-artifacts-when-using-shadergraph-with-android-build-target))
    
*   Shadergraph: Fixed a bug where the Custom Function node's "Body" field would expand off-screen instead of scrolling. ([UUM-76270](https://issuetracker.unity3d.com/issues/the-custom-function-nodes-body-block-doesnt-have-any-controls-to-properly-observe-hlsl-code-graph-inspector-breaks-with-large-text-when-using-the-string-type))
    
*   Shadergraph: The name displayed in the Graph inspector when a BlockNode is selected has changed. ([UUM-76081](https://issuetracker.unity3d.com/issues/shadergraph-graph-inspector-master-stack-node-titles-are-displayed-in-code-language))
    
*   Shadergraph: Users can no longer select 'Delete' for context blocks. ([UUM-76198](https://issuetracker.unity3d.com/issues/user-has-the-option-to-delete-a-context-block-inside-the-master-stack-which-leaves-a-selection-highlight))
    
*   SpeedTree: Camera facing leaves (cards) are facing incorrect direction. (UUM-70196)
    
*   SpeedTree: SpeedTree LOD Transition effect applying only to wind-enabled assets in SRP. (UUM-73540)
    
*   Universal RP: Fixed an issue where glClientWaitSync: Expected application to have kicked everything until job: 96089 (possibly by calling glFlush)" are thrown in the Android Player on some devices with PowerVR Rogue GE8320 GPU. ([UUM-59572](https://issuetracker.unity3d.com/issues/errors-glclientwaitsync-expected-application-to-have-kicked-everything-until-job-96089-possibly-by-calling-glflush-are-thrown-in-the-android-player-on-some-devices-with-powervr-rogue-ge8320-gpu))
    
*   Universal RP: Fixed camera offset in the UI editor for the RenderObject RenderFeature. ([UUM-76307](https://issuetracker.unity3d.com/issues/incorrect-depth-values-when-using-render-objects-feature))
    
*   Universal RP: Fixed shadow-map sampling artifacts present when using the Unlit DrawMode in the SceneView. ([UUM-73236](https://issuetracker.unity3d.com/issues/shadow-artifact-is-cast-onto-gameobjects-in-the-scene-view-when-the-scene-view-lighting-is-disabled))
    
*   Version Control: Fixed 'an existing xxx operation has locked the workspace' error on finding changes operation.
    
*   Version Control: Fixed a case of a hang happening on Editor quit. (VCS-1005810)
    
*   Version Control: Fixed a login failure for Enterprise installation. (VCS-1005903)
    
*   Version Control: Fixed history that was not shown when there was no desktop client installed. (VCS-1005756)
    
*   Version Control: Fixed logs that were configured too late in the initialization. (VCS-1005819)
    
*   Version Control: Fixed the "Upgrade plan" button in Unity plugin that used an obsolete redirection link. (VCS-1005765)
    
*   Version Control: Fixed the minimum supported version (2020.3.48f1 LTS) in the README.
    
*   Version Control: Fixed undo operation that didn't capture changes in packages. (VCS-1005617)
    
*   Version Control: Fixed unity 6 Editor going into the background after a dialog was closed. (VCS-1005656)
    
*   Version Control: Fixed wrong font size when changing to changesets view. (VCS-1004465)
    
*   VFX Graph: Read unexposed shader global properties when using a Shader Graph output. ([UUM-78383](https://issuetracker.unity3d.com/issues/the-vfx-graph-cannot-access-the-global-properties-of-the-shader-when-using-normal-urp-output-with-vfx-support-enabled))
    
*   Web: Fixed an issue that Application.persistentDataPath would not automatically persist, by adding a new JS config option "autoSyncPersistentDataPath: true" to enable automatic synchronization of Application.persistentDataPath over to IndexedDB. ([UUM-60385](https://issuetracker.unity3d.com/issues/webgl-streamwriter-not-triggering-syncfs-when-writing-a-file-to-slash-idbfs))
    
*   WebGL: Fixed a bug where mouse button canceled events would emit after clicking and moving a mouse. ([UUM-65367](https://issuetracker.unity3d.com/issues/the-mouse-click-action-phase-is-set-to-canceled-when-the-cursor-is-locked-and-the-mouse-is-moved-with-the-left-mouse-click-held-in-a-webgl-build))
    
*   Windows: Fixed issue where Arm64 architecture DLLs are incorrectly copied instead of x64 when building for Windows x64. ([UUM-76845](https://issuetracker.unity3d.com/issues/arm64-architecture-dll-incorrectly-copied-instead-of-x64-when-building-for-windows-x64))
    
*   XR: This might have been caused by initial PR of late latching. Reviewing the previous code it seems it should just be setting the local transform. ([UUM-46969](https://issuetracker.unity3d.com/issues/player-crashes-when-run-on-the-hololens-2-when-using-the-built-in-renderer-and-dx12))

### Known Issues in 2021.3.43f1

*   Asset - Database: Crash on GetAssetCachedInfoV2 when opening a project ([UUM-14959](https://issuetracker.unity3d.com/issues/crash-on-getassetcachedinfov2-when-opening-a-project))
    
*   iOS: iOS Simulator SDK is missing ARM64 Architecture support ([UUM-2238](https://issuetracker.unity3d.com/issues/ios-simulator-sdk-is-missing-arm64-architecture-support))
    
*   Kernel: VirtualFileSystem crash because of data races. ([UUM-72557](https://issuetracker.unity3d.com/issues/virtualfilesystem-crash-because-of-data-races))
    

### 2021.3.43f1 Release Notes

#### Improvements

*   HDRP: Transparent materials now appear opaque when using Mipmap Streaming debug views for increased clarity.

#### Changes

*   Installer: Changed the default IDE suggestion on Mac to be Visual Studio Code since Visual Studio for Mac is no longer supported by Microsoft.

#### Fixes

*   2D: Fixed crash when a user does an infinite recursion loop using a Tile's StartUp call by limiting the recursion. ([UUM-74939](https://issuetracker.unity3d.com/issues/crash-on-unsafeutility-custom-memset-when-simulating-a-random-tick-event-for-a-tile-at-a-specified-position))
    
*   Android: AndroidX use is always true. Fixed problem with Gradle AAB build fail when Split App Binary is on, but there are no asset packs in the generated Gradle project. (UUM-73808)
    
*   Android: Fixed Input.backButtonLeavesApp not working on the new input system. ([UUM-41638](https://issuetracker.unity3d.com/issues/android-newinputsystem-does-not-support-input-dot-backbuttonleavesapp))
    
*   Animation: Fixed crash when calling the `RigBuilder.Build` function multiple times on the same animation Rig. ([ARB-47](https://issuetracker.unity3d.com/issues/crash-on-mecanim-animation-seekclip-and-the-animators-methods-execution-gets-slower-and-slower-when-repeatedly-calling-the-rigbuilder-dot-build-in-the-player))
    
*   Audio: Better error handling in AudioClipPlayable in the case of FMOD errors. ([UUM-65779](https://issuetracker.unity3d.com/issues/crash-on-audioclipplayable-handleplayevent-when-loading-and-instantiating-addressables-in-play-mode))
    
*   Audio: Make fmodprofiling command line argument a diagnostic switch and update docs to show how to profile audio mixer effects. ([UUM-41887](https://issuetracker.unity3d.com/issues/cpu-usage-display-is-not-toggled-when-toggling-it-in-audiomixergroupcontroller))
    
*   DX12: Fixed a crash caused when reading a raw depth buffer from a ray tracing shader. ([UUM-76697](https://issuetracker.unity3d.com/issues/crash-on-gfxdeviced3d12base-drawbufferscommon-when-enabling-a-gameobject-using-ssrs-ray-tracing-or-mixed-tracing-options))
    
*   Editor: Fixed an issue causing a CancellationTokenSource to be disposed twice when scanning for ADB devices. ([UUM-69815](https://issuetracker.unity3d.com/issues/batch-mode-and-cloud-build-get-stuck-at-scanning-for-adb-devices-when-building-for-the-android-or-ios-platforms))
    
*   Editor: Fixed bugs where searching for shortcuts by binding in the Shortcuts window was inconsistent. ([UUM-73960](https://issuetracker.unity3d.com/issues/search-shortcuts-shortcuts-search-input-display-is-not-consistent-with-the-same-inputs))
    
*   Editor: Fixed CursorLock engaging in EditMode when lock applied within OnDestroy. ([UUM-76326](https://issuetracker.unity3d.com/issues/mouse-cursor-gets-locked-and-hidden-in-the-middle-of-the-game-view-when-using-cursorlockmode-dot-locked-in-ondestroy))
    
*   Editor: Fixed the focus issue in Windows at post DisplayDialog. ([UUM-75810](https://issuetracker.unity3d.com/issues/renaming-a-new-gameobject-fails-if-vcs-checks-out-the-prefab-being-edited))
    
*   Editor: Graphics: Fix inspector preview for objects with negative scale. ([UUM-76814](https://issuetracker.unity3d.com/issues/the-reflection-probe-is-displayed-as-red-in-the-inspector-window-when-the-gameobjects-transform-has-a-negative-value-on-macos))
    
*   Graphics: Fixed an issue where calling "Texture.SetStreamingTextureMaterialDebugProperties" did not properly set debug properties on materials if Texture Streaming had never been enabled in the current session.
    
*   HDRP: Fixed an issue where certain Mipmap Streaming debug views (for example: "Mip Count") would not show up correctly on Metal.
    
*   HDRP: Fixed an issue where the Mipmap Streaming debug views would show up incorrectly when certain features were enabled (SRP Batcher, Volumetric Fog, Volumetric Clouds, ...). ([UUM-70478](https://issuetracker.unity3d.com/issues/hdrp-mip-map-debugging-view-turns-white-if-there-are-directional-lights-in-the-scene))
    
*   iOS: Fixed occasional crash on exit. (UUM-75473)
    
*   iOS: Removed empty node from Privacy Manifest, which was potentially causing `ITMS-91056: Invalid privacy manifest` rejections from Apple. (UUM-77041)
    
*   Package Manager: Install icon is shown for custom packages. (UUM-73538)
    
*   Scene/Game View: "Application.isFocused" returns "false" when entering the Play Mode with the Game window set to "Play Unfocused". ([UUM-74498](https://issuetracker.unity3d.com/issues/application-dot-isfocused-initially-returns-true-when-entering-the-play-mode-with-the-game-window-set-to-play-unfocused))
    
*   Serialization: Don't show crash reporter when reading corrupted files. ([UUM-66157](https://issuetracker.unity3d.com/issues/crash-on-cachedreader-outofboundserror-when-pressing-the-quit-button-in-the-fatal-error-modal-window))
    
*   Shadergraph: Disallowed shader variant related settings to be set to negative values. ([UUM-76472](https://issuetracker.unity3d.com/issues/shader-graph-preview-variant-limit-can-be-set-to-a-negative-value))
    
*   Shaders: Fixed reversebits implementation on metal. (UUM-73255)
    
*   Shaders: Fixed shaders marked incompatible with the SRP Batcher when shaders with a lot of similar properties were loaded. (UUM-69238)
    
*   UI Toolkit: Fixed an issue in the UI Builder where the parts of a selector were displayed without a space between them. (UUM-72728)
    
*   UI Toolkit: Fixed ArgumentOutOfRangeException thrown in console window using controller when selecting default choice in dropdown. ([UUM-73468](https://issuetracker.unity3d.com/issues/argumentoutofrangeexception-thrown-when-selecting-ui-toolkit-dropdown-using-a-gamepad-controller))
    
*   WebGL: Fixed for frame delays when calling AsyncGPUReadback from WebGL. ([UUM-35595](https://issuetracker.unity3d.com/issues/asyncgpureadback-dot-requestintonativearray-displays-incorrect-frame-count-in-webgl-player-when-using-chrome-or-edge-browsers))

### Known Issues in 2021.3.42f1

*   Asset - Database: Crash on GetAssetCachedInfoV2 when opening a project ([UUM-14959](https://issuetracker.unity3d.com/issues/crash-on-getassetcachedinfov2-when-opening-a-project))
    
*   DirectX12: Crash on GfxDeviceD3D12Base::DrawBuffersCommon when enabling a GameObject using SSR's "Ray Tracing" or “Mixed“ tracing options ([UUM-76697](https://issuetracker.unity3d.com/issues/crash-on-gfxdeviced3d12base-drawbufferscommon-when-enabling-a-gameobject-using-ssrs-ray-tracing-or-mixed-tracing-options))
    
*   DirectX12: \[DX12\] Player crash on UnityMain when building HDRP Sample on Windows ([UUM-75100](https://issuetracker.unity3d.com/issues/dx12-player-crash-on-unitymain-when-building-hdrp-sample-on-windows))
    
*   iOS: iOS Simulator SDK is missing ARM64 Architecture support ([UUM-2238](https://issuetracker.unity3d.com/issues/ios-simulator-sdk-is-missing-arm64-architecture-support))
    
*   Kernel: VirtualFileSystem crash because of data races. ([UUM-72557](https://issuetracker.unity3d.com/issues/virtualfilesystem-crash-because-of-data-races))
    
*   PhysX Integration: A 1000 times heavier GameObject will stutter when colliding with a lighter GameObject ([UUM-65366](https://issuetracker.unity3d.com/issues/a-1000-times-heavier-gameobject-will-stutter-when-colliding-with-a-lighter-gameobject))
    

### 2021.3.42f1 Release Notes

#### Improvements

*   Graphics: Add a IUnityXRTextureManagerInterface and a function pointer OnTextureDestroyed in it, which is called when VR RenderTexture is destroyed. On the plugin side, a callback assigned to this pointer is going to get triggered.
    
*   XR: Update XR Interaction Toolkit package (com.unity.xr.interaction.toolkit) to v2.6.3
    

#### Changes

*   Android: Updated bundletool up to 1.16.0 (UUM-70552)
    
*   Burst: Improved error message for pointer-like types in non-`readonly` `static` fields
    
*   Burst: Improved performance of Burst-compiled code in the Windows x64 Editor by only emitting context-saving code when the code being compiled contains a `throw`
    
*   Package: Updated code coverage package to version 1.2.6
    

#### Fixes

*   Android: Add UI for creating a custom settings.gradle template (UUM-27109)
    
*   Android: Correctly replace DIR\_UNITYPROJECT in settingsTemplate.gradle ([UUM-27090](https://issuetracker.unity3d.com/issues/star-star-dir-unityproject-star-star-is-not-resolved-correctly-in-settingstemplate-dot-gradle))
    
*   Android: Improve maintainability fo Gradle version documentation (UUM-76224)
    
*   Android: Resolved an issue where the OK button was absent in the Mobile Input Field of the soft keyboard. ([UUM-74675](https://issuetracker.unity3d.com/issues/android-soft-keyboard-is-missing-the-ok-button-on-android))
    
*   Burst: BurstAotSettings files are no longer written to disk unless default settings are changed
    
*   Burst: Creating a project with a space in the path would cause burst to fail on windows arm64.
    
*   Burst: Fixed an issue with default interface methods which would result in compiler errors due to IL corruption.
    
*   Burst: Fixed another compiler crash caused by faulty alias analysis
    
*   Burst: Fixed direct negation of enums was not correctly promoting the underlying type, causing wrong results.
    
*   Burst: Fixed that `Mathf.Approximately` would return the wrong result approximately all of the time
    
*   Burst: Fixed the `BurstDebugInformation_DoNotShip` folder not being saved outside the player build folder for Embedded Linux and QNX platforms
    
*   DX12: Correctly unbind counter resources to prevent GPU crash ([UUM-75100](https://issuetracker.unity3d.com/issues/dx12-player-crash-on-unitymain-when-building-hdrp-sample-on-windows))
    
*   Editor: Fix analytics related crash. (UUM-72093)
    
*   Editor: Fix crash on exit of editor when GLES is the active graphics API ([UUM-54445](https://issuetracker.unity3d.com/issues/editor-that-is-opened-using-a-command-line-with-a-force-gles-argument-crashes-on-drvpresentbuffers-when-closing-the-editor-on-windows-with-a-nvidia-rtx-a2000-gpu))
    
*   Editor: Fix resolution not resetting to full screen when going to full-screen window by using native MacOS UI controls. ([UUM-73633](https://issuetracker.unity3d.com/issues/black-bars-appear-around-the-main-view-when-player-is-in-fullscreen-mode))
    
*   Editor: Fixed the order of some internal menu items being incorrect (e.g GameObject/UI) ([UUM-76316](https://issuetracker.unity3d.com/issues/unable-to-instantly-rename-ui-objects-when-creating-a-new-object-in-the-hierarchy))
    
*   Graphics: Fixed use frustum culling light setting to work for shadow cascades. ([UUM-56026](https://issuetracker.unity3d.com/issues/light-dot-useviewfrustumforshadowcastercull-not-working-properly-for-shadow-cascades))
    
*   Graphics: The condition for the "Graphics.CopyTexture with a region will not copy readable texture data for compressed formats" warnings has been fixed to match the documentation so that when a CPU copy would not normally be attempted (ie., at least one texture is not readable), the warnings will not appear. ([UUM-73721](https://issuetracker.unity3d.com/issues/graphics-dot-copytexture-with-a-region-will-not-copy-readable-texture-data-for-compressed-formats-warnings-are-thrown-when-copying-compressed-texture-regions))
    
*   HDRP: Fixed graphical issue when resizing Reflection Probe sizes on macOS ([UUM-71467](https://issuetracker.unity3d.com/issues/rendering-artefacts-appear-in-the-editor-when-modifying-the-reflection-probe-box-size))
    
*   IL2CPP: Fix incremental GC issue when using multidimensional arrays and full generic sharing.  
    [https://github.cds.internal.unity3d.com/unity/il2cpp/pull/6318](https://github.cds.internal.unity3d.com/unity/il2cpp/pull/6318)  
    [https://jira.unity3d.com/browse/UUM-74630](https://jira.unity3d.com/browse/UUM-74630) (UUM-74630)
    
*   IL2CPP: Fix the `buildReport` parameter being null during calls to `GenerateAdditionalLinkXmlFile` (UUM-70019)
    
*   IL2CPP: Fixed possible deadlock in the C# threadpool  
    [https://github.cds.internal.unity3d.com/unity/il2cpp/pull/6283](https://github.cds.internal.unity3d.com/unity/il2cpp/pull/6283)  
    [https://jira.unity3d.com/browse/UUM-72739](https://jira.unity3d.com/browse/UUM-72739) (UUM-72739)
    
*   macOS: Clear composition string on mouse press (affect IME input). ([UUM-74702](https://issuetracker.unity3d.com/issues/the-composition-string-is-not-cleared-and-is-transferred-to-another-input-field-when-the-previous-input-field-loses-focus-in-the-macos-player))
    
*   Mono: Fix crash on access zip files on Linux distributions using zlib-ng (Fedora 40)  
    [https://github.com/Unity-Technologies/mono/pull/2037](https://github.com/Unity-Technologies/mono/pull/2037)  
    [https://jira.unity3d.com/browse/UUM-72446](https://jira.unity3d.com/browse/UUM-72446) ([UUM-72446](https://issuetracker.unity3d.com/issues/linux-crash-on-libc-free-when-closing-stream-reader-which-reads-file-content-from-a-zip-file))
    
*   Mono: Fix exception when using System.IO.Compression.BrotliStream on Android.  
    [https://github.com/Unity-Technologies/mono/pull/2045](https://github.com/Unity-Technologies/mono/pull/2045)  
    [https://jira.unity3d.com/browse/UUM-73753](https://jira.unity3d.com/browse/UUM-73753) ([UUM-73753](https://issuetracker.unity3d.com/issues/error-dllnotfoundexception-internal-assembly-type-member-null-when-attaching-a-managed-debugger-for-the-build-of-a-specific-project-with-mono-scripting-backend))
    
*   Mono: Fixed "System.Net.CookieContainer" throws an "ArgumentException" error when using a non-UTF-8 machine locale and hostname  
    [https://github.com/Unity-Technologies/mono/pull/2040](https://github.com/Unity-Technologies/mono/pull/2040)  
    [https://jira.unity3d.com/browse/UUM-70240](https://jira.unity3d.com/browse/UUM-70240) ([UUM-70240](https://issuetracker.unity3d.com/issues/system-dot-net-dot-cookiecontainer-throws-an-argumentexception-error-when-using-a-non-utf-8-machine-locale-and-hostname))
    
*   N/A (internal): Fix memory profiler test instabilities (UUM-46797)
    
*   Profiler: Memory Profiler may require less memory on capturing from a player. (UUM-46797)
    
*   SRP Core: Avoid that the same volume can be registered more than 1 time in the VolumeManager. ([UUM-70658](https://issuetracker.unity3d.com/issues/unityengine-dot-rendering-dot-volume-dot-onenable-is-called-twice-before-ondisable-creating-multiple-copies-of-the-same-volume-when-a-volume-is-enabled-right-after-domain-reload-when-entering-play-mode))
    
*   Universal RP: Disable fallback behavior on FSR EASU shader to prevent build errors on machines with old GPUs ([UUM-60575](https://issuetracker.unity3d.com/issues/android-build-fails-with-hidden-slash-universal-render-pipeline-slash-edge-adaptive-spatial-upsampling-shader-is-not-supported-on-this-gpu-none-of-subshaders-slash-fallbacks-are-suitable-warning-message-when-building-empty-urp-template-for-android))
    
*   Universal RP: Reduced banding on FSR upscaled render target by changing render target formats ([UUM-52901](https://issuetracker.unity3d.com/issues/noticeable-color-banding-artifacts-appear-when-fidelityfx-super-resolution-fsr-is-active-with-a-render-scale-less-than-1-dot-05))
    
*   URP: Fixed compiler error when using single precision on Mobile targets ([UUM-48035](https://issuetracker.unity3d.com/issues/shader-graph-shader-compilation-error-when-using-precision-mode-as-single-in-shader-graph-with-android-platform))
    
*   Version Control: Fixed the Unity Editor stuck on "Creating workspace" when "Use Unity Version Control" was selected from the Hub
    
*   Web: Make WebGL ignore BuildOptions.AllowDebugging, instead of failing to build when the option is used.

### Known Issues in 2021.3.41f1

*   Asset - Database: Crash on GetAssetCachedInfoV2 when opening a project ([UUM-14959](https://issuetracker.unity3d.com/issues/crash-on-getassetcachedinfov2-when-opening-a-project))
    
*   Asset Bundles: The resource is not properly referenced when there is a dependency on another asset bundle ([UUM-74871](https://issuetracker.unity3d.com/issues/the-resource-is-not-properly-referenced-when-there-is-a-dependency-on-another-asset-bundle))
    
*   DirectX12: \[DX12\] Player crash on UnityMain when building HDRP Sample on Windows ([UUM-75100](https://issuetracker.unity3d.com/issues/dx12-player-crash-on-unitymain-when-building-hdrp-sample-on-windows))
    
*   iOS: iOS Simulator SDK is missing ARM64 Architecture support ([UUM-2238](https://issuetracker.unity3d.com/issues/ios-simulator-sdk-is-missing-arm64-architecture-support))
    
*   Kernel: VirtualFileSystem crash because of data races. ([UUM-72557](https://issuetracker.unity3d.com/issues/virtualfilesystem-crash-because-of-data-races))
    
*   PhysX Integration: A 1000 times heavier GameObject will stutter when colliding with a lighter GameObject ([UUM-65366](https://issuetracker.unity3d.com/issues/a-1000-times-heavier-gameobject-will-stutter-when-colliding-with-a-lighter-gameobject))
    
*   Templates Microgames: Errors are thrown when creating a new FPS Microgame template project ([UUM-76170](https://issuetracker.unity3d.com/issues/errors-are-thrown-when-creating-a-new-fps-microgame-template-project))
    

### 2021.3.41f1 Release Notes

#### Improvements

*   Animation: Improved Animation Mode performance when using custom properties. ([UUM-73525](https://issuetracker.unity3d.com/issues/the-editor-freezes-when-changes-are-made-in-the-timeline-window-and-a-large-number-of-animation-curve-bindings-and-gameobjects-are-loaded))
    
*   Documentation: Added notes about player build cache to PostProcessScene docs. ([UUM-69256](https://issuetracker.unity3d.com/issues/the-postprocesssceneattribute-is-not-called-when-the-project-is-built-more-than-once))
    
*   Editor: Added details to the "incompatible keyword space" error message which is occasionally generated by shaders. ([UUM-58563](https://issuetracker.unity3d.com/issues/state-comes-from-incompatible-keyword-space-error-not-very-informative))
    
*   Editor: The "Read/Write" toggle in the Texture Importer Inspector is now hidden for 2D Array and 3D textures, these shapes are always imported as readable in 2021.3 and earlier versions. Documentation has been updated as well. (UUM-68471)
    

#### Changes

*   Android: Updated Gradle version to 7.5.1 (from 6.7.1), AGP version to 7.4.2 (from 4.2.2) and JDK to 11 (from 1.8).
    
*   Version Control: Added "Undo unchanged" and "Undo checkouts keeping changes" options to pending changes view.
    
*   Version Control: Changed the default ignore.conf to not ignore itself anymore.
    
*   Version Control: Removed focus redirection after Check-in.
    

#### Fixes

*   AI: Fixed an issue where NavMeshData belonging to a scene would remain loaded after the scene had been offloaded. This issue only occurred when the "Do not reload scene"-option has been checked in the editor settings. ([UUM-29346](https://issuetracker.unity3d.com/issues/navmesh-from-previous-scene-is-visible-after-going-into-play-mode-when-reload-scene-is-toggled-off))
    
*   Android: Fixed build failure when targetSDK 34 and depending on androidX legacy library. ([UUM-74132](https://issuetracker.unity3d.com/issues/android-build-fails-in-unity-2021-when-targetsdk-34-and-depending-on-androidx-legacy-library))
    
*   Android: Fixed detection of Play Asset Delivery support to avoid problems if there is play.core dependency in the project. (UUM-74252)
    
*   Android: Fixed player crash when changing cursor multiple times. ([UUM-74941](https://issuetracker.unity3d.com/issues/android-the-player-crashes-when-changing-cursor-multiple-times-on-android))
    
*   Android: To add activity null handling in isInMultiWindowMode API. ([UUM-71574](https://issuetracker.unity3d.com/issues/android-the-player-crashes-at-isinmultiwindowmode-when-using-lifecycle-methods))
    
*   Animation: Fixed additive animations ever increasing non animated values. ([UUM-68376](https://issuetracker.unity3d.com/issues/gameobject-continues-to-increase-in-scale-when-the-animation-layers-blending-is-set-to-additive))
    
*   Apple TV: Fixed tvOS simulator input crash. ([UUM-70232](https://issuetracker.unity3d.com/issues/tvos-project-crashes-on-startup-on-apple-tv-simulator-both-x86-64-and-arm64-architectures))
    
*   Asset Bundles: Fixed an issue where an hash was added to the manifest file name when building AssetBundles. ([UUM-66821](https://issuetracker.unity3d.com/issues/scene-assetbundle-manifest-file-names-have-hashes-attached-when-assetbundles-are-built))
    
*   Asset Bundles: Only call CollectAllSpriteAtlasesAndPack once when building AssetBundles. (UUM-73147)
    
*   Build System: Fixed a potential crash when building. ([UUM-72309](https://issuetracker.unity3d.com/issues/crash-on-mono-array-length-when-building-a-project))
    
*   Documentation: Fixed a typo in the Create your own overlay page of the documentation.
    
*   Editor: Fixed a bug where UI Canvas using Screen Space render mode would use an incorrect game view size and behave erratically. ([UUM-73707](https://issuetracker.unity3d.com/issues/erratic-behavior-while-editing-ui-in-prefab-when-canvas-render-mode-is-set-to-screen-space-camera-option))
    
*   Editor: Fixed a LinuxEditor crash calling WarpCursorPosition outside of PlayMode. ([UUM-71828](https://issuetracker.unity3d.com/issues/linux-crash-on-newinput-mousecallbacks-ioctl-when-warpcursorposition-function-is-called))
    
*   Editor: Fixed an error when destroying a camera with a texture assigned to the TargetTexture property. ([UUM-2869](https://issuetracker.unity3d.com/issues/android-releasing-render-texture-that-is-set-as-camera-dot-targettexture-error-when-calling-resources-dot-unloadunusedassets))
    
*   Editor: Fixed an issue that would cause the pan control on audio sources to not work properly in some cases. ([UUM-65071](https://issuetracker.unity3d.com/issues/audiosource-stereo-pan-property-doesnt-fully-mute-the-right-or-left-channel-when-using-a-videoplayer-attached-to-an-audiosource-and-setting-the-option-to-1-or-1))
    
*   Editor: Fixed an issue where Texture.SetTextureSetting would take invalid values. ([UUM-63703](https://issuetracker.unity3d.com/issues/sprite-is-not-generated-when-its-texture-settings-are-changed-via-textureimportersettings))
    
*   Editor: Fixed crash in LMDB\_Transaction::AbortAndRestart(). (UUM-70115)
    
*   Editor: Fixed decal material upgrade.
    
*   Editor: Fixed failing importing of multi image EXR files with alternative channel names. ([UUM-62509](https://issuetracker.unity3d.com/issues/exr-import-fails-when-using-valid-exr-textures-from-alab-dataset))
    
*   Editor: Fixed issues with menu item Id values going out of sync on windows. ([UUM-73047](https://issuetracker.unity3d.com/issues/custom-and-built-in-menu-items-stop-working-when-a-project-has-lots-of-menu-items))
    
*   Editor: Fixed neutral Tonemapping artifacts when using 64-bit textures. ([UUM-55852](https://issuetracker.unity3d.com/issues/unlit-shader-graph-displays-incorrect-data-when-in-the-scene-view))
    
*   Editor: Fixed unexpected error while switching between branches.
    
*   Editor: Fixed wireframe not rendered in the Scene View. ([UUM-36914](https://issuetracker.unity3d.com/issues/objects-are-invisible-in-scene-view-when-using-wireframe-shading-mode))
    
*   Editor: Hide a RenderMode field from Light Component in URP and removed related documentation. ([UUM-70283](https://issuetracker.unity3d.com/issues/important-slash-unimportant-setting-on-lights-doesnt-take-effect))
    
*   Editor: Improved setlocale LC\_NUMERIC guards. (UUM-58980)
    
*   Graphics: Added validation that SetVertexAttribute() streams doesnt create gaps. ([UUM-72229](https://issuetracker.unity3d.com/issues/no-error-is-logged-when-calling-the-setvertexbufferparams-incorrectly))
    
*   Graphics: Fixed a crash on Linux Editor where Vulkan may recreate SwapChains while the previous SwapChain's images may still be in use by a command buffer. ([UUM-73447](https://issuetracker.unity3d.com/issues/linux-vulkan-crash-when-using-nvidia-drivers-545-and-graphics-api-set-to-vulkan))
    
*   Graphics: Fixed an issue where material property block allocations were reported as "Unknown". ([UUM-71008](https://issuetracker.unity3d.com/issues/materialpropertyblocks-allocated-memory-is-displayed-under-unknown-when-observed-through-the-memory-profiler))
    
*   Graphics: Fixed broken URL for documentation on Texture2D. ([UUM-74607](https://issuetracker.unity3d.com/issues/texture-2d-reference-links-to-missing-documentation))
    
*   Graphics: Fixed Linear01DepthFromNear shader utility function on APIs with reversed Z buffer. ([UUM-19101](https://issuetracker.unity3d.com/issues/linear01depth-doesnt-return-different-values-depending-on-unity-reversed-z-when-graphics-api-is-not-openglcore))
    
*   Graphics: Fixed Vulkan native rendering plugin returning an invalid texture when sampler configuration is updated. ([UUM-73757](https://issuetracker.unity3d.com/issues/nativeplugin-vulkan-image-gets-deleted-while-in-use-and-accesstexture-returns-an-invalid-texture-causing-a-crash-or-corruption-when-qualitysettings-dot-anisotropicfiltering-is-called))
    
*   GraphView: Some Mac keyboard events not having mousePosition in the editor. ([UUM-62291](https://issuetracker.unity3d.com/issues/vfx-node-creation-window-opens-at-the-top-left-corner-of-the-screen-when-using-spacebar))
    
*   HDRP: Fixed flickering when using Screen Space Reflection with asynchronous compute shaders on PS5. (UUM-70273)
    
*   iOS: Small memory leak in UnityWebRequest (custom HTTP headers). ([UUM-73104](https://issuetracker.unity3d.com/issues/ios-memory-leaks-occur-when-unitywebrequest-dot-get-is-called))
    
*   macOS: Fixed forward and back buttons being recognized as middle button. ([UUM-70259](https://issuetracker.unity3d.com/issues/macos-forward-and-backward-mouse-buttons-are-recognized-as-middle-mouse-button))
    
*   macOS: Fixed Xcode project build failure when exporting a project where a package contains .xcprivacy file. ([UUM-74874](https://issuetracker.unity3d.com/issues/macos-xcode-project-build-fails-when-a-package-has-privacymanifest))
    
*   Mono: Fixed memory leak when validating a SSL certificate. ([UUM-72433](https://issuetracker.unity3d.com/issues/ios-memory-leaks-when-using-the-sslstream-class))
    
*   Package: Bug fixing cinemachine.
    
*   Player: Fixed possible crash on shut down when custom player loop is set. ([UUM-72551](https://issuetracker.unity3d.com/issues/ios-crash-on-il2cpp-gc-gchandle-free-when-app-returns-to-foreground))
    
*   Shaders: Fixed a runtime crash that could occur when loading shader sub-program parameters. ([UUM-70213](https://issuetracker.unity3d.com/issues/linux-player-crash-on-shader-srpbatcherinfosetup-when-opening-player-build))
    
*   UI Toolkit: UI Toolkit foldout interaction enabled on controllers. ([UUM-73752](https://issuetracker.unity3d.com/issues/unable-to-select-ui-toolkit-foldout-element-when-using-a-gamepad-controller))
    
*   Version Control: Fixed "Collection was modified" error when doing multiple renames in a row.
    
*   Version Control: Fixed "item with the same key has already been added" error.
    
*   Version Control: Fixed check in error if nothing is selected in the pending changes tree.
    
*   Version Control: Fixed column sorting in pending changes view.
    
*   Version Control: Fixed error after renaming a parent branch of the working branch.
    
*   Version Control: Fixed failure to delete a .meta file when deleting a private folder from the pending changes.
    
*   Version Control: Fixed hang on domain reload.
    
*   Version Control: Fixed missing incoming changes after removing a branch.
    
*   Version Control: Fixed text cut-off in filter rules dialog.
    
*   Version Control: Fixed undo & check-in operations not working when the current scene was never saved.
    
*   Version Control: Fixed variables's value becoming clear after resolving conflict in inspector.
    
*   Version Control: Moving folders in the Editor now correctly use the UVCS "Move" operation.
    
*   Version Control: Removed misleading indication about shelves.
    
*   Version Control: Supported workspace name with non-latin characters in Pending Changes.
    
*   VFX Graph: Blackboard could be out of the screen when the VFX Graph window was too small. ([UUM-65513](https://issuetracker.unity3d.com/issues/layout-elements-are-missing-when-the-vfx-graph-window-is-docked-horizontally))
    
*   Video: Editor freezes when playing videos with playback speed value <1 and setting time via started callback. ([UUM-73115](https://issuetracker.unity3d.com/issues/editor-freezes-when-playing-videos-from-url-with-playback-speed-value-1-and-setting-time-via-started-callback))
    
*   Video: Memory increases gradually when UWP webcam is opened/closed. ([UUM-62347](https://issuetracker.unity3d.com/issues/memory-increases-gradually-when-the-camera-is-opened-and-closed))
    
*   Video: \[Android\] Player with the specific Video clip crashes on "/apex/com.android.runtime/lib/bionic/libc.so (\_\_memcpy\_a53+96)" when the video is bundled with other video clips and Codec is set to VP8. The first few seconds of the video audio is distorted on the Android Player. ([UUM-73032](https://issuetracker.unity3d.com/issues/android-player-with-the-specific-video-clip-crashes-on-slash-apex-slash-com-dot-android-dot-runtime-slash-lib-slash-bionic-slash-libc-dot-so-memcpy-a53-plus-96-when-the-video-is-bundled-with-other-video-clips-and-codec-is-set-to-vp8))
    
*   Windows: Fixed issue with non-native Refreshrate not being restored in Exclusive Fullscreen mode upon restart. ([UUM-62542](https://issuetracker.unity3d.com/issues/player-refresh-rate-is-not-restored-after-restarting-when-setting-the-refresh-rate-to-a-non-native-one-in-exclusivefullscreen-mode))

### Known Issues in 2021.3.40f1

*   Asset - Database: Crash on GetAssetCachedInfoV2 when opening a project ([UUM-14959](https://issuetracker.unity3d.com/issues/crash-on-getassetcachedinfov2-when-opening-a-project))
    
*   Asset Importers: Unity crashes on strtol\_l when importing a specific .obj file ([UUM-42697](https://issuetracker.unity3d.com/issues/unity-crashes-on-strtol-l-when-importing-a-specific-obj-file))
    
*   iOS: iOS Simulator SDK is missing ARM64 Architecture support ([UUM-2238](https://issuetracker.unity3d.com/issues/ios-simulator-sdk-is-missing-arm64-architecture-support))
    
*   Kernel: VirtualFileSystem crash because of data races. ([UUM-72557](https://issuetracker.unity3d.com/issues/virtualfilesystem-crash-because-of-data-races))
    
*   Lighting: \[HDRP\] Light doesn't bounce off terrains ([UUM-71171](https://issuetracker.unity3d.com/issues/hdrp-light-doesnt-bounce-off-terrains))
    
*   PhysX Integration: A 1000 times heavier GameObject will stutter when colliding with a lighter GameObject ([UUM-65366](https://issuetracker.unity3d.com/issues/a-1000-times-heavier-gameobject-will-stutter-when-colliding-with-a-lighter-gameobject))
    
*   Universal RP: Objects are invisible in Scene view when using Wireframe Shading Mode ([UUM-36914](https://issuetracker.unity3d.com/issues/objects-are-invisible-in-scene-view-when-using-wireframe-shading-mode))
    
*   Vulkan: \[Linux\]\[Vulkan\] Crash when using Nvidia drivers >545 and graphics API set to Vulkan ([UUM-73447](https://issuetracker.unity3d.com/issues/linux-vulkan-crash-when-using-nvidia-drivers-545-and-graphics-api-set-to-vulkan))
    

### 2021.3.40f1 Release Notes

#### Improvements

*   DX12: Improved DX12 DRED info logging. (UUM-72380)
    
*   iOS: Print a warning if there are symlinks in a framework when building on Windows.
    
*   iOS: Validate that frameworks contain Info.plist file.
    
*   URP: Update URP documentation to explicitly mention that calling Submit() on a command buffer provided by URP from an user pass is not valid. ([UUM-33315](https://issuetracker.unity3d.com/issues/errors-regarding-profilers-dot-endsample-thrown-while-recording-profiling-information-with-profiler-when-using-custom-scriptablerenderpass-with-urp))
    

#### API Changes

*   Editor: Added: Exposed constructor of PooledObject. ([UUM-64168](https://issuetracker.unity3d.com/issues/nullreferenceexception-is-thrown-when-implementing-iobjectpool-interface))
    
*   Editor: Deprecated: Using XRSettings.enabled to enable/disable XR for an application is now deprecated in favor of calling Start()/Stop() on an XRDisplaySubystem instance.  
    Using XRSettings.LoadDeviceByName to load XR devices is now deprecated in favor of querying subsystem descriptors to create and start the subsystems of your choice with the SubystemManager. (UUM-30572)
    

#### Fixes

*   2D: Fixed an issue where the outline detail is reset to 0 for a Sprite Rect in the Sprite Editor when an outline is pasted onto a Sprite Rect. ([UUM-72965](https://issuetracker.unity3d.com/issues/sprite-editor-reverts-the-outline-detail-parameter-to-0-when-a-copied-outline-is-pasted))
    
*   Android: Fixed an In multi-window mode issue, when "Run in background" is true and "Mute Other Audio Sources" is false, Unity will run and sound will always play. When "Run in background" is true and "Mute Other Audio Sources" is true, Unity will always run, but you will only hear the Unity app's sound if its window has focus. Sound will be muted when the Unity window is not in focus. In multi-window mode, if "Run in background" is false, Unity will not run and sound will stop playing. ([UUM-56962](https://issuetracker.unity3d.com/issues/android-an-issue-that-the-sound-does-not-stop-while-rendering-when-a-unity-app-in-multi-window-loses-focus-run-in-background-disabled))
    
*   Android: Fixed an issue where calling Cursor.visible on Android API 23 would cause a runtime error. Since [https://developer.android.com/reference/android/view/PointerIcon](https://developer.android.com/reference/android/view/PointerIcon) is only available on API 24 or higher. Cursor.visible won't do anything in API 23. (UUM-72191)
    
*   Android: Fixed an issue where Input.location would not work correctly even if old input system disabled. ([UUM-73469](https://issuetracker.unity3d.com/issues/android-locationservice-stuck-initializing-with-new-inputsystem))
    
*   Android: Fixed IMGUI input even position when screen is scaled to different resolution than the view it's in when input backend was set to New Input. (UUM-68787)
    
*   Android: SoftInput support improvement on Activity on Quest2/3 when using OpenXR. ([UUM-35011](https://issuetracker.unity3d.com/issues/quest-softkeyboard-doesnt-close-on-quest-2-with-tmp-inputfield-line-type-set-to-multi-line))
    
*   Android: Update AndroidNativePlugin example in docs for all Android architectures. (UUM-72369)
    
*   Animation: Fixed crash when setting a variable after having destroyed the controller. ([UUM-72121](https://issuetracker.unity3d.com/issues/crash-on-animator-custom-setfloatstring-when-a-float-parameter-for-an-animator-is-set-in-play-mode-after-changing-the-runtimeanimatorcontroller))
    
*   Animation: Fixed PlayableDirector fields that were not being updated when the Bindings section was expanded. ([UUM-71674](https://issuetracker.unity3d.com/issues/the-playabledirector-component-properties-are-not-being-updated-when-the-bindings-section-is-expanded))
    
*   Asset Bundles: Improve parallelism of the Main Thread integration and the Preload Manager thread. (UUM-70670)
    
*   Audio: Fixed an issue that would cause the editor to crash if you delete and then re-add an audio listener component. ([UUM-61733](https://issuetracker.unity3d.com/issues/crash-adding-audiolistener-component-with-onaudiofilterread-crashes-the-editor))
    
*   Build Pipeline: Fixed an issue when vswhere.exe failed detecting Visual Studio installations, there was no warning emitted to the editor console. (UUM-71000)
    
*   Documentation: Fixed an issue by updating the directions to the Project Settings window in our Settings page.
    
*   DX12: Fixed an issue where ComputeBuffer CopyCount returned incorrect value following multiple compute dispatches. ([UUM-66900](https://issuetracker.unity3d.com/issues/directx-12-copycomputebuffercount-is-getting-a-wrong-value-when-the-resource-transition-is-missing))
    
*   Editor: 2D: Updated 2D Feature documentation link. ([UUM-70575](https://issuetracker.unity3d.com/issues/package-manager-feature-quick-start-links-open-up-old-documentation))
    
*   Editor: Fixed an issue by including a new setting to skip local package scanning during version control initialization. ([UUM-70391](https://issuetracker.unity3d.com/issues/the-editor-hangs-when-opening-a-project-that-uses-local-packages-and-version-control))
    
*   Editor: Fixed an issue where crashes could occur while quitting when Cloud Diagnostics is enabled. ([UUM-59177](https://issuetracker.unity3d.com/issues/player-crashes-on-debugstringtofilepostprocessedstacktrace-when-exiting-and-an-exception-is-thrown-with-cloud-diagnostics-activated))
    
*   Editor: Fixed an issue where Drag and drop operations performed on files within the currently open projects' folder would fail on Windows. ([UUM-54537](https://issuetracker.unity3d.com/issues/dragperformevent-is-not-called-when-files-from-the-project-folder-are-used))
    
*   Editor: Fixed an issue where IME input did not work with Input System when using Chinese (Simplified) input. ([UUM-61922](https://issuetracker.unity3d.com/issues/ime-input-does-not-work-with-input-system-when-using-chinese-simplified-input))
    
*   Editor: Fixed an issue where MacOs framework bundles now preserve their symbolic links when when they are dragged and dropped in the editor Assets. ([UUM-70795](https://issuetracker.unity3d.com/issues/symbolic-links-disappear-when-a-xcframework-file-is-added-through-the-unity-editor))
    
*   Editor: Fixed an issue where polygons are created on the opposite side of the sprite for uGUI images. ([UUM-71372](https://issuetracker.unity3d.com/issues/polygons-are-created-on-the-opposite-side-of-the-sprite-when-the-sprite-boundaries-are-above-the-edge-of-the-texture))
    
*   Editor: Fixed not raising RenderPipelineTypeChanged callback if only scene view is active. ([UUM-70198](https://issuetracker.unity3d.com/issues/renderpipelinemanager-dot-activerenderpipelinetypechanged-does-not-detect-changes-when-changing-the-render-pipeline-asset-outside-of-play-mode))
    
*   Editor: Fixed splash screen logo and background sprites being unloaded after preview. This would also unload them if they were being used in the scene. ([UUM-72535](https://issuetracker.unity3d.com/issues/all-instances-of-the-splash-screen-sprite-are-not-rendered-after-the-splash-screen-ends-when-it-is-previewed-in-the-editor))
    
*   Editor: Fixed the operator method was using Assert.Equals to check Pose equality, when it should have been using . The Equals method was using ==, when it should have been using Assert.Equals. ([UUM-48738](https://issuetracker.unity3d.com/issues/pose-equals-function-test-fails-when-comparing-it-with-itself))
    
*   Editor: Fixed Windows Editor ContextMenus opening on the wrong monitor when using a 3rd display with different DPI but doesn't address the issue with custom Unity DropDown menus/windows. ([UUM-70231](https://issuetracker.unity3d.com/issues/context-menus-open-on-a-different-monitor-when-there-are-three-monitors-used))
    
*   Graphics: Fixed applying a wrong viewport when a deferred camera uses a modified viewport together with a user-defined render target. ([UUM-70711](https://issuetracker.unity3d.com/issues/gameobjects-with-a-material-derived-from-a-custom-lighting-surface-shader-are-displayed-as-skewed-on-quads-when-the-cameras-width-and-height-properties-of-the-viewport-rect-are-lower-than-1))
    
*   Graphics: Fixed Deferred Depth texture dimensions mismatch when modifying Camera's Viewport Rect. ([UUM-65233](https://issuetracker.unity3d.com/issues/shaders-cameradepthtexture-is-not-read-when-the-camera-is-rendering-to-a-rendertexture-and-has-a-reduced-viewport))
    
*   Graphics: Fixed Depth Buffer flickering during screen recording in Android Application. ([UUM-70284](https://issuetracker.unity3d.com/issues/android-vulkan-depth-buffer-flickering-in-the-player-when-recording-the-screen))
    
*   Graphics: Fixed dynamic batching not using NEON optimized path when vertex normals or tangents are used. (UUM-72138)
    
*   Graphics: Fixed Graph and Camera options for Render Graph Viewer disappear after maximising the window. ([UUM-70378](https://issuetracker.unity3d.com/issues/graph-and-camera-options-for-render-graph-viewer-disappear-after-maximising-the-window))
    
*   Graphics: Fixed IUnityGraphicsMetal.CurrentCommandEncoder returning nil when there were no draw calls issued yet with current RenderTarget. ([UUM-73601](https://issuetracker.unity3d.com/issues/iunitygraphicsmetal-dot-currentcommandencoder-returns-null-when-the-depthtexturemode-dot-motionvectors-is-set))
    
*   HDRP: Fixed an issue where the default terrain shader for HDRP was outputting incorrect albedo values to the lightmapper. ([UUM-71171](https://issuetracker.unity3d.com/issues/hdrp-light-doesnt-bounce-off-terrains))
    
*   IL2CPP: Added support for custom attributes on return types. ([UUM-69804](https://issuetracker.unity3d.com/issues/il2cpp-custom-attribute-on-delegate-return-value-not-present-in-il2cpp-builds))
    
*   IL2CPP: Fixed a crash when calling Marshal.OffsetOf on a generic type. ([UUM-68499](https://issuetracker.unity3d.com/issues/il2cpp-player-crashes-on-il2cpp-vm-class-getfieldmarshaledsize-when-using-marshal-dot-offsetof-with-generic-struct))
    
*   IL2CPP: Fixed custom linker setup with --linker-flags-file. (UUM-71341)
    
*   IL2CPP: Fixed slow performance when loading an XML document with DTD. ([UUM-66880](https://issuetracker.unity3d.com/issues/headers-of-xhtml-documents-are-rewritten-when-building-with-il2cpp))
    
*   IL2CPP: Fixed sporadic crashes on ARM based platforms. ([UUM-68221](https://issuetracker.unity3d.com/issues/android-il2cpp-player-crashes-on-memcpy-aarch64-simd-plus-276-when-invoking-native-code-via-a-plugin-on-some-arm64-android-devices))
    
*   iOS: Fixed symlinks not being preserved in Frameworks when exporting an iOS project ([UUM-71657](https://issuetracker.unity3d.com/issues/symlinks-are-broken-when-a-package-which-contains-xcframework-plus-symlinks-is-added-through-unity-package-manager))
    
*   iOS: Fixed view briefly distorting when rotating device with auto-rotation enabled. ([UUM-63417](https://issuetracker.unity3d.com/issues/visual-jumps-slash-screen-stretching-occurs-during-rotation-when-using-unityframework))
    
*   Linux: Fixed touch freezes in Player when any mouse button is clicked. ([UUM-70659](https://issuetracker.unity3d.com/issues/linux-touch-freezes-in-player-when-any-mouse-button-is-clicked))
    
*   macOS: Fixed macOS player freezing when re-focusing or changing resolution. ([UUM-67400](https://issuetracker.unity3d.com/issues/player-hangs-when-re-focusing-the-player-window-after-switching-to-a-window-that-covers-the-player-window))
    
*   Package Manager: Disabled uneditable package manager values in inspector for selected packages. ([UUM-42560](https://issuetracker.unity3d.com/issues/package-manager-values-in-the-inspector-are-displayed-in-uneditable-text-boxes))
    
*   Package Manager: Fixed an issue by displaying a console warning when the user attempts to install a git package while another installation is in progress, explaining the reason for the operation's failure. ([UUM-63744](https://issuetracker.unity3d.com/issues/just-the-first-package-is-being-installed-and-no-error-slash-warning-message-is-logged-when-installing-two-packages-using-add-package-from-git-url))
    
*   Scene/Game View: Fixed the direction label that was not updating anymore since moving the orientation gizmo to an overlay. ([UUM-72103](https://issuetracker.unity3d.com/issues/the-text-below-orientation-gizmo-does-not-change-when-the-scene-viewing-direction-changes))
    
*   Scripting: Fixed WaitForEndOfFrame calls multiple times a frame when multiple Game View Windows are visible. ([UUM-66275](https://issuetracker.unity3d.com/issues/waitforendofframe-calls-multiple-times-a-frame-when-multiple-game-view-windows-are-visible))
    
*   Scripting: Fixed WaitForEndOfFrame calls multiple times a frame when multiple Game View Windows are visible. ([UUM-66275](https://issuetracker.unity3d.com/issues/waitforendofframe-calls-multiple-times-a-frame-when-multiple-game-view-windows-are-visible))
    
*   Search: Fixed an issue where SearchContext attribute did not work with arrays and lists. ([UUM-65462](https://issuetracker.unity3d.com/issues/searchcontext-attribute-does-not-work-when-used-with-arrays))
    
*   Serialization: Fixed an issue by exporting non serializable types to TypeDB when it's possible to use them as base classes for serializable types. ([UUM-21897](https://issuetracker.unity3d.com/issues/player-crash-when-opening-the-player-build))
    
*   Shaders: Fixed "incompatible keyword state" assertions being generated by shaders whose `UsePass` command resolved to a pass from the target shader's fallback. ([UUM-71342](https://issuetracker.unity3d.com/issues/resolveusepasses-now-extracts-passes-from-all-subshaders-including-fallbacks-in-contrast-to-documented-behaviour))
    
*   Shaders: Fixed ShaderLab's `UsePass` command finding passes from multiple subshaders. ([UUM-71342](https://issuetracker.unity3d.com/issues/resolveusepasses-now-extracts-passes-from-all-subshaders-including-fallbacks-in-contrast-to-documented-behaviour))
    
*   uGUI: Fixed an issue of inconsistent detection of points within the boundaries of RectTransform-defined rectangles. ([UUM-69945](https://issuetracker.unity3d.com/issues/rectanglecontainsscreenpoint-returns-false-for-some-points-even-when-the-points-are-in-the-rectangle))
    
*   UI Elements: Fixed clicking to the left/right of the MinMaxSlider will now adjust the min/max bound value instead of moving the slider. ([UUM-54703](https://issuetracker.unity3d.com/issues/interacting-with-a-randomization-slider-by-clicks-changes-the-other-end))
    
*   Universal RP: Fixed an issue where artefacts appeared when using Soft Shadows on OpenGL. ([UUM-72286](https://issuetracker.unity3d.com/issues/android-opengl-soft-shadows-contain-artifacts-when-the-opengl-graphics-api-is-used))
    
*   URP: Fixed an issue by disabling a faulty NRP for Editor-only FinalCopyDepth pass in URP 3D. ([UUM-57147](https://issuetracker.unity3d.com/issues/errors-are-thrown-when-gizmos-button-of-game-view-is-active))
    
*   VFX Graph: Fixed a leak while spamming ReInit. ([UUM-71455](https://issuetracker.unity3d.com/issues/vfx-graph-memory-leak-when-calling-the-clearpropertybinders-and-addremovevfxproperty))
    
*   Video: Fixed an issue where VideoPlayer support of multiple audio tracks was broken on a few platforms. (UUM-55268)

### Known Issues in 2021.3.39f1

*   Asset - Database: Crash on GetAssetCachedInfoV2 when opening a project ([UUM-14959](https://issuetracker.unity3d.com/issues/crash-on-getassetcachedinfov2-when-opening-a-project))
    
*   Asset Importers: Unity crashes on strtol\_l when importing a specific .obj file ([UUM-42697](https://issuetracker.unity3d.com/issues/unity-crashes-on-strtol-l-when-importing-a-specific-obj-file))
    
*   iOS: iOS Simulator SDK is missing ARM64 Architecture support ([UUM-2238](https://issuetracker.unity3d.com/issues/ios-simulator-sdk-is-missing-arm64-architecture-support))
    
*   Kernel: VirtualFileSystem crash because of data races. ([UUM-72557](https://issuetracker.unity3d.com/issues/virtualfilesystem-crash-because-of-data-races))
    
*   Lighting: \[HDRP\] Light doesn't bounce off terrains ([UUM-71171](https://issuetracker.unity3d.com/issues/hdrp-light-doesnt-bounce-off-terrains))
    
*   PhysX Integration: A 1000 times heavier GameObject will stutter when colliding with a lighter GameObject ([UUM-65366](https://issuetracker.unity3d.com/issues/a-1000-times-heavier-gameobject-will-stutter-when-colliding-with-a-lighter-gameobject))
    

### 2021.3.39f1 Release Notes

#### Features

*   macOS: Added Apple Privacy Manifests support for macOS.

#### Changes

*   Android: New Google Play asset packs size and number limits. Unity generated asset packs now are always install-time.  
    Warning: there might be bundletool related device connectivity problems when trying Build and Run App Bundles which include asset packs bigger than 1GB. (UUM-68512)
    
*   Android: New Google Play base module size limit (200Mb). (UUM-67708)
    

#### Fixes

*   2D: Fixed hint text not showing when trying to slice compress texture in Sprite Editor Window slice menu. ([UUM-59303](https://issuetracker.unity3d.com/issues/sprites-are-sliced-wrong-when-they-are-being-sliced-automatically-on-iossupport-platform-for-macos))
    
*   Android: Bump Android Logcat Package to 1.4.2.
    
*   Android: Fixed logic for overriding builtin java file, Unity will also now respect package name inside java file. Previously the logic was driven only by java file name. ([UUM-67826](https://issuetracker.unity3d.com/issues/android-cannot-find-symbol-public-class-unityplayeractivity-extends-com-dot-unity3d-dot-player-dot-unityplayeractivity-error-is-thrown-when-building-for-the-android-platform))
    
*   Android: Fixed problem with overflow when validating size of AppBundle containing more than 2GB of install time data. (UUM-71024)
    
*   Android: Updated documentation and a warning message to use the correct link to the Google Play asset packs limits. (UUM-71849)
    
*   Animation: Transition duplicates are no longer added in the AnimatorController file when copy pasting an AnimatorState. ([UUM-68642](https://issuetracker.unity3d.com/issues/duplicates-of-the-previously-outgoing-transitions-are-created-in-the-animatorcontroller-file-when-duplicating-an-animator-state))
    
*   Asset Import: Fixed issue by making the invalid meta warning as persistent. ([UUM-59374](https://issuetracker.unity3d.com/issues/imported-texture-has-default-settings-when-the-meta-file-has-a-merge-conflict))
    
*   Asset Import: Fixed issue where older assets referencing URP materials have missing asset preview thumbnails. ([UUM-41411](https://issuetracker.unity3d.com/issues/prefab-thumbnails-are-only-shown-when-the-prefabs-are-reimported))
    
*   Audio: Fixed AudioMixer.SetFloat not working correctly on assets loaded from an asset bundle in play mode in the editor. ([UUM-68181](https://issuetracker.unity3d.com/issues/audio-mixer-does-not-change-volume-when-lowering-volume-on-an-audio-mixer-loaded-from-assetbundles))
    
*   Audio: Fixed crash when disabling and enabling the audio system in between entering and exiting play mode. (UUM-49779)
    
*   Documentation: Updated the documentation for `AudioSource.PlayOneShot()`. ([UUM-63508](https://issuetracker.unity3d.com/issues/volumescale-of-audiosource-dot-playoneshot-is-not-clamped-to-1-when-volumescale-is-set-higher-than-1))
    
*   Documentation: Updated the PrefabUtility.IsPartOfxxx documentation. (UUM-56678)
    
*   Editor: Added extra validation for RenderTextureDescriptor. ([UUM-55122](https://issuetracker.unity3d.com/issues/crash-on-mtlgetenvcase-when-render-texture-with-invalid-texture-dimensions-is-created))
    
*   Editor: Enabling multi-touch by default on Linux Platform. (UUM-61864)
    
*   Editor: Fixed a bug where Handles.DrawCamera was broken for hidden cameras and cameras targeting non-active displays. ([UUM-21678](https://issuetracker.unity3d.com/issues/position-coordinates-are-ignored-when-using-handles-dot-drawcamera))
    
*   Editor: Fixed an issue where the additive reference pose frame would not be evaluated for curves not in the source clip. Shows an error message when selecting additive reference pose outside of the clip range with additional curves. ([UUM-66099](https://issuetracker.unity3d.com/issues/additive-blending-does-not-consider-the-difference-between-animation-properties-when-using-additive-reference-pose))
    
*   Editor: Fixed bug where renderer SortingLayerID cannot be set at runtime. ([UUM-70789](https://issuetracker.unity3d.com/issues/meshrenderer-dot-sortinglayerid-cannot-be-changed-when-change-is-being-done-in-a-built-player))
    
*   Editor: Fixed focus selected shortcut regression on hierarchy. ([UUM-54444](https://issuetracker.unity3d.com/issues/hierarchy-does-not-highlight-the-gameobject-with-a-blue-color-when-pressing-the-f-key-in-scene-view))
    
*   Editor: Fixed memory Leak when using OnGUI in an MonoBehaviour class by destroying the class Object instance using InstanceID. ([UUM-56327](https://issuetracker.unity3d.com/issues/memory-leak-when-using-ongui))
    
*   Editor: Fixed menu items becoming duplicated oon Windows when there were a large number of menu items in the project (Over 7344). ([UUM-70358](https://issuetracker.unity3d.com/issues/component-menu-elements-are-duplicated-when-there-are-too-many-monobehaviour-scripts-each-with-individual-namespaces))
    
*   Editor: Fixed sceneAudioChanged event not triggered when changing audio in multiple sceneviews. (UUM-69574)
    
*   Editor: Gizmo Settings Menu overflows to another monitor when the Scene View is expanded. ([UUM-64715](https://issuetracker.unity3d.com/issues/gizmo-settings-menu-overflows-to-another-monitor-when-the-scene-view-is-expanded))
    
*   Editor: Platform settings for Dedicated Server in plugin importers were removed as those settings are shared with Standalone platform. To strip a plugin from Dedicated Server builds use the !UNITY\_SERVER define constraint. ([UUM-56535](https://issuetracker.unity3d.com/issues/dedicated-server-platforms-are-disabled-when-standalone-platforms-are-disabled-in-plugin-platform-settings))
    
*   Editor: Treating RenderSettings.m\_IndirectSpecularColor as volatile data. ([UUM-46853](https://issuetracker.unity3d.com/issues/m-indirectspecularcolor-changes-every-time-when-changes-are-made-to-the-scene))
    
*   Editor: When a user removes a TerrainCollider component from a Terrain object, there are no longer MissingComponentExceptions thrown every frame. Instead, it is replaced with a warning in the inspector for every tool that involves painting (Paint Terrain, Paint Trees, Paint Details). The warning message also includes a button that allows the user to easily add/enable the TerrainCollider component. ([UUM-67250](https://issuetracker.unity3d.com/issues/missingcomponentexception-errors-are-thrown-when-using-terrain-with-no-terrain-collider))
    
*   Graphics: Fixed by converting any linear format parameter to non linear if there is discrepancy between the actual resource format and what is provided. ([UUM-69379](https://issuetracker.unity3d.com/issues/xr-simulation-error-d3d11-failed-to-create-2d-texture-shader-resource-view-id-equals-1324-d3d-error-was-80070057-on-windows-with-directx-graphics-api))
    
*   Graphics: IOS/Metal GPU Timeout crashes no longer look like Out Of Memory crashes. ([UUM-55488](https://issuetracker.unity3d.com/issues/ios-app-crashes-with-out-of-memory-exception-in-unitygfxdeviceworker-when-starting-the-app))
    
*   Graphics: Show errors about failed texture decompression rather than silently failing and uploading invalid data. ([UUM-18354](https://issuetracker.unity3d.com/issues/texturearray-asset-format-is-not-converted-causing-runtime-artifacts-on-non-mobile-platforms))
    
*   iOS: Fixed application hanging when rapidly queueing OpenURL requests by making the call non-blocking. ([UUM-70281](https://issuetracker.unity3d.com/issues/ios-application-hangs-when-a-button-calls-to-application-dot-openurl))
    
*   iOS: Fixed Application.absoluteURL being empty in first scene. ([UUM-70860](https://issuetracker.unity3d.com/issues/ios-application-dot-absoluteurl-is-empty-on-awake-slash-start-when-opening-via-deep-link-with-splash-screen-disabled))
    
*   iOS: Fixed reported kind for Back Triple Camera: was with depth support when it doesn't support depth. ([UUM-70571](https://issuetracker.unity3d.com/issues/ios-app-crashes-when-trying-to-use-webcamtexture-depth-data-on-back-triple-camera))
    
*   iOS: Fixed wrong latest version selection in build settings. (UUM-61045)
    
*   iOS: UnityWebRequest URLs with unescaped symbols \[ and \] in query and containing other spec characters like space will now fail on iOS 17 instead of sending request to improperly escaped (and as such - wrong) url. URLs that are properly percent-escaped are recommended and will work correctly. (UUM-66942)
    
*   macOS: Fixed mouse button stuck pressed when focusing window with mouse using Input System. ([UUM-69724](https://issuetracker.unity3d.com/issues/new-input-system-registers-mouse-down-events-when-clicking-or-dragging-the-title-bar-of-the-windowed-player-window-with-locked-cursor-on-macos))
    
*   Package Manager: Entitlement package's errors show up correctly in the Package Manager. (UUM-43388)
    
*   Package Manager: Fixed a resolve failure which could happen when a local tarball dependency does not point to a file on disk. ([UUM-63177](https://issuetracker.unity3d.com/issues/cannot-view-installed-packages-in-package-manager-when-a-tarball-package-is-removed-from-the-project-folder))
    
*   Package Manager: The package visibility button toolbar icon doesn't change when toggling from one state to another. (UUM-70786)
    
*   Package Manager: Updating icons and styles to make the installed icon more visible in light mode. (UUM-70540)
    
*   Scene Manager: Fixed prefab scale value sets to zero when we try to modify a prefab with canvas using editor script. ([UUM-47434](https://issuetracker.unity3d.com/issues/the-prefab-scale-values-are-set-to-zero-when-the-prefab-with-a-nested-canvas-is-modified-through-a-script))
    
*   Scene/Game View: Fixed Gizmo disappearing when selecting nested prefabs. ([UUM-67501](https://issuetracker.unity3d.com/issues/reflection-probe-gizmo-disappears-when-selecting-nested-prefabs))
    
*   Scripting: TransformAccess.GetLocalPositionAndRotation() now returns the correct results. ([UUM-62533](https://issuetracker.unity3d.com/issues/wrong-position-and-rotation-values-are-returned-when-using-transformaccess-dot-getlocalpositionandrotation))
    
*   Shaders: Fixed occasional shader miscompilation when encountering comparison of elements arrays. ([UUM-68492](https://issuetracker.unity3d.com/issues/skybox-shader-is-magenta-when-using-the-editor-on-macos))
    
*   SRP Core: Rendering Debugger - Keep the correct selected panel when entering and exiting from playmode. ([UUM-70377](https://issuetracker.unity3d.com/issues/rendering-debugger-currently-selected-menu-changes-when-entering-play-mode-and-more-menus-appear))
    
*   UI Toolkit: Editor.RequiresConstantRepaint didn't work if there were more than 10 components. (UUM-69832)
    
*   UI Toolkit: Fixed comment parsing in ExCSS library. ([UUM-44485](https://issuetracker.unity3d.com/issues/uss-parsing-error-an-unexpected-error-occurred-errors-appear-when-having-one-or-more-slash-in-the-uss-file-after-slash-star-symbols))
    
*   Undo System: Improved Transform error checking during Undo to avoid crashing when redoing hierarchy optimization. ([UUM-53679](https://issuetracker.unity3d.com/issues/crash-on-structureundobase-collecttransformsrecursive-when-redoing-hierarchy-optimizations))
    
*   Universal RP: Fixed an issue where cookie sampling looks corrupt when targeting mobile platforms. ([UUM-70600](https://issuetracker.unity3d.com/issues/cookie-looks-corrupt-in-editor-when-android-is-current-target-platform))
    
*   VFX Graph: Removed shader warnings (CompareKVP). ([UUM-53994](https://issuetracker.unity3d.com/issues/vfx-shader-warnings-thrown-after-installing-visual-effects-graph-package))
    
*   VFX Graph: Removed shader warnings (GetParticleIndex). ([UUM-51867](https://issuetracker.unity3d.com/issues/shader-warning-in-simpleribbon-ribbon-when-creating-new-3d-hdrp-core-project))
    
*   VFX Graph: When trying to connect incompatible types, the error popup was left over if the action was canceled with Escape key. ([UUM-61583](https://issuetracker.unity3d.com/issues/vfx-wrong-type-popup-gets-stuck))
    
*   Video: WebcamTexture clamps when wrap mode is set to "Repeat". ([UUM-66777](https://issuetracker.unity3d.com/issues/webcamtexture-clamps-when-wrap-mode-is-set-to-repeat))
    
*   WebGL: Refactored code to have a more robust replacement operation when assembling the framework js file. To achieve this the `String.Replace` operation was set back to a `Regex.Replace`. To account for special characters and regex that may be present in the user jspre code (see UUM-21896), the final parameter uses a anonymous delegate function to treat the replacement string as a string literal so that it is not processed in any way. ([UUM-67705](https://issuetracker.unity3d.com/issues/jspre-files-are-not-included-when-building-for-webgl))
    
*   WebGL: Updated `AudioClip.frequency` to return the effective WebAudio AudioBuffer sampleRate value. ([UUM-47637](https://issuetracker.unity3d.com/issues/audio-is-slowed-down-when-using-getdata-and-setdata-to-duplicate-the-audio-between-audioclips-on-webgl))
    
*   Windows: Ensure that the information read from HID devices are readed correctly even when the driver isn't fully compliant. (UUM-72147)

### Known Issues in 2021.3.38f1

*   Asset - Database: Crash on GetAssetCachedInfoV2 when opening a project ([UUM-14959](https://issuetracker.unity3d.com/issues/crash-on-getassetcachedinfov2-when-opening-a-project))
    
*   Asset Importers: Unity crashes on strtol\_l when importing a specific .obj file ([UUM-42697](https://issuetracker.unity3d.com/issues/unity-crashes-on-strtol-l-when-importing-a-specific-obj-file))
    
*   Graphics Optimization: Crash on PrepareDrawShadowsCommandStep1 when selecting a camera while the Occlusion Culling window is open ([UUM-506](https://issuetracker.unity3d.com/issues/crash-on-preparedrawshadowscommandstep1-when-selecting-a-camera-while-the-occlusion-culling-window-is-open))
    
*   IAP: \[Android\] The Player crashes with a "JNI ERROR (app bug)" error when the global reference table gets overflowed by BillingClientStateListener ([UUM-55105](https://issuetracker.unity3d.com/issues/android-the-player-crashes-with-a-jni-error-app-bug-error-when-the-global-reference-table-gets-overflowed-by-billingclientstatelistener))
    
*   IL2CPP: \[Android\] Crash on Android when AndroidJavaProxy is calling from multiple threads ([UUM-49357](https://issuetracker.unity3d.com/issues/android-crash-on-android-when-androidjavaproxy-is-calling-from-multiple-threads))
    
*   Platform Audio: Crash on FMOD::CodecMPEG::setPositionInternal when a mobile platform is selected and a specific audio clip is played ([UUM-62086](https://issuetracker.unity3d.com/issues/crash-on-fmod-codecmpeg-setpositioninternal-when-a-mobile-platform-is-selected-and-a-specific-audio-clip-is-played))
    
*   Universal RP: Objects are invisible in Scene view when using Wireframe Shading Mode ([UUM-36914](https://issuetracker.unity3d.com/issues/objects-are-invisible-in-scene-view-when-using-wireframe-shading-mode))
    
*   WebRequest: UnityWebRequest crashes if invoked when player is quitting ([UUM-63150](https://issuetracker.unity3d.com/issues/unitywebrequest-crashes-if-invoked-when-player-is-quitting))
    

### 2021.3.38f1 Release Notes

#### Improvements

*   Documentation: Documentation fixes for the Animation and Math API. (UUM-67920)
    
*   Graphics: Improved error messages in the Console Window when building a RayTracingAccelerationStructure and using invalid Mesh data.
    
*   iOS: ProjectCapabilityManager.AddInAppPurchase() now also adds the required StoreKit.framework. (UUM-66002)
    

#### Changes

*   Build System: Avoid empty lines and always use unix newlines in script compilation rsp files to simplify build logs.
    
*   Build System: Upgraded unity-unpacker and bsdtar binaries to use libarchive 3.7.3.
    
*   Package: Updated Cinemachine package to 2.10.0.
    
*   Web: Disabled experimental WebGL multithreading support. (UUM-33612)
    

#### Fixes

*   2D: Fixed unable to create Sprite in Sprite Editor Window in certain cases. ([UUM-67197](https://issuetracker.unity3d.com/issues/sprite-editor-does-not-allow-creating-new-sprite-tiles-in-a-sprite-sheet-with-a-specific-name))
    
*   Android: Added android target API level 32, 33 and 34.
    
*   Android: Bump Android Logcat Package to 1.4.1.
    
*   Android: Compass timestamp as time elapsed in seconds since the device was last turned on. ([UUM-64955](https://issuetracker.unity3d.com/issues/android-the-values-returned-by-input-dot-compass-dot-timestamp-on-android-do-not-correspond-to-the-timestamp-format-in-seconds-since-1970-as-indicated-in-unitys-documentation))
    
*   Android: Fixed back gesture invoking UI elements. ([UUM-48818](https://issuetracker.unity3d.com/issues/android-the-back-gesture-will-perform-an-extra-tap-slash-press-event))
    
*   Android: Fixed issue where Unity during application quit would unchain from different signals via sigaction, than the one chained at the application start. (UUM-68176)
    
*   Animation: Fixed AnimatorController m\_Controller field inconsistency when changing parameter and layer order. ([UUM-63803](https://issuetracker.unity3d.com/issues/serialization-of-animator-parameters-m-controller-fileid-switches-between-9100000-and-0-when-changing-the-order-of-layers-or-the-parameters))
    
*   Animation: Fixed crash when deleting states in some state machines. If a state machine contained a state machine transition with a null source state (which should not happen under normal circumstances), unity would crash when deleting any state within the same state machine. It does not crash anymore. ([UUM-66549](https://issuetracker.unity3d.com/issues/crash-on-animatorstatemachine-removetransitionswithdeletingobject-when-deleting-a-newly-created-empty-state-in-animator-controller))
    
*   Apple TV: Fixed Unity editor not finding Xcode application when only tvOS module is installed. ([UUM-65168](https://issuetracker.unity3d.com/issues/xcode-is-not-found-when-launching-unity-with-only-tvos-module))
    
*   Asset Bundles: Fixed performance regression when clearing bundle cache folders. ([UUM-60063](https://issuetracker.unity3d.com/issues/long-load-times-when-large-asset-bundles-are-discarded))
    
*   Asset Pipeline: Users are now allowed to save assets in any valid assets folder, which is not read-only. ([UUM-65305](https://issuetracker.unity3d.com/issues/an-error-message-is-displayed-when-any-type-of-file-is-saved-outside-the-projects-assets-folder))
    
*   Audio: Fixed an issue that would cause Unity to crash when you manually destroy a streamed audio clip. ([UUM-14330](https://issuetracker.unity3d.com/issues/crash-on-purecall-when-repeatedly-creating-playing-stopping-and-deleting-audio))
    
*   Documentation: Fixed EditorUtility.OpenFilePanelWithFilters documentation. (UUM-44679)
    
*   Documentation: Fixed EditorUtility.SetDialogOptOutDecision documentation. (UUM-43878)
    
*   Editor: Default assets should not be uploaded to the Accelerator. ([UUM-66975](https://issuetracker.unity3d.com/issues/editor-uploads-broken-assets-to-unity-accelerator-when-it-crashes-during-an-import))
    
*   Editor: Errors related to the sqlite dll when using the Windows ARM64 Editor.
    
*   Editor: Favourites are now kept when entering Play Mode. ([UVSB-2519](https://issuetracker.unity3d.com/issues/favorited-nodes-lose-their-favorite-setting-in-visual-scripting-after-entering-play-mode))
    
*   Editor: Fixed a bug where IMGUI TreeViews that don't allow dragging also did not allow items to be deselected via CTRL + Left click. ([UUM-9236](https://issuetracker.unity3d.com/issues/shortcut-ctrl-plus-mouse-1-does-not-work-for-unselecting-animations-when-working-in-the-animation-window))
    
*   Editor: Fixed an issue where interacting with some Overlays did not stop mouse events from propagating further. (UUM-68629)
    
*   Editor: Fixed crash when entering and leaving play mode while UnityWebRequest is downloading texture using DownloadHandlerTexture. (UUM-68555)
    
*   Editor: Fixed touch state always stay as moved on Linux Runtime. (UUM-61865)
    
*   Editor: Move file hashing to using the job system to prevent intermittent locking during import. (UUM-53379)
    
*   Editor: Removed "Autofill" menu item from the "Edit" menu. ([UUM-62774](https://issuetracker.unity3d.com/issues/autofill-menu-item-is-presented-in-edit))
    
*   Editor: Removed "Close All" menu item from the "File" menu. (UUM-65192)
    
*   GI: Fixed slowdown in lighting settings UI. ([UUM-62034](https://issuetracker.unity3d.com/issues/editor-freezes-when-selecting-a-gameobject-in-the-scene-view-during-the-play-mode))
    
*   Graphics: Fixed ReadPixels() using different Y positions. ([UUM-58287](https://issuetracker.unity3d.com/issues/readpixels-uses-different-y-positions-when-built-with-vulkan))
    
*   IL2CPP: Fixed an IL2CPP conversion crash when CreateMarshalInfoWriter encounters a type with a function pointer element type. (UUM-67750)
    
*   iOS: Fixed ProjectCapabilityManager.AddHealthKit API not adding HealthKit capability to PBXProject correctly. ([UUM-65393](https://issuetracker.unity3d.com/issues/ios-projectcapabilitymanager-dot-addhealthkit-doesnt-correctly-add-healthkit-capability))
    
*   iOS: IOS: \[Privacy Manifests\] Fixed duplicates elements filtering when merging multiple manifests if the children elements of the duplicates are in different order. (UUM-59885)
    
*   License: Don't exit play-mode when another project is being created (using Unity Hub 3.8.0-beta.1). ([UUM-68141](https://issuetracker.unity3d.com/issues/editor-exits-play-mode-when-another-project-is-being-created-using-unity-hub-3-dot-8-0-beta-dot-1))
    
*   Linux: Fixed Multi-touch events not recognizing on Linux Player. (UUM-49191)
    
*   Linux: In our Linux Pulse audio driver, make sure to select the correct default output device. Previously, on some systems and some versions of Linux, we could end up with no audio output or audio output being routed to an unexpected device. ([UUM-53143](https://issuetracker.unity3d.com/issues/linux-no-audio-output-when-playing-audio))
    
*   macOS: Fixed custom cursor not used if mouse leaves the window. ([UUM-67592](https://issuetracker.unity3d.com/issues/cursor-does-not-switch-back-to-the-custom-cursor-when-the-mouse-is-moved-back-into-the-player-window-on-macos))
    
*   Package Manager: Fixed a small issue with Window.Open() not selecting a package after creation. (UUM-67571)
    
*   Physics 2D: Fixed a crash when sending TriggerEnter2D/Exit2D callbacks. ([UUM-64913](https://issuetracker.unity3d.com/issues/crash-on-physicsmanager2d-simulate-when-a-prefab-is-spawned-in-play-mode))
    
*   Security: Updated MbedTLS to 2.28.7 to address some security vulnerabilities. (UUM-63880)
    
*   Shadergraph: Added issues where shaders generated for iOS or Android may not compile correctly due to precision. ([UUM-64863](https://issuetracker.unity3d.com/issues/shader-is-rendered-pink-or-not-rendered-at-all-in-the-editor-and-player-when-the-precision-is-set-to-half-in-the-shader-graph-and-the-android-or-ios-platform-is-selected))
    
*   Shaders: Fixed UsePass shader to update its state whenever the pass owner shader is being modified. ([UUM-5582](https://issuetracker.unity3d.com/issues/shader-using-usepass-does-not-recompile-when-referenced-shader-is-fixed-after-being-broken))
    
*   SRP Core: Fixed PackFloat2To8 in packing.hlsl. ([UUM-62724](https://issuetracker.unity3d.com/issues/corerp-packfloat2to8-is-broken-in-packing-dot-hlsl))
    
*   Text: Fixed un-detected sprite asset changes after adding new sprites. ([UUM-55614](https://issuetracker.unity3d.com/issues/tmp-sprite-asset-changes-are-not-detected-when-a-new-sprite-is-added))
    
*   uGUI: Fixed bug where renderer layer properties reset to default in prefab mode. ([UUM-62507](https://issuetracker.unity3d.com/issues/renderer-dot-sortinglayer-renderer-dot-sortinglayerid-and-renderer-dot-sortinglayername-is-set-to-default-0-and-when-adding-a-canvas-component-to-a-prefab-in-prefab-mode))
    
*   UI Toolkit: Fixed dimensions of a parent element did not include padding when calculating the top/left/right/bottom values of an absolute element. ([UUM-25738](https://issuetracker.unity3d.com/issues/ui-toolkit-dimensions-of-a-parent-element-do-not-include-padding-when-used-in-anchors-of-an-absolute-positioned-children-element))
    
*   UI Toolkit: Fixed rendering of UI Toolkit when using LLVMpipe. ([UUM-68128](https://issuetracker.unity3d.com/issues/the-scene-toolbar-is-not-rendered-in-the-ubuntu-editor-when-using-nvidia-a100-tensor-core-gpu))
    
*   UI Toolkit: Nested PropertyDrawer didn't work when there's both an Attribute drawer and a Drawer for the type. ([UUM-66687](https://issuetracker.unity3d.com/issues/nested-propertydrawer-doesnt-work-when-theres-both-an-attribute-drawer-and-a-drawer-for-the-type))
    
*   UI Toolkit: When in Runtime on mobile, a ScrollView will no longer scroll if the touch interaction needs to be treated by a child element first (ex: a menu from a DropdownField). ([UUM-39969](https://issuetracker.unity3d.com/issues/scrollview-scrolls-when-clicking-a-button-after-selecting-the-dropdownfield-item))
    
*   UI Toolkit: \[UI Builder\] Fixed an issue where typing an invalid selector string would sometimes use a banner to display the error and sometimes use the console. The banner will now be used. ([UUM-63589](https://issuetracker.unity3d.com/issues/naming-selectors-with-improper-character-combinations-in-ui-builder-logs-errors-and-has-inconsistent-indications-to-users))
    
*   UI Toolkit: \[UI Builder\] Fixed an issue where UXML assets could not be opened from the Library pane using the call to action icon. ([UUM-63541](https://issuetracker.unity3d.com/issues/uxml-assets-cannot-be-opened-with-button-from-the-ui-builder-library-section))
    
*   Universal RP: Fixed an issue where using the "Accurate G-buffer Normals" feature for deferred rendering on mobile platforms would cause a large amount of artifacts. ([UUM-62216](https://issuetracker.unity3d.com/issues/glitches-in-scene-view-and-game-view-when-accurate-g-buffer-normals-is-enabled))
    
*   Universal RP: Fixed Deferred renderer on Apple Silicon devices when Native Render Pass is enabled. ([UUM-21744](https://issuetracker.unity3d.com/issues/m1-objects-become-grey-when-entering-play-mode-if-urp-rendering-path-is-set-to-deferred-and-native-renderpass-is-enabled))
    
*   Universal Windows Platform: Syncing capabilities to update the manifest is only necessary if the manifest already exists. (UUM-68424)
    
*   URP: Pass name when the pass is "LightMode" = "Universal2D". ([UUM-36358](https://issuetracker.unity3d.com/issues/shadergraph-pass-name-is-not-generated-when-the-pass-is-lightmode-equals-universal2d))
    
*   Version Control: Supported Perforce response during the login when it warns of an expiring license. (UUM-64620)
    
*   XR: Fixed for a distorted viewport when using no intermediate texture in XR rendering while using dynamic resolution. ([UUM-66846](https://issuetracker.unity3d.com/issues/quest-scene-becomes-zoomed-in-and-distorted-when-changing-resolution-with-dynamic-resolution-in-player))
    
*   XR: Updated XR Hands package to 1.4.0 and set 1.5.0-pre.1 as available next version.
    
*   XR: Updated XR Interaction Toolkit package to 2.5.4.

### Known Issues in 2021.3.37f1

*   Asset Importers: Unity crashes on strtol\_l when importing a specific .obj file ([UUM-42697](https://issuetracker.unity3d.com/issues/unity-crashes-on-strtol-l-when-importing-a-specific-obj-file))
    
*   IAP: \[Android\] The Player crashes with a "JNI ERROR (app bug)" error when the global reference table gets overflowed by BillingClientStateListener ([UUM-55105](https://issuetracker.unity3d.com/issues/android-the-player-crashes-with-a-jni-error-app-bug-error-when-the-global-reference-table-gets-overflowed-by-billingclientstatelistener))
    
*   IL2CPP: \[Android\] Crash on Android when AndroidJavaProxy is calling from multiple threads ([UUM-49357](https://issuetracker.unity3d.com/issues/android-crash-on-android-when-androidjavaproxy-is-calling-from-multiple-threads))
    
*   Input: Crash on InputDeviceIOCTL when closing Unity editor ([UUM-10774](https://issuetracker.unity3d.com/issues/crash-on-inputdeviceioctl-when-closing-unity-editor))
    
*   Input: High polling rate mice are causing performance issues (windows, editor) ([UUM-1484](https://issuetracker.unity3d.com/issues/high-polling-rate-mice-are-causing-performance-issues))
    
*   Metal: \[iOS\] App crashes with out of memory exception in UnityGfxDeviceWorker when starting the app ([UUM-55488](https://issuetracker.unity3d.com/issues/ios-app-crashes-with-out-of-memory-exception-in-unitygfxdeviceworker-when-starting-the-app))
    
*   Platform Audio: Crash on FMOD::CodecMPEG::setPositionInternal when a mobile platform is selected and a specific audio clip is played ([UUM-62086](https://issuetracker.unity3d.com/issues/crash-on-fmod-codecmpeg-setpositioninternal-when-a-mobile-platform-is-selected-and-a-specific-audio-clip-is-played))
    
*   uGUI: Canvas is drawn twice to the same render target when rendering into camera with render texture output ([UUM-23063](https://issuetracker.unity3d.com/issues/canvas-is-drawn-twice-to-the-same-render-target-when-rendering-into-camera-with-render-texture-output))
    
*   Universal RP: Objects are invisible in Scene view when using Wireframe Shading Mode ([UUM-36914](https://issuetracker.unity3d.com/issues/objects-are-invisible-in-scene-view-when-using-wireframe-shading-mode))
    
*   WebRequest: UnityWebRequest crashes if invoked when player is quitting ([UUM-63150](https://issuetracker.unity3d.com/issues/unitywebrequest-crashes-if-invoked-when-player-is-quitting))
    

### 2021.3.37f1 Release Notes

#### Features

*   Editor: Added .xcframework plugins support.
    
*   Package: Added Apple privacy manifest in moderation package.
    
*   Version Control: New tab view to list and manage locks.
    

#### Changes

*   Android: Updated Android Gradle Plugin to 4.2.2 (from 4.0.1).
    
*   Build System: Bee is now using `<RestoreAdditionalProjectSources>` instead of `<RestoreSources>` in C# Project files to reference Default Nuget Packages sources. This will prevent issues where Bee was disregarding Nuget packages configuration files. Please refer to \[Microsoft's Configuring Nuget Behavior Documentation\]([https://learn.microsoft.com/en-us/nuget/consume-packages/configuring-nuget-behavior\\#nuget-defaults-file\\](https://learn.microsoft.com/en-us/nuget/consume-packages/configuring-nuget-behavior\#nuget-defaults-file\)) to control nuget sources in your build environments. (BUILD-417)
    
*   Editor: AnimationEvent and NamedAnimationEvent Nodes icon changed in favor of the AnimationClip icon instead of the Animation Component icon.
    
*   Services: Updated text on the project link screen.
    
*   XR: The Oculus XR Plugin package has been updated to 3.4.0.
    

#### Fixes

*   2D: Fixed exception error when slicing Sprite after an Undo. ([UUM-62818](https://issuetracker.unity3d.com/issues/automatic-slice-type-produces-different-results-and-argumentoutofrangeexception-index-was-out-of-range-must-be-non-negative-and-less-than-the-size-of-the-collection-dot-error-is-thrown-when-it-was-previously-undone))
    
*   2D: Fixed Freeform Lights causing random values to be deterministic. ([UUM-65629](https://issuetracker.unity3d.com/issues/same-values-are-being-generated-if-using-a-random-function-when-freeform-light-2d-light-is-in-the-scene))
    
*   Android: Fixed freeze when opening Icons section of Player Settings. ([UUM-61146](https://issuetracker.unity3d.com/issues/android-editor-freezes-when-opening-the-icon-section-of-player-settings))
    
*   Android: Fullscreen mediaplayer autoresume. (UUM-57153)
    
*   Android: Provide control over Unity killing external ADB instances, there's a new option in Preferences->External Tools->Kill External ADB instances. ([UUM-56519](https://issuetracker.unity3d.com/issues/android-editor-terminates-the-adb-connections-when-an-emulator-is-running-in-android-studio))
    
*   Android: Provide user friendly dialog if application install fails due previous app installation, but with different signature. The dialog will ask you if you want to remove previous attempt before attempting to install again. (UUM-65655)
    
*   Android: Show warning when Input Handling is set to Both, since Both is not supported on Android and can cause both - input and performance issues. (UUM-65273)
    
*   Asset Pipeline: Fixed security issue with LZ4 library. (UUM-35753)
    
*   Build Pipeline: Fixed a regression where mesh components are stripped if its shader is made of UsePass only references. ([UUM-57201](https://issuetracker.unity3d.com/issues/uv1-data-is-lost-during-assetbundle-build-when-optimize-mesh-data-is-on))
    
*   Build Pipeline: Fixed an issue where a build would not behave correctly when using StreamingAssets folder or file names ending with a `~`. ([UUM-48097](https://issuetracker.unity3d.com/issues/build-fails-when-an-untracked-subfolder-is-deleted-from-streamingassets-folder))
    
*   Build Pipeline: Fixed the build failure when we switch the platform and build player are called together. ([UUM-54379](https://issuetracker.unity3d.com/issues/android-burst-android-ndk-not-installed-build-error-thrown-when-using-switchactivebuildtarget-buildtargetgroup-dot-android-dot))
    
*   Documentation: Fixed description for AudioSource.GetDSPBufferSize by pointing to the correct DSP buffer size setting. (UUM-52557)
    
*   Documentation: Fixed descriptions for AudioImporter public methods to reflect an updated list of options for platform strings. (UUM-52593)
    
*   Documentation: Fixed enum descriptions for FFTWindow to show correct formulas. (UUM-51065)
    
*   Editor: Added support for LinkerFlagsFile. ([UUM-64176](https://issuetracker.unity3d.com/issues/player-fails-to-build-and-fatal-error-lnk1120-1-unresolved-externals-error-is-thrown-when-using-linker-flags-file-flag))
    
*   Editor: Adjusted IL2CPP IDE command line generation to include AdditionalIl2CppArgs. ([UUM-64177](https://issuetracker.unity3d.com/issues/visual-studio-fails-to-build-solution-when-using-the-linker-flags-file-in-a-project))
    
*   Editor: Bug fix for Crash on NSException when the display dialog contains a long message containing multibyte characters which are clipped when the message is abbreviated by ellipses. ([UUM-62757](https://issuetracker.unity3d.com/issues/crash-on-nsexception-when-the-display-dialog-contains-a-long-message-containing-multibyte-characters-which-are-clipped-when-the-message-is-abbreviated-by-dot-dot-dot))
    
*   Editor: Capitalize the compiler generated name of serialized field. ([UUM-45789](https://issuetracker.unity3d.com/issues/applying-the-serializefield-attribute-to-the-field-generated-by-the-property-doesnt-capitalize-it-in-the-inspector))
    
*   Editor: Color picker preview can now sample from the menu bar and the dock area. ([UUM-52823](https://issuetracker.unity3d.com/issues/macos-color-picker-preview-is-not-updating-after-moving-cursor-over-the-the-os-menu-bar-while-using-eyedropper-tool))
    
*   Editor: Crash fix when CreateExternalTexture uses non compatible format. ([UUM-44947](https://issuetracker.unity3d.com/issues/dx12-crash-with-multiple-stack-traces-when-creating-an-external-texture))
    
*   Editor: Documentation links have been fixed for Visual Scripting MonoBehaviours. ([UVSB-2475](https://issuetracker.unity3d.com/issues/the-button-open-reference-leads-to-the-non-existent-webpage-when-clicking-it-on-any-visual-scripting-component), [UVSB-2496](https://issuetracker.unity3d.com/issues/broken-documentation-for-visual-scripting-scene-variables))
    
*   Editor: Editor: ObjectPool counter returns wrong count if returning instance to full pool. ([UUM-49060](https://issuetracker.unity3d.com/issues/wrong-number-is-returned-when-using-target-dot-pool-dot-countactive-in-objectpool-if-objects-are-destroyed))
    
*   Editor: Fixed a bug where orgs would not show for guest users in the UGS Project Linking Window. (UUM-66543)
    
*   Editor: Fixed a bug where the second player input device controlled all objects when using InputSystem event nodes. ([UVSB-2499](https://issuetracker.unity3d.com/issues/the-second-input-device-controls-both-inputs-when-functionality-is-created-using-visual-scripting-graph))
    
*   Editor: Fixed a crash when trying to import too much mesh vertex blend shape data. ([UUM-53148](https://issuetracker.unity3d.com/issues/crash-on-mono-find-jit-info-ext-when-resolving-artifacts))
    
*   Editor: Fixed case where closing a docked window could result in overlapping sibling windows. ([UUM-41817](https://issuetracker.unity3d.com/issues/the-editor-ui-becomes-broken-when-any-window-of-the-custom-layout-is-closed))
    
*   Editor: Fixed Deep Profiling Support label is labeled differently depending on if Development Build is enabled. ([UUM-61605](https://issuetracker.unity3d.com/issues/deep-profiling-support-is-labeled-differently-depending-on-if-development-build-is-enabled-or-disabled-in-build-settings))
    
*   Editor: Fixed incorrect duplicate menu items being removed when menu system is updated. ([UUM-14958](https://issuetracker.unity3d.com/issues/crash-when-creating-not-existing-menuitem))
    
*   Editor: Fixed unrelated Objects/Metadata that showed up assigned to samples in the CPU Timeline view and were repeating the data from the last sample in the thread & frame that had valid Object/Metadata information associated with it. ([UUM-66592](https://issuetracker.unity3d.com/issues/unrelated-objects-slash-metadata-are-assigned-to-samples-past-the-last-one-with-valid-object-slash-metadata-information-as-observed-in-cpu-usage-timeline))
    
*   Editor: Fixed Xcode selection in Build Profiles window for iOS platform ("Other" option). (UUM-64007)
    
*   Editor: Items with a very long name will no longer make the arrow indicator disappear in Add Component dropdown popup. ([UUM-60655](https://issuetracker.unity3d.com/issues/the-indicator-is-not-shown-for-expandable-menus-when-opening-a-submenus-in-the-add-component-menu))
    
*   Editor: Overrides inside a managed reference didn't appear as Read Only when using Show Overrides. ([UUM-65819](https://issuetracker.unity3d.com/issues/show-overrides-doesnt-display-prefab-overrides-as-read-only-when-they-are-inside-managed-references))
    
*   Editor: Per-platform formats on the TextureImporter will default to the platform default if not initialized properly. ([UUM-33166](https://issuetracker.unity3d.com/issues/unset-attribute-in-preset-importer-causes-same-attribute-in-imported-assets-to-use-0-even-if-that-is-invalid))
    
*   Editor: Updated the EditorToolbar to allow for a VisualElement based VersionControl Toolbar Button to resolve the button being misaligned. ([UUM-36270](https://issuetracker.unity3d.com/issues/main-unity-toolbar-unity-version-control-control-isnt-aligned-to-all-other-controls))
    
*   Editor: Updated the FBX SDK version to 2020.3.4. ([UUM-60185](https://issuetracker.unity3d.com/issues/silicon-modelimporter-dot-import-takes-a-long-time-when-opening-a-project-in-batch-mode))
    
*   Graphics: Fixed crash when importing an unsupported 2x2 mipmapped, BC-compressed asset created in an older version of Unity. ([UUM-48520](https://issuetracker.unity3d.com/issues/non-power-of-4-bc1-texture-fallback-code-can-lead-to-a-crash-with-some-textures))
    
*   Graphics: Fixed possible null ref when there is corrupted occlusion tome data that may lead to a crash. ([UUM-30735](https://issuetracker.unity3d.com/issues/crash-on-rendererscene-initializeumbra-when-opening-a-project))
    
*   Graphics: Prevent swizzling of ARGB32 format. ([UUM-45872](https://issuetracker.unity3d.com/issues/graphics-dot-copytexture-produces-inaccurate-results-when-using-argb32-textures-with-vulkan-graphics-api))
    
*   Graphics: Support requesting a DXT compressed texture using ImageConversion.LoadImage and Texture2D.LoadImage on Android. ([UUM-52927](https://issuetracker.unity3d.com/issues/quest-texture2d-dot-loadimage-returns-false-when-the-format-is-dxt1-slash-5))
    
*   HDRP: Fixed shader compilation issues related to ternary operater misuse. (UUM-66198)
    
*   IL2CPP: Fixed correctness of lock statement on ARM architectures under high contention. (UUM-65254)
    
*   IL2CPP: Fixed crash when calling special Array Set/Get/Address methods via reflection. ([UUM-64457](https://issuetracker.unity3d.com/issues/crash-on-il2cpp-vm-runtime-invokewiththrow-in-the-player-when-system-dot-reflection-dot-methodbase-dot-invoke-null-object-is-called))
    
*   IL2CPP: Fixed MemoryMappedFile on posix systems to query page size from the system, instead of hardcoding it. ([UUM-54598](https://issuetracker.unity3d.com/issues/ios-ioexception-is-thrown-when-offset-is-not-aligned-to-page-size))
    
*   IL2CPP: Prevent additional IL2CPP arguments that contains --compiler-flags or --linker-flags from overriding the default values for these arguments. Instead combine them and pass them to the compiler or linker. (UUM-59355)
    
*   IL2CPP: Updated zlib to v 1.3.1. (UUM-64803)
    
*   iOS: Fixed AppDomain.UnhandledException not invoked before crashing due to unhandled exception when using "Fast but no exceptions" scripting calls. ([UUM-62773](https://issuetracker.unity3d.com/issues/appdomain-dot-unhandledexception-is-not-called-before-the-app-crashes-when-using-scriptcalloptimization-on-mobile-devices))
    
*   iOS: Fixed potential memory leak when reallocating memory. (UUM-64048)
    
*   macOS: Fixed memory spikes when macOS player is offscreen or minimized. ([UUM-30049](https://issuetracker.unity3d.com/issues/os-freezes-when-playing-build-and-if-the-qualitysettings-dot-vsynccount-setting-is-set-and-switching-windows))
    
*   macOS: Fixed resolution change in fullscreen mode when it has been changed via System Settings. (UUM-64959)
    
*   Mono: Fixed issue where custom client and server certificates were not correctly being validated by HttpClient. (UUM-57031)
    
*   Package: Fixed a bug in moderation package where initialization would fail on certain occasion.
    
*   Package Manager: Fixed the issue where 299 error is thrown when launching a project where UPM packages on Asset Store are installed. ([UUM-62647](https://issuetracker.unity3d.com/issues/package-manager-error-while-getting-product-update-details-failed-to-parse-response-code-299-aborted-request))
    
*   Particles: Fixed an issue where using GPU instanced mesh particles could result in visual corruption. ([UUM-64297](https://issuetracker.unity3d.com/issues/legacy-particle-systems-with-mesh-gpu-instancing-can-show-visual-corruption-in-certain-conditions))
    
*   Profiler: Fixed an issue whereby the Physics2D module did not display counters in the Profiler. ([UUM-57758](https://issuetracker.unity3d.com/issues/the-physics-2d-profiler-module-does-not-display-the-information-about-processed-physics-in-the-scene-when-profiling-the-application-as-a-development-build))
    
*   Scripting: Scripting: Corrected crashes due to excessive use of thread local data slots. ([UUM-58965](https://issuetracker.unity3d.com/issues/android-crash-on-slash-data-slash-app-slash-com-dot-defaultcompany-dot-webviewandroid-7upuhqo4grf2kpmrmcjrdg-equals-equals-slash-lib-slash-arm64-slash-libxul-dot-so-libxul-dot-so-offset-0x518000-on-android-devices-when-using-webview))
    
*   Shaders: Fixed code generated for Texture.Load with offset. ([UUM-56574](https://issuetracker.unity3d.com/issues/compute-shader-texture2d-dot-load-with-a-non-zero-offset-does-not-work-when-using-macos))
    
*   SRP Core: Fixed DebugUI.Button not working in Rendering Debugger runtime UI. ([UUM-65457](https://issuetracker.unity3d.com/issues/debugui-dot-button-does-not-invoke-action-when-clicked))
    
*   Terrain: Now checks the bounds in ComputeDetailInstanceTransforms to avoid crashing. ([UUM-27936](https://issuetracker.unity3d.com/issues/crash-on-terraindatascriptinginterface-computedetailinstancetransforms-when-calling-computedetailinstancetransforms-with-incorrect-parameter-values))
    
*   uGUI: Fixed bug that dirties prefab upon opening it when configured with a layout group + content size fitter. ([UUM-19577](https://issuetracker.unity3d.com/issues/content-size-fitter-component-causes-an-opened-prefab-to-become-dirty-and-require-saving-without-having-been-modified))
    
*   uGUI: When Interacting with Occluded Button Areas using UGUI and GraphicRaycaster, the clickability is now consistent. ([UUM-60672](https://issuetracker.unity3d.com/issues/ugui-and-graphicraycaster-inconsistent-clickability-when-interacting-with-occluded-button-areas))
    
*   UI Elements: Added a way to opt out of asset monitoring on specific editor windows to avoid performance issues with panels that contain many VisualElements. (UUM-60233)
    
*   UI Elements: Fixed the disabled ListView's footer styling. (UUM-61636)
    
*   UI Elements: Made the ListView's toggle focus state to match IMGUI. ([UUM-37800](https://issuetracker.unity3d.com/issues/treeview-child-display-toggle-styling-becomes-reversed-when-clicking-and-dragging-it))
    
*   UI Toolkit: Fixed attribute overrides when it's multiple levels deep in the Hierarchy in the UI Builder. ([UUM-59501](https://issuetracker.unity3d.com/issues/cannot-override-uxml-attributes-when-its-multiple-levels-deep-in-the-hierarchy))
    
*   UI Toolkit: Fixed elements size when a new control is dragged onto the UI Builder hierarchy. ([UUM-61553](https://issuetracker.unity3d.com/issues/resizing-the-ui-builders-viewport-window-doesnt-shrink-the-elements-in-it-when-new-ui-builder-elements-are-added))
    
*   UI Toolkit: UI Toolkit: Fixed "margin: auto" applied even when the visual Element has it's Display is set to none. ([UUM-40647](https://issuetracker.unity3d.com/issues/visualelement-is-applying-margin-auto-even-when-display-is-set-to-none))
    
*   UI Toolkit: UI Toolkit: The ScrollView now stops a touch scroll at a greater velocity, thus eliminating the "trail off" effect. ([UUM-58479](https://issuetracker.unity3d.com/issues/scroll-offset-is-framerate-dependent-when-scrolling-with-velocity-in-the-device-simulator))
    
*   UI Toolkit: UI Toolkit: The ScrollView touch scroll inertia now behaves similarly across multiple framerates. ([UUM-59847](https://issuetracker.unity3d.com/issues/uitoolkit-scrollview-element-speed-is-unaffected-by-scroll-deceleration-rate-when-the-element-is-about-to-completely-stop))
    
*   Universal Windows Platform: "FormatException: The input is not a valid Base-64 string" is thrown when setting EditorUserBuildSettings.windowsDevicePortalUsername. ([UUM-58808](https://issuetracker.unity3d.com/issues/formatexception-the-input-is-not-a-valid-base-64-string-is-thrown-when-setting-editoruserbuildsettings-dot-windowsdeviceportalusername))
    
*   Universal Windows Platform: A customized "Package.appxmanifest" is overwritten when building the project for UWP. ([UUM-64455](https://issuetracker.unity3d.com/issues/a-customized-package-dot-appxmanifest-is-overwritten-when-building-the-project-for-uwp))
    
*   Version Control: Ensured branch creations start from the latest changeset.
    
*   Version Control: Fixed Diff option unavailable for .prefab.
    
*   Version Control: Fixed DropdownField not working properly on a ModalUtility window on MacOS.
    
*   Version Control: Fixed finding changes operation being firing constantly.
    
*   Version Control: Fixed issue with existing checkout operations locking the workspace.
    
*   Version Control: Fixed layout error when switching checkout status in the inspector.
    
*   Version Control: Fixed typo in locks tooltip.
    
*   Version Control: Fixed UI error when opening and closing multiple closable tabs.
    
*   Version Control: Pending Changes context menu had the view file history greyed out for asset+meta.
    
*   Version Control: Preconfigured date format was not recognized as a valid DateTime.
    
*   Version Control: Removed obsolete content in package documentation.
    
*   Version Control: Replaced "plasticscm.com" by a "[https://unity.com/solutions/version-control](https://unity.com/solutions/version-control)" in the package.json.
    
*   Version Control: Reviewed initialization and application lifecycle.
    
*   Version Control: Unable to expand added item list after collapsing.
    
*   Video: Error "0xc00d36b4 while reading" is being thrown when turning on Transcode in the Import Settings of Video Clip Assets. ([UUM-56816](https://issuetracker.unity3d.com/issues/error-0xc00d36b4-while-reading-is-being-thrown-when-turning-on-transcode-in-the-import-settings-of-video-clip-assets))
    
*   Video: The "loopPointReached" event is continuously triggered when a Video Clip with looping and skip-on-drop disabled restarts playback after reaching the end. ([UUM-64804](https://issuetracker.unity3d.com/issues/the-looppointreached-event-is-continuously-triggered-when-a-video-clip-with-looping-and-skip-on-drop-disabled-restarts-playback-after-reaching-the-end))
    
*   WebGL: Fixed the name files as hashes feature and corresponding integration test. (UUM-35863)
    
*   WebGL: Removed "The PlayerLoop has been called recursively." error message spam. (UUM-55075)

### Known Issues in 2021.3.36f1

*   3D Physics: Physics.ComputePenetration returns False when two colliders overlap ([UUM-15831](https://issuetracker.unity3d.com/issues/physics-dot-computepenetration-returns-false-when-two-colliders-overlap))
    
*   Culling: Changes to MeshRenderer.shadowCastingMode don't take effect immediately when being made in OnPreRender ([UUM-64799](https://issuetracker.unity3d.com/issues/changes-to-meshrenderer-dot-shadowcastingmode-dont-take-effect-immediately-when-being-made-in-onprerender))
    
*   IAP: \[Android\] The Player crashes with a "JNI ERROR (app bug)" error when the global reference table gets overflowed by BillingClientStateListener ([UUM-55105](https://issuetracker.unity3d.com/issues/android-the-player-crashes-with-a-jni-error-app-bug-error-when-the-global-reference-table-gets-overflowed-by-billingclientstatelistener))
    
*   IL2CPP: \[Android\] Crash on Android when AndroidJavaProxy is calling from multiple threads ([UUM-49357](https://issuetracker.unity3d.com/issues/android-crash-on-android-when-androidjavaproxy-is-calling-from-multiple-threads))
    
*   Input: Crash on InputDeviceIOCTL when closing Unity editor ([UUM-10774](https://issuetracker.unity3d.com/issues/crash-on-inputdeviceioctl-when-closing-unity-editor))
    
*   Input: High polling rate mice are causing performance issues (windows, editor) ([UUM-1484](https://issuetracker.unity3d.com/issues/high-polling-rate-mice-are-causing-performance-issues))
    
*   Metal: \[iOS\] App crashes with out of memory exception in UnityGfxDeviceWorker when starting the app ([UUM-55488](https://issuetracker.unity3d.com/issues/ios-app-crashes-with-out-of-memory-exception-in-unitygfxdeviceworker-when-starting-the-app))
    
*   Platform Audio: \[Linux\] No audio output when playing audio ([UUM-53143](https://issuetracker.unity3d.com/issues/linux-no-audio-output-when-playing-audio))
    
*   Universal RP: Objects are invisible in Scene view when using Wireframe Shading Mode ([UUM-36914](https://issuetracker.unity3d.com/issues/objects-are-invisible-in-scene-view-when-using-wireframe-shading-mode))
    

### 2021.3.36f1 Release Notes

#### Improvements

*   AI: The instantiation of NavMeshes into the scene happens slightly faster.

#### API Changes

*   XR: Changed: Make 2021.3 IUnityXRDisplay code-compatible with the newer v10 API (does not add v10 features; unsupported features are ignored).

#### Changes

*   XR: \[2021.3\] Update com.unity.xr.openxr package version to 1.10.0.

#### Fixes

*   2D: Fixed (Case UUM-56609) Fix case where sprite atlas secondary texture is not scaled down when setting Max Texture Size. ([UUM-55671](https://issuetracker.unity3d.com/issues/sprite-atlas-secondary-texture-is-not-scaled-down-when-setting-max-texture-size))
    
*   AI: Fixed crash that happens when NavMesh Agents with active avoidance try to move between obstacles that carve the NavMesh in some particular locations. ([UUM-49214](https://issuetracker.unity3d.com/issues/crash-on-navmeshquery-findlocalneighbourhood-when-neighbour-polygons-is-null))
    
*   Android: Fixed a crash, when one of the extracted il2cpp resource is delete in application data folder, in case like this, application will reextract il2cpp resources again. ([UUM-46362](https://issuetracker.unity3d.com/issues/android-crash-on-android-when-il2cpp-fails-to-initialize))
    
*   Android: Fixed crash in development build when passing array of AndroidJavaObject to Java method. (UUM-60779)
    
*   Android: Fixed problem with with using AndroidJavaObject.Set() for AndroidJavaProxy. ([UUM-59734](https://issuetracker.unity3d.com/issues/androidjavaobject-dot-set-throws-exception-when-used))
    
*   Android: Provide human readable warning message if Unity encounters a bug in Android SDK's command line tools 2.1. ([UUM-62275](https://issuetracker.unity3d.com/issues/the-android-player-sdk-path-is-not-found-when-using-the-cmd-line-tools-2-dot-1))
    
*   Animation: Blend Tree assets are now correctly deleted when overwritten by an Animation Clip in an Animator. ([UUM-62807](https://issuetracker.unity3d.com/issues/blend-tree-data-remains-in-the-animator-controller-when-the-motion-property-of-the-state-is-changed))
    
*   Animation: Fixed deleting StateMachine leaking outgoing transitions. ([UUM-58996](https://issuetracker.unity3d.com/issues/animator-controller-transition-data-remains-when-a-state-machine-is-deleted))
    
*   Animation: Fixed Editor spike when selecting a GameObject with a Playable Director Component. ([UUM-59654](https://issuetracker.unity3d.com/issues/editor-freezes-when-selecting-a-gameobject-with-a-playable-director-component))
    
*   Audio: Fixed seeking of serialized MP3 files. ([UUM-62086](https://issuetracker.unity3d.com/issues/crash-on-fmod-codecmpeg-setpositioninternal-when-a-mobile-platform-is-selected-and-a-specific-audio-clip-is-played))
    
*   Build Pipeline: Fixed an issue where Editor would crash due to a corrupted json file. ([UUM-48603](https://issuetracker.unity3d.com/issues/crash-on-cxxthrowexception-when-building-by-selecting-build-and-run-on-the-android-device))
    
*   Build Pipeline: Fixed AssetBundle incremental build detect script namespace/assembly change. ([UUM-35766](https://issuetracker.unity3d.com/issues/assetbundle-incremental-build-needs-to-detect-script-namespace-slash-assembly-change))
    
*   Documentation: Fixed documentation on SystemInfo.hdrSupportFlags. ([UUM-59911](https://issuetracker.unity3d.com/issues/systeminfo-dot-hdrdisplaysupportflags-returns-supported-when-connected-to-a-non-hdr-monitor))
    
*   Documentation: Fixed example code for AudioSource.GetSpectrumData by using AudioSource instead of AudioListener. (UUM-52561)
    
*   Documentation: Removed mentions of web player in Microphone.Start. (UUM-52555)
    
*   Editor: Added null check to audio filter read callback. ([UUM-59618](https://issuetracker.unity3d.com/issues/crash-on-spriterenderer-ondeletesprite-when-opening-a-project-with-topdown-engine-by-more-mountains-imported))
    
*   Editor: Clarified that the slope in GetSteepness is always positive.
    
*   Editor: Ensured the resize cursor doesn't show up when hovering over a draggable tab. (UUM-59161)
    
*   Editor: Fields that could still be edited even though multi-editing is not supported when multiple Game Objects are selected should no longer be visible. ([UUM-61080](https://issuetracker.unity3d.com/issues/fields-can-still-be-edited-even-though-multi-editing-is-not-supported-when-multiple-game-objects-are-selected))
    
*   Editor: Fixed a bug where GUI in the Scene were using an incorrect offset when Scene filtering was active. ([UUM-61753](https://issuetracker.unity3d.com/issues/handles-dot-gui-block-inside-ondrawgizmos-has-incorrect-clip-space-when-the-search-filter-is-applied))
    
*   Editor: Fixed a bug where the hotkey would appear in the label of the selected item of a UIElements.PopupField and a EditorGUILayout.Popup. ([UUM-6243](https://issuetracker.unity3d.com/issues/declared-hotkeys-are-not-working-in-the-popup-menu))
    
*   Editor: Fixed a crash related to throwing BuildFailedException in BuildProcessor.PrepareForBuild. ([UUM-62231](https://issuetracker.unity3d.com/issues/crash-on-raiseexception-when-building-the-player))
    
*   Editor: Fixed a performance regression in the TextureImporter. (UUM-36303)
    
*   Editor: Fixed an issue where the Columns and Rows values are not updating in a TextureImporter preset. ([UUM-59090](https://issuetracker.unity3d.com/issues/unable-to-change-values-of-texture2darray-when-using-texture-import-preset))
    
*   Editor: Fixed an issue where we would use a cached SerializedProperty that belonged to a different SerializedObject for the ReorderableList. This would cause changes to be lost due to them being applied to the wrong SerializedObject. ([UUM-35957](https://issuetracker.unity3d.com/issues/gameobject-cant-be-added-to-the-serialized-gameobject-list-in-the-project-settings-window-when-using-settingsprovider))
    
*   Editor: Fixed backport of a MPEG codec bug resolution. ([UUM-59571](https://issuetracker.unity3d.com/issues/fsbtool-error-when-opening-a-project-containing-audio-files-dot-mp3-some-importing-of-audioclip-may-fail))
    
*   Editor: Fixed crash that occurs when opening the Occlusion Culling window. ([UUM-506](https://issuetracker.unity3d.com/issues/crash-on-preparedrawshadowscommandstep1-when-selecting-a-camera-while-the-occlusion-culling-window-is-open))
    
*   Editor: Fixed error thrown from UnityYAMLMerge when comparing similar sequences. ([UUM-31240](https://issuetracker.unity3d.com/issues/vector-too-long-error-is-thrown-when-using-unityyamlmerge))
    
*   Editor: Fixed incorrect color sample results with the eyedropper tool Color Picker on macOS. (UUM-60339)
    
*   Editor: Fixed issue where certain monitor layouts will confuse which monitor to open menus on MS Windows. ([UUM-48008](https://issuetracker.unity3d.com/issues/windows-context-menus-can-display-in-incorrect-position-in-triad-monitor-layout))
    
*   Editor: Fixed macOS platform not having XcodeApi if iOS platform support is not present. ([UUM-56448](https://issuetracker.unity3d.com/issues/error-the-type-or-namespace-name-pbxproject-could-not-be-found-is-thrown-when-a-project-is-opened-that-does-not-have-an-ios-module-installed))
    
*   Editor: Fixed scene template dependency list view in inspector window. (UUM-59838)
    
*   Editor: Fixed wrong menu item getting the checked state when it had a duplicate name. ([UUM-3533](https://issuetracker.unity3d.com/issues/the-first-dropdown-menu-element-is-selected-when-selecting-the-last-element-when-genericmenu-dot-allowduplicatenames-is-set-to-true))
    
*   Editor: On activity the videoplayer is stuck if called after the standby/resume state. (UUM-54785)
    
*   Editor: Opening a context menu on macOS will now focus the application so all functions in the hierarchy work. ([UUM-26081](https://issuetracker.unity3d.com/issues/mac-context-menu-in-hierarchy-is-available-but-not-functional-when-the-editor-is-out-of-focus))
    
*   Editor: Protected against crashes when passing invalid dimensions to an editor window (NaN or Infinity). ([UUM-53656](https://issuetracker.unity3d.com/issues/crash-on-nsviewvalidategeometry-when-editing-a-timeline-asset-through-a-custom-editor-window))
    
*   Editor: Removing error message warning for invalid property path ([UUM-34635](https://issuetracker.unity3d.com/issues/cant-change-reference-type-when-prefab-variant-overrides-managed-reference-data))
    
*   Editor: Texture .meta files contain override information for Server platform, which is not required as those settings are shared with Standalone and GPU only textures are stripped from Server builds. ([UUM-56603](https://issuetracker.unity3d.com/issues/texture-meta-files-contain-override-information-for-all-platforms-even-when-only-one-platform-is-overriden))
    
*   Editor: The Editor no longer crashes with a callstack resulting in validateMenuItem. ([UUM-33727](https://issuetracker.unity3d.com/issues/crash-on-cocoamainmenu-validatemenuitem-when-pressing-slash-searching-in-help))
    
*   GI: Removed logging which has caused users, supporters and developers to waste time and leave the user with no solution. ([UUM-64413](https://issuetracker.unity3d.com/issues/misleading-log-message-on-enlighten))
    
*   Graphics: Fixed a crash on Vulkan where RenderTextures may reuse handles and change them to Memoryless textures which may cause an improper pointer dereference. (UUM-62663)
    
*   Graphics: Fixed a regression in DrawProceduralIndirect in the Directx 11 backend when it was erroneously throwing "Draw indirect argument buffer too small" when using an argument buffer of 4 ints. ([UUM-63246](https://issuetracker.unity3d.com/issues/draw-indirect-argument-buffer-too-small-is-thrown-when-using-an-argument-buffer-of-4-ints))
    
*   Graphics: Fixed case where shader keywords were incorrect when loading old AssetBundles. ([UUM-61412](https://issuetracker.unity3d.com/issues/assetbundle-materials-are-black-color-in-builds-when-assetbundle-was-built-in-unity-2019-dot-4))
    
*   Graphics: Fixed undefined behavior in Texture2D.Compress / EditorUtility.CompressTexture / EditorUtility.CompressCubemapTexture when these were dealing with partial mip-chain textures. The APIs now leave the mipmap count of textures untouched. ([UUM-35985](https://issuetracker.unity3d.com/issues/assertion-failed-on-expression-miplevel-m-mipcount-error-when-using-texture2d-dot-compress-method))
    
*   Graphics: Improved performance of CopyTexture when copying from a readable Texture2D just after it was scheduled for uploading (Texture2D::Apply()). (UUM-35167)
    
*   IL2CPP: Fixed data races in lazy initialization checks on ARM processors. ([UUM-44039](https://issuetracker.unity3d.com/issues/android-application-crash-when-methods-are-called-in-multiple-threads))
    
*   IL2CPP: Fixed leak of cached reflection data on IL2CPP unload. (UUM-58464)
    
*   IL2CPP: Fixed occasional crash when attaching/detaching the Unity debugger. (UUM-48692)
    
*   IL2CPP: Fixed rare crash when using ConditionalWeakTable. (UUM-54316)
    
*   IL2CPP: Fixed socket.send() sending uncatchable SIGPIPE signal on Linux. ([UUM-39498](https://issuetracker.unity3d.com/issues/linux-il2cpp-dedicated-server-crashes-when-calling-socket-dot-send))
    
*   IL2CPP: Fixed to allow IP options IP\_HDRINCL, IP\_TOS and IP\_TTL on some platforms where they are supported but were incorrectly defined out. (UUM-55772)
    
*   IL2CPP: Throw a PlatformNotSupportedException for Process.HasExited. ([UUM-55384](https://issuetracker.unity3d.com/issues/crash-on-il2cpp-icalls-mscorlib-system-threading-waithandle-wait-internal-when-player-calls-process-dot-hasexited-in-an-il2cpp-build))
    
*   iOS: Added missing privacy manifest entry for System Boot time API usage.
    
*   Linux: Fixed crash when destroying and rebuilding main GTK menu. ([UUM-53175](https://issuetracker.unity3d.com/issues/linux-crash-on-destroygtkwidget-when-setting-layout-to-default-or-creating-a-project-from-a-template-or-going-through-tutorial-projects-steps))
    
*   Linux: Fixed crash when destroying and rebuilding main GTK menu. ([UUM-56334](https://issuetracker.unity3d.com/issues/linux-crash-on-g-type-check-instance-when-opening-a-project-or-entering-the-play-mode-on-a-tutorial-microgame-project))
    
*   macOS: Crash Reporter failing to upload to cloud due to path not being pre-created. ([UUM-60277](https://issuetracker.unity3d.com/issues/crashreporter-is-unable-to-find-the-crash-data-file-on-macos-standalone))
    
*   macOS: Fixed memory leak when enumerating files. ([UUM-52219](https://issuetracker.unity3d.com/issues/memory-leak-when-building-assetbundles))
    
*   macOS: Limit Update loop frequency by target frame rate to not overwhelm the system and not delay input processing. ([UUM-59176](https://issuetracker.unity3d.com/issues/mouse-and-keyboard-button-inputs-are-delayed-when-in-the-player-on-macos))
    
*   Mono: Accessing AppContext.BaseDirectory will no longer throw an exception. ([UUM-48816](https://issuetracker.unity3d.com/issues/mono-android-errors-in-log-when-built-with-appcontext-dot-basedirectory))
    
*   Mono: Disallow unrestricted polymorphic deserialization in DataSet. (UUM-62270)
    
*   Mono: Fixed "ldftn opcode to an icall causes JIT compilation upon every invocation". (UUM-54694)
    
*   Mono: Fixed a race condition when the number of files in a directory changes while this code is executing. ([UUM-58474](https://issuetracker.unity3d.com/issues/mono-crash-on-systemnative-readdirr-when-building-for-ios-slash-android-on-a-macos-machine))
    
*   Mono: Fixed crash on domain reload, due to domain specific memory stored within image specific data structures. ([UUM-60632](https://issuetracker.unity3d.com/issues/editor-crashing-when-recompiling))
    
*   Mono: Fixed crash on Windows when certain Global Flags were enabled with the GFlags SDK tool. ([UUM-49475](https://issuetracker.unity3d.com/issues/unity-editor-silently-crashes-on-the-project-startup-when-show-loader-snaps-is-enabled-in-global-flags-of-windows-sdk))
    
*   Mono: Fixed crash that would occur when attempting to determine the size of a recursively defined struct. ([UUM-58734](https://issuetracker.unity3d.com/issues/crash-on-mono-log-write-logfile-when-opening-a-specific-project-which-has-a-recursive-definition-of-generic-types))
    
*   Mono: Fixed issue with Socket.ReadAsync where the buffer submitted would not be updated when using a Memory. ([UUM-54449](https://issuetracker.unity3d.com/issues/mono-socket-dot-receiveasync-memory-socketflags-doesnt-change-the-underlying-array-of-memory))
    
*   Networking: Throw exception instead of crashing if UnityWebRequest is sent during app quit, such as from Destroy(). ([UUM-63150](https://issuetracker.unity3d.com/issues/unitywebrequest-crashes-if-invoked-when-player-is-quitting))
    
*   Package Manager: Package Import window retains its functionality when collapsing the root folder of a package. ([UUM-52889](https://issuetracker.unity3d.com/issues/folders-become-no-longer-visible-in-the-import-unity-package-window-when-importing-the-ui-toolkit-sample-dragon-crashers-asset-package-and-collapsing-the-assets-folder))
    
*   Prefabs: Enabled saving Prefab Instances with missing source & disabled dragging Prefab Instances merged as missing. ([UUM-877](https://issuetracker.unity3d.com/issues/backport-redo-drag-action-creates-duplicates-of-prefabs-disconnects-from-prefab-instance-and-makes-them-unable-to-delete-or-u))
    
*   Scene/Game View: Fixed an issue where the Transform Tool would not respect the global handle rotation setting. ([UUM-62487](https://issuetracker.unity3d.com/issues/global-tool-handle-rotation-is-not-respected-when-using-the-transform-tool))
    
*   Scene/Game View: Fixed gizmos not rendering in scenes that are loaded during play mode from user code. ([UUM-63255](https://issuetracker.unity3d.com/issues/ondrawgizmos-functions-are-ignored-when-loading-an-additive-scene))
    
*   Scene/Game View: Fixed Move tool behavior when the parent GameObject changes during manipulation. ([UUM-56520](https://issuetracker.unity3d.com/issues/move-tool-resets-gameobjects-local-position-when-a-different-parent-gameobject-is-assigned))
    
*   Scene/Game View: Making GameObject icon visibility responsive to Scene View visibility. ([UUM-55801](https://issuetracker.unity3d.com/issues/gameobject-icon-is-displayed-in-scene-view-when-its-visibility-is-turned-off))
    
*   Scripting: Removed the multiple HelpURL attributes warning. ([UUM-59630](https://issuetracker.unity3d.com/issues/multiple-helpurl-attributes-detected-warning-appears-when-having-a-regular-helpurl-attribute-on-a-base-class-and-another-helpurl-attribute-on-its-derived-class-if-the-attribute-on-the-derived-class-is-a-custom-attribute))
    
*   Search: Allows index to be saved in local package. (UUM-62277)
    
*   Search: Ensure Index have a dependency id computed from their type name. (UUM-62159)
    
*   Search: In IndexManager, disable SubObject options editing if the index is Scene or Prefab. (UUM-62150)
    
*   Search: When directory are renamed, properly invalidate propertydb. ([UUM-59213](https://issuetracker.unity3d.com/issues/search-results-in-the-unity-search-window-do-not-update-when-renaming-folders))
    
*   Shaders: Improved message in the player log when sending the shader variant to the GPU driver. ([UUM-62527](https://issuetracker.unity3d.com/issues/compiled-shader-in-the-player-log-is-misleading))
    
*   SpeedTree: Fixed error when opening SpeedTree8ColorAlpha subgraph in shadergraphs. (UUM-40439)
    
*   SRP Core: Fixed issue where errors could be thrown by debug action registration if deleting all axes in Input Manager. ([UUM-45496](https://issuetracker.unity3d.com/issues/retrieving-array-element-that-was-out-of-bounds-is-thrown-when-setting-axes-size-to-0-in-the-input-manager))
    
*   Terrain: Entering detail painting mode no longer crashes the Editor when the TerrainData contains corrupt data. ([UUM-62515](https://issuetracker.unity3d.com/issues/crash-on-ispatchclamped-when-pressing-the-paint-details-button))
    
*   Tests: Removed unstable test, StreamingTests, from Runtime Tests, as it has already been ported to UTF. (UUM-10084)
    
*   uGUI: Fixed the order of game object selection by passing only the root game object when building gizmos. ([UUM-52935](https://issuetracker.unity3d.com/issues/gameobjects-selection-order-cycles-from-the-bottom-rendered-element-to-the-top-rendered-element-when-selecting-ui-gameobjects-in-the-scene-window))
    
*   UI Elements: Fixed some errors when parsing a menu item name that was just whitespace. ([UUM-64241](https://issuetracker.unity3d.com/issues/error-thrown-when-selecting-an-item-with-an-empty-string-in-dropdownfield))
    
*   UI Elements: Updated the logic to use the proper source count removing the dependency from the source type and layout version. ([UUM-55415](https://issuetracker.unity3d.com/issues/the-scriptableobjects-listview-array-size-is-bigger-than-the-current-amount-of-elements-placed-in-it-by-one))
    
*   UI Toolkit: Fixed an issue where the UI Toolkit controls from the com.unity.dt.app-ui package would not show up in the UI Builder's Library. ([UUM-60553](https://issuetracker.unity3d.com/issues/ui-builders-library-section-does-not-show-package-ui-components-when-the-show-package-files-field-is-checked))
    
*   UI Toolkit: Fixed composite field values remain displayed as mixed when their showMixedValue is set back to false. ([UUM-33760](https://issuetracker.unity3d.com/issues/composite-field-values-remain-displayed-as-mixed-when-their-showmixedvalue-is-set-back-to-false))
    
*   UI Toolkit: Fixed documentation links for UI Toolkit assets and scripts. ([UUM-28715](https://issuetracker.unity3d.com/issues/ui-toolkit-ui-elements-view-importer-and-visual-tree-asset-are-missing-documentation-when-going-through-editor))
    
*   UI Toolkit: Fixed DropdownField default values being classed as overridden in UI Builder. ([UUM-62249](https://issuetracker.unity3d.com/issues/ui-builder-dropdown-choices-field-filled-with-generic-dot-list-element-when-saving-document))
    
*   UI Toolkit: Fixed mouse events not sent exclusively to capturing element in runtime. ([UUM-60384](https://issuetracker.unity3d.com/issues/pointermoveevent-is-not-called-when-dragging-the-cursor-over-a-ui-document))
    
*   UI Toolkit: Fixed ScrollView's Elastic mode is unrestricted when scrolling with the Scrollbar's arrows. ([UUM-27737](https://issuetracker.unity3d.com/issues/ui-toolkit-scrollviews-elastic-mode-is-unrestricted-when-scrolling-with-the-scrollbars-arrows))
    
*   UI Toolkit: Fixed view data states not being saved for children of ListView. ([UUM-62717](https://issuetracker.unity3d.com/issues/foldout-visibility-state-is-not-saved-when-viewed-in-the-inspector))
    
*   UI Toolkit: Fixed wrong help link for TextMeshPro Sprite Asset. ([UUM-48801](https://issuetracker.unity3d.com/issues/documentation-font-asset-documentation-shortcut-redirects-to-non-existing-documentation-page))
    
*   UI Toolkit: The url Style sheet value now uses speech marks instead of apostrophes. ([UUM-59416](https://issuetracker.unity3d.com/issues/ui-builder-resets-visualelement-properties-when-file-path-contains-special-characters))
    
*   Universal RP: Fixed an issue where renderer features didn't pass validation if they inherit from another renderer feature. ([UUM-56639](https://issuetracker.unity3d.com/issues/render-features-that-do-not-directly-inherit-from-scriptablerendererfeature-do-not-pass-validation-when-scriptablerendererdata-dot-validaterendererfeatures-runs))
    
*   Universal RP: Fixed bright pixels when using a camera with skybox and MSAA rendering opaque objects with alpha clipping together with a transparent object if additive blending. ([UUM-52949](https://issuetracker.unity3d.com/issues/msaa-specific-visual-artifacts-with-using-forward-plus-rendering-and-transparent-materials))
    
*   Universal Windows Platform: Player will now store the previous UnityPlayer.log under UnityPlayer-prev.log. ([UUM-55652](https://issuetracker.unity3d.com/issues/player-prev-dot-log-is-not-created-when-exiting-the-player-for-uwp))
    
*   VFX Graph: Fixed missing node links when copy/pasting a system with missing PointCacheAsset. ([UUM-46548](https://issuetracker.unity3d.com/issues/copying-graph-which-references-point-cache-doesnt-preserve-connections-between-nodes-if-the-other-project-is-missing-that-asset))
    
*   VFX Graph: Incompatibility with HLSL 2021. (UUM-63956)
    
*   Video: Crash on BaseVideoTexture::InitVideoMemory when capturing Theta V's output texture. ([UUM-60361](https://issuetracker.unity3d.com/issues/crash-on-basevideotexture-initvideomemory-when-capturing-theta-vs-output-texture))
    
*   Video: Video Player freezes when dismissing Siri by tapping on the screen. ([UUM-3561](https://issuetracker.unity3d.com/issues/ios-video-player-freezes-when-dismissing-siri-by-tapping-on-the-screen))
    
*   WebGL: Fixed for Render Texture depth buffers sometimes not being cleared properly. ([UUM-57343](https://issuetracker.unity3d.com/issues/shader-effects-disappear-when-the-canvas-size-is-changed-on-the-webgl-build))
    
*   WebGL: Fixed Orientation Lock code to not crash when run on iOS Safari's new partially complete implementation of screen.orientation API. ([UUM-49634](https://issuetracker.unity3d.com/issues/orientation-locking-throws-exception-on-newer-ios-safari))
    
*   Windows: Fixed Double backslash becoming single backslash when passing a Network path as a command line argument. ([UUM-55979](https://issuetracker.unity3d.com/issues/double-backslash-becomes-single-backslash-when-passing-it-to-the-command-line-argument))
    
*   Windows: Removed undesirable HID warning messages. ([UUM-56489](https://issuetracker.unity3d.com/issues/ri-dot-hid-failed-to-create-device-file-2-the-system-cannot-find-the-file-specified-warning-is-thrown-when-a-malfunctioning-external-device-is-connected))
    
*   XR: Removed the use of an intermediate texture when not required for XR rendering when scaling is used.

### Known Issues in 2021.3.35f1

*   3D Physics: Physics.ComputePenetration returns False when two colliders overlap ([UUM-15831](https://issuetracker.unity3d.com/issues/physics-dot-computepenetration-returns-false-when-two-colliders-overlap))
    
*   Asset Bundles: UV1 data is lost during AssetBundle build when Optimize Mesh Data is on ([UUM-57201](https://issuetracker.unity3d.com/issues/uv1-data-is-lost-during-assetbundle-build-when-optimize-mesh-data-is-on))
    
*   Editor Platform: Crash on -\[CocoaMainMenu validateMenuItem:\] when pressing/searching in Help ([UUM-33727](https://issuetracker.unity3d.com/issues/crash-on-cocoamainmenu-validatemenuitem-when-pressing-slash-searching-in-help))
    
*   IAP: \[Android\] The Player crashes with a "JNI ERROR (app bug)" error when the global reference table gets overflowed by BillingClientStateListener ([UUM-55105](https://issuetracker.unity3d.com/issues/android-the-player-crashes-with-a-jni-error-app-bug-error-when-the-global-reference-table-gets-overflowed-by-billingclientstatelistener))
    
*   IL2CPP: \[Android\] Crash on Android when AndroidJavaProxy is calling from multiple threads ([UUM-49357](https://issuetracker.unity3d.com/issues/android-crash-on-android-when-androidjavaproxy-is-calling-from-multiple-threads))
    
*   Input: Crash on InputDeviceIOCTL when closing Unity editor ([UUM-10774](https://issuetracker.unity3d.com/issues/crash-on-inputdeviceioctl-when-closing-unity-editor))
    
*   Input: High polling rate mice are causing performance issues (windows, editor) ([UUM-1484](https://issuetracker.unity3d.com/issues/high-polling-rate-mice-are-causing-performance-issues))
    
*   Metal: \[iOS\] App crashes with out of memory exception in UnityGfxDeviceWorker when starting the app ([UUM-55488](https://issuetracker.unity3d.com/issues/ios-app-crashes-with-out-of-memory-exception-in-unitygfxdeviceworker-when-starting-the-app))
    
*   Platform Audio: \[Linux\] No audio output when playing audio ([UUM-53143](https://issuetracker.unity3d.com/issues/linux-no-audio-output-when-playing-audio))
    
*   UI Toolkit Framework: Game view introduces banding and renders differently from UI Builder when Gradients from opaque-to-transparent white are selected ([UUM-62389](https://issuetracker.unity3d.com/issues/game-view-introduces-banding-and-renders-differently-from-ui-builder-when-gradients-from-opaque-to-transparent-white-are-selected))
    
*   Universal RP: Objects are invisible in Scene view when using Wireframe Shading Mode ([UUM-36914](https://issuetracker.unity3d.com/issues/objects-are-invisible-in-scene-view-when-using-wireframe-shading-mode))
    

### 2021.3.35f1 Release Notes

#### Features

*   iOS: Added Apple Privacy Manifest support.

#### Improvements

*   Build System: Make bee\_backend's directory deletion explicitly handle readonly files on windows.

#### API Changes

*   Package: Changed: XR Interaction Toolkit (com.unity.xr.interaction.toolkit) 3.0.0-pre.1 added as next version to package manifest to allow discoverability.

#### Changes

*   Package: Updated code coverage package to version 1.2.5.

#### Fixes

*   2D: Fixed an issue where multiple light sources could cause shadows to fail. ([UUM-1855](https://issuetracker.unity3d.com/issues/2d-urp-light-shadow-will-only-be-active-on-a-light-with-highest-light-order-when-using-more-than-1-light))
    
*   2D: Fixed issue where Sprite Editor Window does not preview the image in proper filter mode. ([UUM-57832](https://issuetracker.unity3d.com/issues/sprite-editor-window-not-visualizing-changes-when-selecting-different-filter-modes))
    
*   2D: Fixed local bounds of 2D Freeform Light from changing when scene is reloaded. ([UUM-49000](https://issuetracker.unity3d.com/issues/local-bounds-values-of-2d-freeform-light-change-when-the-scene-is-reloaded))
    
*   2D: Fixed Shadows being rendered twice. (UUM-59844)
    
*   Android: Added Auto Rotation behavior to the Orientation section. ([UUM-44021](https://issuetracker.unity3d.com/issues/android-unable-to-override-android-app-screen-orientation-when-the-custom-main-manifest-is-used))
    
*   Android: Fixed ad banner disappearance after suspend/resume. ([UUM-57151](https://issuetracker.unity3d.com/issues/android-admobsdk-banner-ad-disappears-when-the-device-goes-to-the-home-screen-and-returns-to-the-application))
    
*   Android: Fixed OnDemandRendering's ignored renderFrameInterval. (UUM-32486)
    
*   Android: Upgraded Google's Frame Pacing library from v1.7 to v1.10 to fix various stability and performance issues with Optimized Frame Pacing. ([UUM-57566](https://issuetracker.unity3d.com/issues/android-virtual-device-crashes-with-scudo-error-invalid-chunk-state-when-deallocating-address-error-in-firebase-test-lab-when-optimized-frame-pacing-is-enabled))
    
*   Animation: Fixed for transition preview ending before the target state has fully played. ([UUM-59080](https://issuetracker.unity3d.com/issues/transition-animation-stops-after-the-transition-ends-when-played-in-preview))
    
*   Animation: Fixed synced layers that were mistakenly deleted when the user removed an unrelated layer in the Animator window. ([UUM-59649](https://issuetracker.unity3d.com/issues/synced-layer-is-deleted-when-deleting-a-layer-above-the-synced-layer-in-the-animator-window))
    
*   Asset Import: Fixed issue where "Multiple plugins with the same name" error occurs when importing bundle files in .androidpack folders on Mac. (UUM-35317)
    
*   Audio: Fixed AudioMixer clicks when abruptly changing volume in Start(). ([UUM-368](https://issuetracker.unity3d.com/issues/audio-plays-for-a-split-second-when-mixers-volume-is-set-to-0-beforehand))
    
*   Build System: Don't crash on windows if there are duplicate environment variable keys.
    
*   Build System: Fixed an issue where building a player could fail because of file paths being longer than 260 characters on Windows. (UUM-49428)
    
*   Editor: Avoid a type initialization exception that can occur on Apple Silicon when a .NET executable is run as part of the Unity Editor tooling. (UUM-44304)
    
*   Editor: Fixed a bug on Linux where the Edit menu was displaying the wrong default shortcut for Delete. (UUM-59833)
    
*   Editor: Fixed build errors due when switching between build targets using buildPlayer command line options. ([UUM-34899](https://issuetracker.unity3d.com/issues/the-project-does-not-build-with-linux-il2cpp-when-executing-cli-after-building-for-windows))
    
*   Editor: Fixed crash in shortcut generation on Mac OS. ([UUM-56950](https://issuetracker.unity3d.com/issues/crash-on-generateshortcut-when-opening-a-specific-project))
    
*   Editor: Fixed how we index folder and folder combinations for the dir: filter. ([UUM-56923](https://issuetracker.unity3d.com/issues/no-items-are-found-in-the-search-window-when-having-a-path-in-the-filter))
    
*   Editor: Fixed LODGroup inspector that sometimes collapsed on LOD adding/removal. ([UUM-48823](https://issuetracker.unity3d.com/issues/the-lod-group-component-gets-scrambled-in-the-inspector-window-when-interacting-with-it-for-a-while))
    
*   Editor: Fixed material validation scene view mode UI. (UUM-59786)
    
*   Editor: Fixed Opaque Layer Mask filters out meshes that use the 31st Layer. ([UUM-17764](https://issuetracker.unity3d.com/issues/urp-opaque-layer-mask-filters-out-meshes-that-use-the-31st-layer-when-every-layer-is-set-to-render))
    
*   Editor: Fixed the crash on linux for visual graph. ([UUM-53154](https://issuetracker.unity3d.com/issues/linux-crash-on-guiview-sendlayoutevent-or-idlist-calculatenextfromhintlist-when-browsing-for-a-visual-graph-and-selecting-none))
    
*   Editor: Global Settings will always be ensured no matter what RP is active. (UUM-47264)
    
*   Editor: Increased Undo buffer maximum size to prevent 'Failed to create Object Undo, because the action is too large' error in console. ([UUM-19657](https://issuetracker.unity3d.com/issues/error-failed-to-create-object-undo-because-the-action-is-too-large-is-thrown-when-deleting-a-large-gameobject))
    
*   Editor: Linux CheckedMenu submenu items not displaying as Checked in some occasions. (UUM-58878)
    
*   Editor: Prevented a crash in PreviewTextureManager when changing materials while play-mode is active. ([UUM-44179](https://issuetracker.unity3d.com/issues/linux-crash-on-previewtexturemanager-integrateloadedpreviewtomainthread-when-assigning-a-material-to-mesh-renderer))
    
*   Editor: Upgraded libcurl to 8.5.0. ([UUM-60184](https://issuetracker.unity3d.com/issues/priority-norepro-assessment-of-cve-2023-46218))
    
*   Editor: \[Android\]\[2021.3\] Upgrading BundleTool version to 1.11.1 to fix issue where asset packs couldn't be downloaded or have their state/size queried on Google Pixel devices on 2021.3. Setting CompileSdkVersion to at least 30 to avoid associated Gradle errors. (UUM-56939)
*   GI: Fixed crash on Apple Silicon in llvm::VectorType::get when opening a specific project. ([UUM-59133](https://issuetracker.unity3d.com/issues/silicon-crash-on-llvm-vectortype-get-when-opening-a-specific-project))
    
*   GI: Use the hash of the vertex stream instead of the taking per instance props into account for meta pass. ([UUM-55090](https://issuetracker.unity3d.com/issues/lightmapping-memory-does-not-deallocate-when-baking-is-completed))
    
*   Graphics: DrawProceduralNow family of functions also provide emulated vertexbuffers. (UUM-51751)
    
*   Graphics: Fixed vertex color input when frame buffer fetch is used on GLES. ([UUM-34725](https://issuetracker.unity3d.com/issues/android-framebufferfetch-renders-ui-vertex-color-incorrectly))
    
*   Graphics: Surface shader path has correct parameters set when emulating vertexbuffers. ([UUM-52930](https://issuetracker.unity3d.com/issues/graphics-dot-renderprimitives-does-not-work-when-using-surface-shaders))
    
*   Graphics: When using CaptureScreenshotAsTexture during the rendering process with Metal API, if the results are undefined then Unity now outputs an error instead of crashing. (UUM-47096)
    
*   IL2CPP: Fixed C++ compilation error on missing type reference is generic code. ([UUM-56231](https://issuetracker.unity3d.com/issues/il2cpp-android-non-development-build-fails-due-to-il2cpp-conversion-of-types))
    
*   IL2CPP: Fixed C++ compilation error when Enum.HasFlag was called with a Nullable enum value. ([UUM-58451](https://issuetracker.unity3d.com/issues/il2cpp-build-fails-with-the-error-1mcannot-convert-nullable-1-tea06d91799914c5c8830f83ce2a8395868c14f02-to-int32-t-aka-int-without-a-conversion-operator-when-il2cpp-is-used-as-the-scripting-backend))
    
*   IL2CPP: Fixed conversion errors on constrained calls in shared generic code. (UUM-55756)
    
*   IL2CPP: Fixed crash when calling Type.IsGenericTypeParameter and Type.IsGenericMethodParameter. ([UUM-56064](https://issuetracker.unity3d.com/issues/crash-on-type-get-isgenerictypeparameter-m64b33ca8a518c68b58352ce3d66c2b0774292c4c-when-calling-isgenerictypeparameter-on-unbound-generic-types-in-il2cpp-player))
    
*   IL2CPP: Fixed null value on P/Invoke method with an \[Out\] marshalled blittable class parameter. ([UUM-57901](https://issuetracker.unity3d.com/issues/il2cpp-player-crash-on-memset-in-vcruntime140d-when-selecting-ui-gameobject))
    
*   iOS: Fixed adding multiple plugins with embedded frameworks. ([UUM-58170](https://issuetracker.unity3d.com/issues/ios-embed-frameworks-build-phase-is-duplicated-when-multiple-frameworks-are-present-in-the-project))
    
*   Linux: Fixed Editor getting focused when saving script files with Jetbraines Rider. ([UUM-36463](https://issuetracker.unity3d.com/issues/linux-editor-becomes-focused-when-saving-a-script-file-in-jetbrains-rider))
    
*   Linux: Fixed Editor progress window labels doesn't updating. (UUM-51402)
    
*   Linux: Fixed Progress modal window stays on top of every other window and cannot be moved. ([UUM-51429](https://issuetracker.unity3d.com/issues/linux-progress-modal-window-stays-on-top-of-every-other-window-and-cannot-be-moved))
    
*   Mono: Fixed GC heap reporting to report reserved (free) sections. ([UUM-53413](https://issuetracker.unity3d.com/issues/memory-profiler-fails-to-enumerate-a-specific-heap-segment))
    
*   Mono: Fixed issue where invoking a virtual method on a delegate would only consider the method's overrides on the first call. ([UUM-55774](https://issuetracker.unity3d.com/issues/override-function-is-not-called-when-the-invoke-method-is-invoked))
    
*   Package: Updated XR Interaction Toolkit (com.unity.xr.interaction.toolkit) to 2.5.2.
    
*   Package Manager: Fixed the issue where bundled plugins cannot be exported into a .unitypackage file. ([UUM-37376](https://issuetracker.unity3d.com/issues/console-error-error-while-exporting-package-no-assets-to-export-only-folders-did-you-mean-to-use-exportpackageoptions-dot-recurse-when-trying-to-export-a-bundle-file-as-a-package))
    
*   Package Manager: Fixed the issue where Package Manager displays the wrong "Recommended" version. (UUM-57577)
    
*   Physics: Fixed a spelling issue in a BoxCollider warning message. ([UUM-57944](https://issuetracker.unity3d.com/issues/boxcolliders-does-not-support-negative-scale-or-size-errors-are-spammed-into-the-console-when-entering-the-play-mode))
    
*   Profiler: Fixed an issue whereby all Rendering statistics could be zero in Play Mode when the application's target frame rate was set. ([UUM-58128](https://issuetracker.unity3d.com/issues/the-rendering-profiler-module-statistics-are-zero-when-application-dot-targetframerate-is-set))
    
*   Profiler: Maximizing the Profiler window no longer logs an error to the console. (UUM-59893)
    
*   Scene/Game View: Fixed an issue where continuously panning an orthographic SceneView camera would eventually cause the rendered geometry to be clipped. ([UUM-56425](https://issuetracker.unity3d.com/issues/panning-to-sides-causes-the-camera-clipping-a-gameobject-in-scene-view-when-the-scene-is-viewed-from-the-top-and-is-in-orthographic-projection-mode))
    
*   Scripting: RequiredComponents of different MonoScripts with the same name are now resolved correctly. ([UUM-1928](https://issuetracker.unity3d.com/issues/backport-ngui-components-get-transforms-changed-to-recttransforms-after-upgrading-the-project))
    
*   Scripting: Ensure that we use a Logical Path rather than an Absolute Path when looking up InstanceIDs. (UUM-63675)
    
*   Shaders: Ensured that compute shaders register include dependencies properly in some edge cases. This way fixing errors in include files will recompile the shader as expected. ([UUM-35111](https://issuetracker.unity3d.com/issues/editor-tracks-the-incorrect-state-of-shaders-when-modifying-them-during-compiling-compute-shaders))
    
*   Shaders: Ensures internal shader compiler errors such as losing connection to a compiler process aren't cached like compilation errors are. (UUM-28802)
    
*   Shaders: Fixed an incorrect warning being shown when doing paired calls to SetAsyncCompilation / RestoreAsyncCompilation on RenderingCommandBuffer. ([UUM-59508](https://issuetracker.unity3d.com/issues/calling-setasynccompilation-without-matching-restoreasynccompilation-is-thrown-when-using-shaderutil-dot-setasynccompilation-and-shaderutil-dot-restoreasynccompilation))
    
*   Shaders: For shaders compiled using DXC for Vulkan, fixed "maximal supported UAV limit" errors being generated on UAV resource declarations when they shouldn't be. (UUM-56264)
    
*   uGUI: Added issue surrounding dropdown not closing correctly in certain situations. ([UUM-33691](https://issuetracker.unity3d.com/issues/the-dropdown-will-not-close-when-clicked-outside-of-it))
    
*   UI Toolkit: Fixed an issue in the UI Builder where it wouldn't use the custom uxml type name defined in the UxmlFactory class. ([UUM-41831](https://issuetracker.unity3d.com/issues/element-element-name-has-no-registered-factory-method-dot-error-is-thrown-when-the-uxmlqualifiedname-property-is-overridden))
    
*   UI Toolkit: Fixed focus-related events not received when switching EditorWindow tab. ([UUM-57083](https://issuetracker.unity3d.com/issues/textfield-registervaluechangedcallback-doesnt-fire-callbacks-when-the-tab-loses-focus))
    
*   UI Toolkit: Fixed for changes after project launch are not discarded properly in UI Builder. (UUM-55872)
    
*   UI Toolkit: Fixed instability in UGUIEventSystemTests by excluding LinuxEditor for 2 tests. (UUM-49226)
    
*   UI Toolkit: Fixed missing ChangeEvent when using the function name dropdown of the UnityEvent inspector. ([UUM-30674](https://issuetracker.unity3d.com/issues/registervaluechangecallback-is-not-called-when-changing-the-function-field))
    
*   UI Toolkit: Fixed missing dirty-repaint when setting the DynamicColor hint. (UUM-59393)
    
*   UI Toolkit: Fixed some fields showing :hover style instead of :focus style when both are true. ([UUM-7339](https://issuetracker.unity3d.com/issues/fields-are-not-focused-correctly-when-using-ui-builder))
    
*   UI Toolkit: Fixed wrong pointer event target when an element's visibility or pickingMode is modified without moving the pointer. ([UUM-20723](https://issuetracker.unity3d.com/issues/ui-toolkit-visualelement-keeps-firing-mouse-events-after-setting-element-visibility-to-hidden-if-mouse-wasnt-moved))
    
*   UI Toolkit: \[UI Builder\] Fixed an issue where a Unity.UI.Builder.UnityUIBuilderSelectionMarker would be cloned in play mode and in builds. ([UUM-60883](https://issuetracker.unity3d.com/issues/unknown-type-unity-dot-ui-dot-builder-dot-unityuibuilderselectionmarker-when-setting-background-color-of-a-canvas))
    
*   Universal RP: Fixed incorrect volume stack dispose when switching between volume update modes. ([UUM-54394](https://issuetracker.unity3d.com/issues/nullreferenceexception-is-thrown-when-loading-multiple-scenes-consecutively-using-a-script))
    
*   Universal RP: Fixed issue where disabling/enabling ShadowCaster2Ds can create duplicate shadows. ([UUM-16927](https://issuetracker.unity3d.com/issues/performance-loss-when-enabling-and-disabling-shadowcaster2d))
    
*   Universal RP: Fixed URP shader stripping performance.
    
*   Universal Windows Platform: Corrected `Application.runInBackground` internal implementation which sometimes caused crashes when the option is set to false after the application has lost focus. (UUM-43306)
    
*   VFX Graph: Fixed a performance issue with parameters gizmos. (UUM-41329)
    
*   VFX Graph: Fixed very very long system name could lead to freeze the Editor. ([UUM-55369](https://issuetracker.unity3d.com/issues/editor-freezes-and-repaints-constantly-when-entering-a-long-string-in-the-system-label-of-a-vfx-graph))
    
*   Web: Set PYTHONUTF8 environment variable to enable UTF-8 encoding by default. ([UUM-20185](https://issuetracker.unity3d.com/issues/webgl-build-fails-with-a-unicodedecodeerror))
    
*   WebGL: Fixed a bug causing audio to skip forward when using AudioClip.Pause() and AudioClip.Resume(). ([UUM-54675](https://issuetracker.unity3d.com/issues/audio-skips-forward-when-it-is-paused-and-played-several-times-in-webgl))
    
*   WebGL: Fixed a bug that causes a parsing error due to misplaced regex. ([UUM-21896](https://issuetracker.unity3d.com/issues/parse-error-the-file-is-corrupt-or-compression-was-misconfigured-when-webgl-build-is-opened))
    
*   WebGL: Improved texture memory usage for Text Mesh Pro font textures on WebGL2 by enabling support for Alpha8 texture format. ([UUM-59366](https://issuetracker.unity3d.com/issues/font-texture-uses-more-memory-when-used-in-webgl-build))
    
*   Windows: Fixed automatic resizing of an unfocused player window once the mouse button is released. ([UUM-49236](https://issuetracker.unity3d.com/issues/windows-clicking-the-edge-of-an-unfocused-built-player-window-will-automatically-resize-it-without-holding-the-mouse-button))
    
*   Windows: Fixed crash when reading data from non-compliant HID peripherals. ([UUM-59628](https://issuetracker.unity3d.com/issues/crash-in-windows-hid-code-during-device-sync-ioctl-with-certain-input-devices))

### Known Issues in 2021.3.34f1

*   3D Physics: Physics.ComputePenetration returns False when two colliders overlap ([UUM-15831](https://issuetracker.unity3d.com/issues/physics-dot-computepenetration-returns-false-when-two-colliders-overlap))
    
*   Asset Bundles: UV1 data is lost during AssetBundle build when Optimize Mesh Data is on ([UUM-57201](https://issuetracker.unity3d.com/issues/uv1-data-is-lost-during-assetbundle-build-when-optimize-mesh-data-is-on))
    
*   Editor Platform: Crash on -\[CocoaMainMenu validateMenuItem:\] when pressing/searching in Help ([UUM-33727](https://issuetracker.unity3d.com/issues/crash-on-cocoamainmenu-validatemenuitem-when-pressing-slash-searching-in-help))
    
*   IAP: \[Android\] The Player crashes with a "JNI ERROR (app bug)" error when the global reference table gets overflowed by BillingClientStateListener ([UUM-55105](https://issuetracker.unity3d.com/issues/android-the-player-crashes-with-a-jni-error-app-bug-error-when-the-global-reference-table-gets-overflowed-by-billingclientstatelistener))
    
*   IL2CPP: \[Android\] Crash on Android when AndroidJavaProxy is calling from multiple threads ([UUM-49357](https://issuetracker.unity3d.com/issues/android-crash-on-android-when-androidjavaproxy-is-calling-from-multiple-threads))
    
*   Input: Crash on InputDeviceIOCTL when closing Unity editor ([UUM-10774](https://issuetracker.unity3d.com/issues/crash-on-inputdeviceioctl-when-closing-unity-editor))
    
*   Input: High polling rate mice are causing performance issues (windows, editor) ([UUM-1484](https://issuetracker.unity3d.com/issues/high-polling-rate-mice-are-causing-performance-issues))
    
*   MacOS: Mouse and keyboard button inputs are delayed when in the Player on macOS ([UUM-59176](https://issuetracker.unity3d.com/issues/mouse-and-keyboard-button-inputs-are-delayed-when-in-the-player-on-macos))
    
*   Platform Audio: \[WebGL\] A looping audio sounds different on WebGL than in the editor/native desktop player ([UUM-12530](https://issuetracker.unity3d.com/issues/webgl-a-looping-audio-sounds-different-on-webgl-than-in-the-editor-slash-native-desktop-player))
    
*   Universal RP: Objects are invisible in Scene view when using Wireframe Shading Mode ([UUM-36914](https://issuetracker.unity3d.com/issues/objects-are-invisible-in-scene-view-when-using-wireframe-shading-mode))
    

### 2021.3.34f1 Release Notes

#### Fixes

*   2D: Fixed case where Sprite Atlas is missing in runtime after reopening the project when using AssetBundles. ([UUM-13610](https://issuetracker.unity3d.com/issues/sprite-atlas-is-missing-in-runtime-after-reopening-the-project-when-using-assetbundles))
    
*   Android: Google play.core package is replaced with separate plugins including play.asset-delivery 2.1.0 to solve PAD related compatibility problem with Android 14. (UUM-54157)
    
*   Android: Improved ANR recovery logic, Unity will try not to exceed ANR threshold (5 seconds) when pausing the application, in case of a failure to sync UI thread with main game thread, Unity will ignore the synchronization and will attempt to continue the application execution. You can also control the timeout for synchronization via UnityPlayerForActivityOrService.SynchronizationTimeout.setTimeoutForAll, an overridden activity java file is required for this purpose. Or perform a call via C# new AndroidJavaClass("com.unity3d.player.UnityPlayer$SynchronizationTimeout").CallStatic("setTimeoutForAll", 1000);. (UUM-56705)
    
*   Android: AndroidJavaObject will correctl follow dispose pattern and will now call Dispose(false) from finalizer, previously it called Dispose(true). (UUM-53674)
    
*   Android: Bump Android Logcat package to 1.4.0.
    
*   Android: Fixed merged manifest path for permissions event. (UUM-51545)
    
*   Android: You can override UnityPlayerActivity.java, by placing the file directly in Unity project, this was accidentally broken with incremental build pipeline. (UUM-57761)
    
*   Documentation: Added missing UnityWebRequest method signatures to documentation for helpers taking uri as System.Uri. ([UUM-57122](https://issuetracker.unity3d.com/issues/unity-fails-to-load-an-audio-file-via-web-request-when-the-path-of-the-audio-file-has-a-plus-in-it))
    
*   Editor: Animation with UI Vertex colors is choppy when the Color Space is set to Linear. ([UUM-12666](https://issuetracker.unity3d.com/issues/animation-with-ui-vertex-colors-is-choppy-when-the-color-space-is-set-to-linear))
    
*   Editor: Ensure that instance ID is setup within built-in fragment shaders prior to crossfade dither macro calls, which uses the shader instanced property unity\_LODFadeArray. ([UUM-48066](https://issuetracker.unity3d.com/issues/lodgroup-cross-fade-fade-mode-causes-flickering-when-gpu-instancing-is-enabled))
    
*   Editor: Fixed "Assertion failed on expression: '!m\_InsideContext'" error in editor console. ([UUM-46849](https://issuetracker.unity3d.com/issues/macos-assertion-failed-on-expression-m-insidecontext-logged-when-adding-a-component-through-the-title-bar))
    
*   Editor: Fixed Child object not correctly destructed during scene unloading when detached from its parent in OnDestroy. ([UUM-35019](https://issuetracker.unity3d.com/issues/child-object-destruction-is-delayed-when-setting-the-parent-during-the-scene-unloading))
    
*   Editor: Fixed copying properties between materials not correctly dealing with color space. (UUM-47973)
    
*   Editor: Fixed tessellation of UI Toolkit masking shapes that was causing "Invalid vertex" error in debug. (UUM-58404)
    
*   Editor: Fixed the shader graph BiRP Lit Target incorrectly displaying a specular block when allowMaterialOverride was enabled. This was a bug and specular workflow is not supported. ([UUM-56618](https://issuetracker.unity3d.com/issues/specular-property-of-the-shader-graph-is-not-shown-on-the-material-when-the-material-override-is-enabled))
    
*   Editor: Ignore files/folders which include backslashes on macOS and Linux (they break many things) and warn the user. ([UUM-3304](https://issuetracker.unity3d.com/issues/mac-editor-keeps-reloading-certain-files-when-opening-a-project))
    
*   Editor: Plugins of .androidlib type will by default be marked as only compatible with Android. ([UUM-57229](https://issuetracker.unity3d.com/issues/androidlib-plugins-should-default-to-android))
    
*   Editor: Removed shortcut duplicates in the Binding Conflicts tab in the Shortcut Manager window. (UUM-55287)
    
*   Editor: Updating fsbtool to match the current FMOD version. ([UUM-32863](https://issuetracker.unity3d.com/issues/audio-files-generate-a-different-dep-hash-when-reimported))
    
*   GI: Updated is shown as running despite not being active. ([UUM-53150](https://issuetracker.unity3d.com/issues/urp-updatelightprobeproxyvolumes-is-running-despite-not-being-supported))
    
*   Graphics: Clarify that creating an AsyncQueueSynchronisation GraphicsFence requires the platform to support AsyncCompute. ([UUM-47689](https://issuetracker.unity3d.com/issues/notsupportedexception-cannot-determine-if-this-graphicsfence-has-passed-as-this-platform-has-not-implemented-graphicsfences-dot-is-thrown-when-using-graphicsfence))
    
*   Graphics: Fixed an issue in Vulkan where attempting to register a sparse external texture 3D would create degenerate 2DArray views on that texture. (UUM-16089)
    
*   Graphics: Fixed Depthnormals bug for multi-pass shader. ([UUM-56610](https://issuetracker.unity3d.com/issues/cameradepthnormalstexture-is-not-working-when-using-2-pass-shader))
    
*   Graphics: Fixed native plugin crash when on non-main thread. ([UUM-21112](https://issuetracker.unity3d.com/issues/crash-on-registerplugin-when-opening-the-project-1))
    
*   Graphics: Graphics: Resolves two triggered Vulkan validation errors in multiview when using SRPs; VUID-vkCmdClearAttachments-pRects-06937 and VUID-vkCmdClearAttachments-baseArrayLayer-00018. (UUM-39637)
    
*   iOS: Added iPhone 15 cutouts. ([UUM-56430](https://issuetracker.unity3d.com/issues/ios-cutouts-not-available-for-new-iphone-15-devices))
    
*   iOS: Added iPhone 15 device generation enums. ([UUM-56348](https://issuetracker.unity3d.com/issues/ios-device-generation-enums-are-not-added-for-the-new-iphone-15-devices))
    
*   iOS: Fixed an audio bug on iOS. On iOS 17, if a Bluetooth audio device is connected, and "Prepare iOS for Recording" is un-checked, the C# Microphone.Start function could cause Unity to hang. ([UUM-53849](https://issuetracker.unity3d.com/issues/microphone-dot-start-hangs-on-ios-17-under-certain-conditions))
    
*   iOS: Fixed iPhone 15 crash when forcing it to Portrait Upside Down orientation. ([UUM-56345](https://issuetracker.unity3d.com/issues/ios-forcing-portrait-upside-down-orientation-on-new-iphone-15-devices-crashes-the-app))
    
*   iOS: Fixed WebCamDevice.kind reporting wrong values on devices with non-English system language. ([UUM-56785](https://issuetracker.unity3d.com/issues/webcamkind-logs-wideangle-for-every-camera-on-ios-devices-if-the-device-language-is-something-other-than-english))
    
*   Linux: Fixed space key does not work when holding the Shift key. ([UUM-54226](https://issuetracker.unity3d.com/issues/linux-input-the-space-key-does-not-work-when-holding-the-shift-key))
    
*   Scripting: Fixed a console error related to rider pkg (v3.0.25 or later), which appears in Editor SafeMode. (UUM-57097)
    
*   Scripting: Fixed regression where clicking on a script compilation error in the Console Window doesn't highlight the script in the Project Window. ([UUM-16958](https://issuetracker.unity3d.com/issues/the-asset-doesnt-get-pinged-in-the-project-window-when-clicking-on-error-in-the-console))
    
*   Shadergraph: Fixed typos in the text of the the Node Reference samples. (UUM-58488)
    
*   Shaders: Ensures internal shader compiler errors such as losing connection to a compiler process aren't cached like compilation errors are. (UUM-28802)
    
*   Shaders: Fixed HLSL to Metal codegen when loading a specific sample index from a Texture2DMSArray. (UUM-46480)
    
*   uGUI: Fixed editor crash on Camera::GetCameraRect on a nested Canvas GameObject. ([UUM-42366](https://issuetracker.unity3d.com/issues/editor-crashes-on-camera-getcamerarect-when-calling-renderingdisplaysize-on-a-nested-canvas-gameobject))
    
*   UI Toolkit: Fixed UIToolkit memory leak in webgl for safari. ([UUM-57628](https://issuetracker.unity3d.com/issues/ios-webgl-memory-leak-when-using-ui-toolkit))
    
*   URP: Fixed partially corrupted Android screen when Vulkan display rotation during rendering is enabled. ([UUM-48569](https://issuetracker.unity3d.com/issues/android-vulkan-half-of-the-screen-is-not-rendered-on-android-player-when-post-processing-is-disabled-on-the-main-camera-gameobject))
    
*   VFX Graph: Old style dropdown in Add, Divide (and many others) style has been updated to new design. ([UUM-46336](https://issuetracker.unity3d.com/issues/old-style-buttons-are-shown-in-the-nodes-when-using-the-visual-effect-graph))
    
*   Video: LoopPointReached' is triggered in the player before the video concludes while using WebGL. ([UUM-33747](https://issuetracker.unity3d.com/issues/video-player-component-has-irregular-playback-speed-in-player-when-using-webgl))
    
*   Video: OnFrameReady is called twice when setting the time in VideoPlayer. ([UUM-40971](https://issuetracker.unity3d.com/issues/onframeready-is-called-twice-when-setting-the-time-in-videoplayer))
    
*   Video: \[WebGL\]VideoPlayer Rendering stops when setting FilterMode of a texture downloaded with UnityWebRequestTexture.GetTexture(). ([UUM-52266](https://issuetracker.unity3d.com/issues/webgl-videoplayer-rendering-stops-when-setting-filtermode-of-a-texture-downloaded-with-unitywebrequesttexture-dot-gettexture))
    
*   Windows: Fixed unreliable `Cursor.SetCursor` behaviour. ([UUM-46718](https://issuetracker.unity3d.com/issues/sometimes-the-wrong-image-is-displayed-when-using-cursor-dot-setcursor-in-software-mode))

### Known Issues in 2021.3.33f1

*   Android: AdmobSDK banner ad disappears when the device goes to the home screen and returns to the application ([UUM-57151](https://issuetracker.unity3d.com/issues/android-admobsdk-banner-ad-disappears-when-the-device-goes-to-the-home-screen-and-returns-to-the-application))
    
*   IL2CPP: \[Android\] Crash on Android when AndroidJavaProxy is calling from multiple threads ([UUM-49357](https://issuetracker.unity3d.com/issues/android-crash-on-android-when-androidjavaproxy-is-calling-from-multiple-threads))
    
*   Packman: Users cannot export bundled plugins into a .unitypackage anymore ([UUM-37376](https://issuetracker.unity3d.com/issues/console-error-error-while-exporting-package-no-assets-to-export-only-folders-did-you-mean-to-use-exportpackageoptions-dot-recurse-when-trying-to-export-a-bundle-file-as-a-package))
    
*   Universal RP: Objects are invisible in Scene view when using Wireframe Shading Mode ([UUM-36914](https://issuetracker.unity3d.com/issues/objects-are-invisible-in-scene-view-when-using-wireframe-shading-mode))
    

### 2021.3.33f1 Release Notes

#### Improvements

*   Burst: Burst support for Apple visionOS.
    
*   Documentation: Improved code sample for NavMeshAgent.CalculatePath() to better clarify how to interpret and use its results. (UUM-43219)
    
*   Documentation: \[AI\] Added some detail to NavMeshPathStatus.PathInvalid. (UUM-43218)
    

#### Fixes

*   2D: Fixed AnimatedTile not animating in a player build. (UUM-55931)
    
*   2D: Fixed case where changes are not saved when entering the Play mode after editing Sprite Atlas Objects for Packing. ([UUM-53682](https://issuetracker.unity3d.com/issues/changes-are-not-saved-when-entering-the-play-mode-after-editing-sprite-atlas-objects-for-packing))
    
*   2D: Improved performance of TilemapRenderer when user changes Material properties that does not require a BuildChunkJob. ([UUM-53411](https://issuetracker.unity3d.com/issues/performance-gets-worse-when-updating-the-material-of-tilemap))
    
*   2D: Sprite Atlas changes Secondary Texture when entering Play mode. ([UUM-11355](https://issuetracker.unity3d.com/issues/sprite-atlas-changes-secondary-texture-when-entering-play-mode))
    
*   Android: Input device listener processes the callback on UI thread, instead of the Main thread; this was incompatible with GameActivity setup, where Java looper is not present on Unity's main thread. This change fixed the bug where DualShock4 controller was not recognised after being disconnected and reconnected to certain Android devices. ([UUM-52211](https://issuetracker.unity3d.com/issues/android-duolashock4-controller-is-not-detected-after-disconnecting-and-reconnecting-controller-while-the-player-is-running-in-the-background))
    
*   Android: When picking target API level which is not the highest installed API level, Unity will now show a dialog asking if you want install it and will install missing API level upon request, previously Unity would throw an error and would ask you to install API level manually. This new behavior will be available only in non batch mode, in batch mode you would still receive an error, the reason is to avoid potential implicit errors. (UUM-52052)
    
*   Asset Bundles: Fixed deadlock in AssetBundleUnloadOperation. (UUM-48887)
    
*   Asset Import: Closing the editor after reverting the properties in editor now resets the m\_DirtyIndex to 0. ([UUM-21202](https://issuetracker.unity3d.com/issues/platform-settings-are-added-to-texture-meta-file-when-the-editor-is-closed))
    
*   Asset Pipeline: Accelerator settings accessors check for null settings ptr. ([UUM-46142](https://issuetracker.unity3d.com/issues/assertion-failed-on-expression-s-editorsettings-equals-null-when-exiting-the-editor-with-accelerator-active))
    
*   Build Pipeline: Improved the performance of "Write data build dirty tracking information" for AssetBundle builds. (UUM-46585)
    
*   Documentation: \[AI\] Fixed incorrect documentation for NavMeshBuildSource.size. (UUM-43216)
    
*   Documentation: \[AI\] Fixed incorrect documentation for NavMeshBuildSource.size. (UUM-43222)
    
*   Editor: Added missing documentation. (UUM-46446)
    
*   Editor: Avoid a type initialization exception that can occur on Apple Silicon when a .NET executable is run as part of the Unity Editor tooling. (UUM-44304)
    
*   Editor: Broken documentation link repaired by fixing typo. (UUM-54770)
    
*   Editor: Disabled started animation in DetachFromPanelEvent callback. ([UUM-45660](https://issuetracker.unity3d.com/issues/eventdispatchergate-throws-an-argumentnullexception-when-calling-removefromhierarchy-on-visualelement-with-the-running-transition))
    
*   Editor: Editor: Update OpenSSL to 1.1.1w. (UUM-53226)
    
*   Editor: Ensure starting Unity doesn't restart Indexing. ([UUM-55851](https://issuetracker.unity3d.com/issues/search-indexing-restart-each-time-you-start-unity))
    
*   Editor: Esc cancels color assignment on Mac. ([UUM-37966](https://issuetracker.unity3d.com/issues/color-selection-by-the-mouse-cursor-is-still-enabled-when-the-esc-button-is-pressed))
    
*   Editor: Esc will reset (clear) the ProjectBrowser searchfield. ([UUM-43503](https://issuetracker.unity3d.com/issues/different-results-in-search-field-in-console-and-project-window-when-pressing-the-esc-key))
    
*   Editor: Fixed bug where sometimes the cloud project ID does not get included in the build.
    
*   Editor: Fixed Cmd+Ctrl+Q shortcut closing the Editor on macOS.  
    Fixed Ctrl key is ignored when creating shortcuts with Cmd key. (UUM-48077)
    
*   Editor: Fixed crash when reordering some nested lists in MonoBehaviours. ([UUM-47108](https://issuetracker.unity3d.com/issues/editor-crashes-on-walktypetreecomplete-serializedobjecttypetreewalk-containsmanagedreferences-2-ismanagedreferencevisitor-when-a-list-with-serialize-reference-fields-is-re-ordered))
    
*   Editor: Fixed example in doc to use the proper API. (UUM-44265)
    
*   Editor: Fixed gameassembly.so is copied to the parent folder of the linux player. (UUM-49550)
    
*   Editor: Fixed issue with copy/paste long value on the serialized property field. ([UUM-41175](https://issuetracker.unity3d.com/issues/long-values-are-truncated-to-int-when-copying-and-pasting-using-the-property-name-context-menu))
    
*   Editor: Fixed occasional freeze when calling UnityWebRequest.ClearCookieCache. ([UUM-54043](https://issuetracker.unity3d.com/issues/editor-freezes-when-calling-unitywebrequest-dot-clearcookiecache-with-specific-urls-in-the-play-mode))
    
*   Editor: Fixed on windows the UI mouse coordinate which was truncated or with a wrong offset on some scaled screen. (UUM-48527)
    
*   Editor: Fixed sign out experience from the Editor UI with or without active Hub. (LIT-2409)
    
*   Editor: Fixed the editor slider value is wrong when mouse warps across screen edges. ([UUM-36834](https://issuetracker.unity3d.com/issues/linux-slider-value-incorrectly-set-when-dragging-the-mouse-past-the-screen-corner-while-holding-the-lmb-on-the-slider))
    
*   Editor: Fixed title on multi ScriptableObject selection. ([UUM-24994](https://issuetracker.unity3d.com/issues/mono-behaviours-are-shown-in-the-inspector-window-when-selecting-multiple-scriptable-objects))
    
*   Editor: Fixed UUM-49274: Fix for 2021.3.X: Inspector override marker UI is not updated after "Apply All". ([UUM-34235](https://issuetracker.unity3d.com/issues/inspector-override-marker-ui-is-not-updated-after-apply-all))
    
*   Editor: Halves the time spent on the main thread when asynchronously loading terrain tiles. ([UUM-1883](https://issuetracker.unity3d.com/issues/terraindata-dot-awakefromload-takes-around-13-19-ms-after-loading-a-terrain-from-an-asset-bundle))
    
*   Editor: Hidden the value of all password arguments provided from the command line in the editor logs. ([UUM-52202](https://issuetracker.unity3d.com/issues/vcs-p4-vcperforcepassword-argument-value-is-not-being-hidden-when-unity-is-launched-through-command-line-interface))
    
*   Editor: Lens Flares ignore Camera Culling Masks. ([UUM-44191](https://issuetracker.unity3d.com/issues/lens-flares-ignore-camera-culling-masks))
    
*   Editor: Math expressions on Constrain Proportion Scale multi-selection disabled, docs updated. ([UUM-21958](https://issuetracker.unity3d.com/issues/constrained-fields-dont-work-as-supposed-to-when-using-numeric-field-special-function-expressions-on-transform-components-scale-field-on-multiple-gameobjects-at-the-same-time))
    
*   Editor: ObservableList.Clear() removes all items from the list. ([UUM-42938](https://issuetracker.unity3d.com/issues/observablelist-is-half-cleared-when-using-the-clear-method))
    
*   Editor: Revamp the Unity Gaming Services Settings window to be more easy and intuitive to use.
    
*   Editor: SpeedTree Importer Inspector: Fixed 'Null reference exception' when Apply button is clicked after changing an import option. (UUM-1910)
    
*   Editor: \[Android\] Broadcast Receiver in UnityPlayer was removed as it is unneeded and causing crash on Android 14 development due to missing EXPORTED/NOT\_EXPORTED flag when registering receiver. ([UUM-48068](https://issuetracker.unity3d.com/issues/android-targetapi-34-crash-on-launch))
    
*   Editor: \[Android\] Samsung S8 crashing after OpenExtractor failing to translate archive. ([UUM-894](https://issuetracker.unity3d.com/issues/android-samsung-s8-crashing-after-openextractor-failing-to-translate-archive))
    
*   Graphics: Added a memory leak for AsyncGPUReadbackRequest in WebGL Player. ([UUM-46008](https://issuetracker.unity3d.com/issues/requestasyncreadback-triggers-memory-leaks-when-in-player))
    
*   Graphics: Fixed Alpha channel been discarded when texture is imported as Cube Map, Texture2D or Texture2DArray on Android platform when the editor Graphics API is set as DX11/DX12. ([UUM-43301](https://issuetracker.unity3d.com/issues/alpha-channel-is-discarded-when-texture-is-imported-as-cubemap-on-android-platform))
    
*   Graphics: Fixed support for rendering meshes with lines/points, not just triangles.
    
*   HDRP: Added additional documentation for cached shadows of directional lights.
    
*   HDRP: Added in which space custom velocity should be computed. (UUM-50992)
    
*   HDRP: Ensure documentation clearly lists lack of support for Box Lights in path tracing. (UUM-48478)
    
*   HDRP: Fixed an issue where Reflection Proxy Volume would cause artifacts to cover the editor on Apple Silicone devices. ([UUM-42099](https://issuetracker.unity3d.com/issues/editor-visual-glitches-appear-when-moving-gameobject-with-reflection-proxy-volume-with-shape-box-or-sphere-selected-on-hdrp-silicon-macos))
    
*   HDRP: Fixed Turkish OS incorrectly deducing DLSS is not available. ([UUM-48557](https://issuetracker.unity3d.com/issues/dlss-supported-false-is-being-logged-in-the-player-dot-log-file-when-building-on-windows-with-display-language-set-as-turkish))
    
*   HDRP: Flares now respect the cameras culling mask and the game objects layer (Occlusion and Rendering). (HDRP-3062)
    
*   HDRP: The lightShadowCasterMode property on Light now only affects shadow caster culling when baked lighting includes shadow mask, as intended. ([UUM-26410](https://issuetracker.unity3d.com/issues/shadowmask-mode-property-affects-shadow-rendering-when-using-baked-indirect))
    
*   HDRP: Updated decal projector draw distances when global draw distance changes.
    
*   IL2CPP: Fixed a crash when a function pointer appeared as a ref our out parameter. ([UUM-53171](https://issuetracker.unity3d.com/issues/system-dot-invalidoperationexception-sequence-contains-no-matching-element-is-thrown-ehn-building-with-il2cpp))
    
*   IL2CPP: Fixed C++ compilation error on structs with Charset.Auto and a System.Char field. ([UUM-52898](https://issuetracker.unity3d.com/issues/structure-with-charset-dot-auto-prevents-project-build-when-il2cpp-is-selected))
    
*   IL2CPP: Fixed IL2CPP build errors when Enums are decorated with a GUID attribute. ([UUM-52435](https://issuetracker.unity3d.com/issues/il2cpp-build-fails-when-enums-are-decorated-with-a-guid-attribute))
    
*   Input: Added more robust edge checks to simulated mouse input. ([UUM-39752](https://issuetracker.unity3d.com/issues/macos-input-dot-getmousebuttondown-gets-set-to-true-when-pressing-and-when-releasing-the-mouse-button-in-the-device-simulator-view-if-targetframerate-is-set-in-the-script))
    
*   Input System: Fixed an issue causing input devices to report incorrect "elements" or "collections" in HID device descriptors on Windows.
    
*   iOS: Added phony postprocess buildphase in xcode, and make sure that app extensions add copy buildphases before it. (UUM-53588)
    
*   iOS: Bring back the applicationDidReceiveMemoryWarning: to UnityAppController. (UUM-55367)
    
*   iOS: Fixed ActivityIndicator not showing on newish iOS. (UUM-48717)
    
*   iOS: Fixed crash when having Build Postprocessor run after "Sign in with Apple" Unity Plugin (AppleSignInUnity). (UUM-48092)
    
*   Linux: Fixed Floating window does not stay on top of the Editor when clicking anywhere on the main Editor window. ([UUM-53157](https://issuetracker.unity3d.com/issues/linux-floating-window-does-not-stay-on-top-of-the-editor-when-clicking-anywhere-on-the-main-editor-window))
    
*   Linux: Fixed New Input System Mouse Click does not work on Secondary Displays. (UUM-55275)
    
*   Linux: Fixed New Input System Unresponsive On Second Monitor. (UUM-46312)
    
*   Mono: Fixed crash in Rider when hovering a symbol to view it's value. ([UUM-43492](https://issuetracker.unity3d.com/issues/crash-on-raiseexception-when-hovering-over-code-post-breakpoint-trigger-in-debug-mode))
    
*   Mono: When processing the methods of an interface, check that a generic method has the virtual flag to avoid corrupting the vtable. ([UUM-49018](https://issuetracker.unity3d.com/issues/function-table-corrupts-when-using-generic-static-interface-method))
    
*   Networking: Added a performance regression with UnityWebRequest when connecting to many HTTPS resources at the same time. ([UUM-49389](https://issuetracker.unity3d.com/issues/unitywebrequestexception-cannot-resolve-destination-host-errors-appear-when-making-multiple-http-get-requests-using-unitywebrequest-and-the-cysharp-dot-threading-dot-tasks))
    
*   Networking: Fixed crash when quitting application with running UnityWebRequest. ([UUM-48042](https://issuetracker.unity3d.com/issues/ios-crash-on-unityframeworkcore-hash-set-when-calling-application-dot-quit-while-a-unitywebrequest-is-running))
    
*   Networking: Updated libcurl to version 8.4.0. (UUM-52015)
    
*   Physics: Discard inertia tensor rotations that contain infinite components (both Rigidbody and ArticulationBody). ([UUM-49807](https://issuetracker.unity3d.com/issues/crash-on-internalabp-boxmanager-preparedata-when-entering-play-mode))
    
*   Physics: Fixed all contacts normals being reported equal and wrong when a Collider has multiple contact points with a mesh and contact modification is enabled. ([UUM-17977](https://issuetracker.unity3d.com/issues/capsule-gameobjects-are-jittering-when-they-are-supposed-to-be-sleeping))
    
*   Physics: Fixed Collider.hasModifiableContacts & Collider.providesContacts ignoring the setting when the collider is inactive. ([UUM-55929](https://issuetracker.unity3d.com/issues/collider-dot-hasmodifiablecontacts-and-collider-dot-providescontacts-setters-out-too-early-when-the-physx-shape-is-null))
    
*   Scene/Game View: Fix to only save siblings on sibling re-order in the scene hierarchy ([UUM-48562](https://issuetracker.unity3d.com/issues/editor-freezes-for-a-few-seconds-when-moving-a-group-of-gameobjects-in-the-hierarchy-1))
    
*   Scripting: Fixed crash when loading a project with script compilation errors. ([UUM-48740](https://issuetracker.unity3d.com/issues/crash-on-mono-object-get-virtual-method-when-opening-a-project))
    
*   Scripting: Fixed race condition that could cause crashes on startup when native code called into managed code. ([UUM-49357](https://issuetracker.unity3d.com/issues/android-crash-on-android-when-androidjavaproxy-is-calling-from-multiple-threads))
    
*   Search: Do not dig into managedReference when parsing for scene dependencies. ([UUM-49308](https://issuetracker.unity3d.com/issues/freeze-when-searching-for-references-while-cyclic-references-are-present))
    
*   Search: Fixed search not evaluating content of DontDestroyOnLoad scene. ([UUM-49568](https://issuetracker.unity3d.com/issues/search-does-not-evaluate-objects-when-they-are-in-the-dontdestroyonload-scene))
    
*   Search: Try to sync items selected when switching between group tabs. ([UUM-42246](https://issuetracker.unity3d.com/issues/preset-window-selection-does-not-match-when-switching-tabs))
    
*   Search: When computing dependencies in SceneProvider we only add reference for root prefab instance. ([UUM-45908](https://issuetracker.unity3d.com/issues/nested-gameobjects-of-a-prefab-are-shown-in-the-hierarchy-window-when-using-find-references-in-scene-if-using-advanced-search-engine))
    
*   Serialization: Fixed players build checks when assembly is modified. ([UUM-48662](https://issuetracker.unity3d.com/issues/scriptableobject-serialization-for-in-editor-only-field-breaks-in-build-when-adding-assembly-definitions))
    
*   UI Elements: Fixed Enum field changes that are not reflecting when multi-editing GameObjects with different values. ([UUM-40715](https://issuetracker.unity3d.com/issues/when-multi-editing-gameobjects-with-seriliazed-enum-fields-changes-are-not-reflected-if-the-the-last-selected-gameobject-in-the-hierarchy-has-a-different-value))
    
*   UI Toolkit: Fixed wrong parent used for rendering when adding an element directly under a contentContainer. (UUM-56368)
    
*   Undo System: Set ScriptableObject information correctly inside undo and redo actions. ([UUM-20527](https://issuetracker.unity3d.com/issues/redo-command-causes-a-warning-when-redoing-the-creation-of-scriptableobject))
    
*   Video: WEBM files are stuttering when the number of remaining frames is less than the number of the pre-buffered frames. ([UUM-43721](https://issuetracker.unity3d.com/issues/webm-files-are-stuttering-when-the-number-of-remaining-frames-is-less-than-the-number-of-the-pre-buffered-frames))
    
*   Web: Fixed default compression format from Brotli to Gzip. (UUM-52223)
    
*   WebGL: Fixed a bug that caused for input to not be released when focus was removed from canvas on Windows Chrome. ([UUM-53519](https://issuetracker.unity3d.com/issues/webgl-application-focus-loss-not-recognized-when-right-click-dragging-and-releasing))
    
*   WebGL: Fixed the bug that caused for an error to be thrown when passing a large string using `SendMessage(...)`. ([UUM-49331](https://issuetracker.unity3d.com/issues/webgl-unityinstance-dot-sendmessage-crashes-webgl-runtime-when-passing-a-large-string))
    
*   Windows: AsyncOperation returned by Screen.MainWindowMoveTo now gets invoked upon completion of the screen move. ([UUM-45273](https://issuetracker.unity3d.com/issues/general-asyncoperation-returned-by-screen-dot-movemainwindowto-never-triggers-a-completed-event-when-the-player-is-moved))
    
*   Windows: The window size is preserved when switching to Windowed mode using Alt+Enter. ([UUM-49091](https://issuetracker.unity3d.com/issues/player-window-resolution-is-reset-after-making-the-player-fullscreen-and-then-windowed))
    
*   XR: Setting XRSettings.useOcclusionMask = false will disable the occlusion mask when using the Built-in Rendering Pipeline. (UUM-53822)

### Known Issues in 2021.3.32f1

*   Culling: kShadowCastingShadowsOnly objects are rendered by Projectors (built-in renderer) ([UUM-35705](https://issuetracker.unity3d.com/issues/kshadowcastingshadowsonly-objects-are-rendered-by-projectors-built-in-renderer))
    
*   Culling: \[Mobile\] Player freezes on "UnityClassic::Baselib\_SystemFutex\_Wait" or silently crashes ([UUM-41806](https://issuetracker.unity3d.com/issues/android-player-freezes-on-unityclassic-baselib-systemfutex-wait-or-silently-crashes))
    
*   IL2CPP: \[Android\] Crash on Android when AndroidJavaProxy is calling from multiple threads ([UUM-49357](https://issuetracker.unity3d.com/issues/android-crash-on-android-when-androidjavaproxy-is-calling-from-multiple-threads))
    
*   Platform Audio: \[Linux\] No audio output when playing audio ([UUM-53143](https://issuetracker.unity3d.com/issues/linux-no-audio-output-when-playing-audio))
    
*   UI Toolkit Controls: CustomPropertyDrawer throws an "Assertion failed on expression" error when adding the first element to the list ([UUM-34033](https://issuetracker.unity3d.com/issues/custompropertydrawer-throws-an-assertion-failed-on-expression-error-when-adding-the-first-element-to-the-list))
    
*   UnityTLS: UnityWebRequest performance drop when running multiple requests at once ([UUM-49389](https://issuetracker.unity3d.com/issues/unitywebrequestexception-cannot-resolve-destination-host-errors-appear-when-making-multiple-http-get-requests-using-unitywebrequest-and-the-cysharp-dot-threading-dot-tasks))
    
*   Universal RP: Meshes are not rendered when building WindowsStandalonePlayer builds from the command line with "batchmode", "nographics" flags ([UUM-47782](https://issuetracker.unity3d.com/issues/linux-meshes-are-not-rendered-when-building-windowsstandaloneplayer-builds-from-the-linux-command-line-with-batchmode-nographics-flags))
    
*   Windows: Sometimes the wrong image is displayed when using Cursor.SetCursor in software mode ([UUM-46718](https://issuetracker.unity3d.com/issues/sometimes-the-wrong-image-is-displayed-when-using-cursor-dot-setcursor-in-software-mode))
    

### 2021.3.32f1 Release Notes

#### Improvements

*   HDRP: Added a warning to the HDRP Wizard if a users project contains materials that cant be upgraded. (UUM-46394)
    
*   HDRP: Improved skyContext caching when the sky renderer changes. ([UUM-43697](https://issuetracker.unity3d.com/issues/player-leaking-memory-when-using-cubemaparrays-and-rendertextures))
    
*   Kernel: Added "-timestamps" command line argument to the player, which makes it prepend timestamps at the beginning of each log line. This setting was previously only available to the editor.
    
*   Universal Windows Platform: Improved performance of repeated checks whether accelerometer and gyrometer are supported.
    

#### Changes

*   Graphics: D3D11 will use MSAA samples count fallback from player settings. Prior to this x2 fallback would have been to disable anti aliasing. ([UUM-741](https://issuetracker.unity3d.com/issues/android-2xmsaa-does-not-work-on-mali-devices-when-post-processing-is-enabled))
    
*   Graphics: D3D12 will use MSAA samples count fallback from player settings. Prior to this x2 fallback would have been to disable anti aliasing. ([UUM-741](https://issuetracker.unity3d.com/issues/android-2xmsaa-does-not-work-on-mali-devices-when-post-processing-is-enabled))
    
*   Graphics: GLES will use MSAA samples count fallback from player settings. Prior to this x2 fallback would have been to upgrade to x4. ([UUM-741](https://issuetracker.unity3d.com/issues/android-2xmsaa-does-not-work-on-mali-devices-when-post-processing-is-enabled))
    
*   Graphics: IOS will use MSAA samples count fallback from player settings. Prior to this x2 fallback would have been to upgrade to x4. ([UUM-741](https://issuetracker.unity3d.com/issues/android-2xmsaa-does-not-work-on-mali-devices-when-post-processing-is-enabled))
    
*   Graphics: Mac will use MSAA samples count fallback from player settings. Prior to this x2 fallback would have been to upgrade to x4. ([UUM-741](https://issuetracker.unity3d.com/issues/android-2xmsaa-does-not-work-on-mali-devices-when-post-processing-is-enabled))
    
*   Graphics: RenderTexture will use MSAA samples count fallback from player settings. Prior to this x2 fallback would have been to disable anti aliasing. ([UUM-741](https://issuetracker.unity3d.com/issues/android-2xmsaa-does-not-work-on-mali-devices-when-post-processing-is-enabled))
    
*   Graphics: TvOS will use MSAA samples count fallback from player settings. Prior to this x2 fallback would have been to upgrade to x4. ([UUM-741](https://issuetracker.unity3d.com/issues/android-2xmsaa-does-not-work-on-mali-devices-when-post-processing-is-enabled))
    
*   Graphics: Vulkan will use MSAA samples count fallback from player settings. Prior to this x2 fallback would have been to upgrade to x4. ([UUM-741](https://issuetracker.unity3d.com/issues/android-2xmsaa-does-not-work-on-mali-devices-when-post-processing-is-enabled))
    
*   Services: In the In-App Purchasing Settings page of the Editor's Project Settings, we have changed the endpoint from which the Google Play Key is obtained. Also, instead of setting the key directly in the editor, there is now a dashboard link to set it directly on the backend to avoid future errors.
    
*   UI: Added "Unsupported MSAA Fallback" in player settings to specify how to handle cases with unsupported sample counts. ([UUM-741](https://issuetracker.unity3d.com/issues/android-2xmsaa-does-not-work-on-mali-devices-when-post-processing-is-enabled))
    
*   URP: Vulkan URP will use MSAA samples count fallback from player settings. Prior to this x2 fallback would have been to upgrade to x4. ([UUM-741](https://issuetracker.unity3d.com/issues/android-2xmsaa-does-not-work-on-mali-devices-when-post-processing-is-enabled))
    
*   Version Control: Added button for organization owner/admins to upgrade to DevOps subscription.
    
*   Version Control: Included new decorators for retained & locked files.
    
*   Version Control: Updated description in the package.json, including an updated link to get started.
    
*   XR: Updated com.unity.xr.management package version to 4.4.0.
    
*   XR: Updated com.unity.xr.openxr package version to 1.9.1.
    

#### Fixes

*   2D: Allows SortingGroups to ignore SortingGroups and Renderers under GameObject which are inactive, and does not count them in the limit for SortingGroups. (UUM-53520)
    
*   2D: Fixed issue where the RendererColor property from the SpriteShapeRenderer persists over to the next TilemapRenderer. ([UUM-53124](https://issuetracker.unity3d.com/issues/tilemap-is-tinted-with-the-color-of-the-sprite-shape-when-rendering-a-sprite-shape-behind-a-tilemap))
    
*   Android: Fixed an issue where the preserved screen was displayed when using swipe for pop-up view. ([UUM-48173](https://issuetracker.unity3d.com/issues/android-the-player-stops-updating-when-its-in-the-swipe-for-pop-up-view-pop-up-view))
    
*   Android: Fixed build failure when custom manifest with custom activity is used with windowed mode enabled in the manifest. ([UUM-48998](https://issuetracker.unity3d.com/issues/android-build-fails-with-the-error-system-dot-nullreferenceexception-object-reference-not-set-to-an-instance-of-an-object-when-building-with-extended-activity))
    
*   Android: Screen.brigthness will correctly return values on phones like Oppo or Xiaomi, previously the value was sometimes bigger than 1.0.  
    Android: Screen.brigthness getter will adjust logarithmic scale for Android Pie or higher. ([UUM-48141](https://issuetracker.unity3d.com/issues/android-the-value-of-screen-dot-brightness-doesnt-match-the-devices-screen-brightness))
    
*   Android: Setting Screen.brightness will now work correctly, it will be applied via [https://developer.android.com/reference/android/view/WindowManager.LayoutParams\\#screenBrightness](https://developer.android.com/reference/android/view/WindowManager.LayoutParams\#screenBrightness), thus system setting 'display brightness' will remain unaffected, thus not affecting other applications.  
    Android: Further fix Screen.brightness setter on Xiaomi phones with Android 11 or higher. The minimum screen brightness value will be capped at 0.04, since setting this value lower would default to system brightness setting. ([UUM-47926](https://issuetracker.unity3d.com/issues/android-setting-screen-dot-brightness-does-nothing-when-built))
    
*   Animation: Fixed incorrect display of the event markers in the FBX importer Animation tab. ([UUM-49717](https://issuetracker.unity3d.com/issues/animation-event-marker-is-not-placed-on-the-current-time-of-the-timeline-when-using-the-add-event-button))
    
*   Asset Import: Fixed a regression where an fbx with missing materials would cause a crash during import. ([UUM-53167](https://issuetracker.unity3d.com/issues/crash-with-multiple-stack-traces-when-moving-the-editor-during-the-importing-of-a-specific-fbx-file))
    
*   Asset Pipeline: Fixed issue where an infinite import error is thrown when modifying the contents of a "folder plugin". ([UUM-47972](https://issuetracker.unity3d.com/issues/an-infinite-import-error-is-thrown-when-modifying-the-contents-of-a-folder-plugin))
    
*   Asset Pipeline: Prevent folders hidden in Project Browser causing new empty folders. (UUM-33443)
    
*   Audio: Fixed crash when resetting AudioSettings during async object loading. ([UUM-10237](https://issuetracker.unity3d.com/issues/reseting-audio-settings-on-game-object-which-has-dontdestroyonload-causes-a-crash))
    
*   Audio: Fixed exposed parameters in audio mixers not being applied in standalone builds. (UUM-52523)
    
*   Build Pipeline: Log error in editor rather than closing the editor if building a player failed due to invalid inputs. ([UUM-40764](https://issuetracker.unity3d.com/issues/unity-editor-crashes-with-no-stacktrace-when-creating-a-build-of-a-project-to-the-assets-folder-using-script))
    
*   Documentation: Fixed UUM-36369 for 2021.3: ScriptReference/UIElements.PopupWindow. (UUM-36369)
    
*   Documentation: Fixed UUM-43427 for 2021.3: ScriptReference/UIElements.ListView. (UUM-43427)
    
*   Documentation: Fixed UUM-46270 for 2021.3: ScriptReference/UIElements.EventBase. (UUM-46270)
    
*   Documentation: Fixed UUM-46272 for 2021.3: ScriptReference/UIElements.TwoPaneSplitView. (UUM-46272)
    
*   DX12: Removed unnecessary barrier transition when using DrawMeshInstancedIndirect. (UUM-6102)
    
*   Editor: Added IDisposable support for both decorators and property drawers. Now, when the Editor is destroyed, the IDisposable feature allows for automated cleanup, making it easier to safely remove the drawer from editor event subscriptions and efficiently manage resources. ([UUM-44220](https://issuetracker.unity3d.com/issues/custom-propertydrawers-are-not-being-released))
    
*   Editor: Custom bindings should be preserved when converting subgraph properties into subgraphs. (UUM-46780)
    
*   Editor: Do not show UnityWebRquest timeout error from curl to Editor console. ([UUM-47110](https://issuetracker.unity3d.com/issues/uninformative-curl-error-is-logged-when-the-request-url-is-a-non-existing-ip))
    
*   Editor: Fixed an issue where pdb files could be kept open by the Shortcut Manager. (UUM-20712)
    
*   Editor: Fixed crash in audio mixer when loading assets that are corrupted. ([UUM-43714](https://issuetracker.unity3d.com/issues/crash-on-audiomixercontroller-awakefromload-awakefromloadmode-when-opening-the-project-with-dot-mixer-files))
    
*   Editor: Fixed Crash on ContainerWindow::ToggleMaximize when EditorWindow is closed during Undo. ([UUM-48402](https://issuetracker.unity3d.com/issues/linux-crash-on-containerwindow-togglemaximize-when-editorwindow-is-closed-during-undo))
    
*   Editor: Fixed current window layout not persisting between editor versions. ([UUM-31137](https://issuetracker.unity3d.com/issues/editor-doesnt-remember-previous-window-size-when-opening-new-projects))
    
*   Editor: Fixed multiline error/warning compiler messages getting ignored. ([UUM-40887](https://issuetracker.unity3d.com/issues/newline-slash-n-cuts-off-warning-and-error-messages-displayed-in-console-window-when-using-log-dot-error-and-log-dot-warning-in-ilpostprocessor-script))
    
*   Editor: Fixed problem with sending editor.buildPackageList analytics event. (UUM-49560)
    
*   Editor: Fixed Sprite Atlas assets not being fully checkout when using Perforce. ([UUM-42695](https://issuetracker.unity3d.com/issues/dot-spriteatlasv2-file-is-not-checked-out-to-version-control-when-sprite-atlas-is-edited-after-hitting-check-out-meta))
    
*   Editor: Fixed the styling of the shortcut manager prompt window when the active shortcut profile has a long name. ([UUM-35758](https://issuetracker.unity3d.com/issues/rename-shortcut-profile-window-does-not-display-all-the-data-correctly))
    
*   Editor: Fixed to make sure Clear commands work when using RenderPass API and Vulkan. ([UUM-41126](https://issuetracker.unity3d.com/issues/commandbuffer-dot-drawprocedural-method-ignores-non-default-layers-when-using-vulkan-graphics-api))
    
*   Editor: Fixed UI Builder importing image in unity ask to save changes then errors out. ([UUM-8302](https://issuetracker.unity3d.com/issues/ui-builder-importing-image-in-unity-ask-to-save-changes-then-errors-out))
    
*   Editor: Graphics: Fixed potential for LineRenderer.BakeMesh and TrailRenderer.BakeMesh to fail with invalid AABB error messages. ([UUM-1913](https://issuetracker.unity3d.com/issues/backport-linerenderer-dot-bakemesh-fails-when-called-on-instantiated-copy))
    
*   Editor: Linux crash related to MenuItem Validate() calling Menu.SetChecked(). (UUM-49439)
    
*   Editor: Loop information embedded in the `smpl` chunk of WAVE files is now properly handled in WebGL player builds. ([UUM-12530](https://issuetracker.unity3d.com/issues/webgl-a-looping-audio-sounds-different-on-webgl-than-in-the-editor-slash-native-desktop-player))
    
*   Editor: Removed custom binding option from Subgraph Dropdown properties. (UUM-46772)
    
*   Editor: Targeting a platform with incorrect environment setup (e.g. targeting Xbox One with an incorrect GDK installed) no longer generates unrecoverable shader errors. (UUM-42506)
    
*   Editor: \[Android\]\[2021.3\] Modify DeleteAsset function to check whether file path already begins with "Assets" folder to avoid adding the folder twice. (UUM-48497)
    
*   GI: Signify that light-baking api are editor only. ([UUM-2731](https://issuetracker.unity3d.com/issues/light-related-editor-only-apis-are-not-clearly-marked-as-such-confusing-users))
    
*   Graphics: Fixed crash when loading a zero-sized Texture2D asset. ([UUM-9343](https://issuetracker.unity3d.com/issues/editor-crashes-when-importing-font-material-asset))
    
*   Graphics: Fixed excessive Metal memory allocation under some scenarios. ([UUM-31722](https://issuetracker.unity3d.com/issues/memory-usage-rapidly-increases-when-capturing-a-gameobject-with-a-line-renderer-component-using-texture2d-dot-readpixels))
    
*   Graphics: Fixed on-the-fly decompression of ASTC-compressed textures in Editor when width or height is smaller than 4 pixels. ([UUM-41708](https://issuetracker.unity3d.com/issues/windows-editor-shows-gradient-as-single-color-when-android-platform-is-selected))
    
*   Graphics: Fixed rendering regressions in cube maps that are copied GLESTextures. (UUM-45754)
    
*   Graphics: Fixed Vulkan rendering when viewport or scissor rectangle has negative offset. ([UUM-39970](https://issuetracker.unity3d.com/issues/android-vulkan-the-gameobject-isnt-rendered-when-rect-x-position-in-commandbuffer-dot-setviewport-is-less-than-0-dot-5))
    
*   Graphics: Lens Flare does not perform Occlusion with a certain Occlusion Offset value when the Camera is facing Light. ([UUM-3984](https://issuetracker.unity3d.com/issues/lens-flare-does-not-perform-occlusion-with-a-certain-occlusion-offset-value-when-the-camera-is-facing-light))
    
*   Graphics: MSAA sample count will fallback with same sample count, no matter what API is used. ([UUM-741](https://issuetracker.unity3d.com/issues/android-2xmsaa-does-not-work-on-mali-devices-when-post-processing-is-enabled))
    
*   HDRP: Fixed a SetData error when using more lights in a scene than the configured max light count settings. ([UUM-46001](https://issuetracker.unity3d.com/issues/hdrp-argumentexception-error-is-thrown-and-the-scene-view-stops-rendering-when-real-time-lights-and-decal-projectors-are-used))
    
*   HDRP: Fixed an issue where non directional light could react to "interact with sky" flag. ([UUM-46848](https://issuetracker.unity3d.com/issues/baked-light-has-the-wrong-color-temperature-when-it-has-the-certain-world-rotation-values-or-physicallybasedsky-is-selected))
    
*   HDRP: Fixed blending between cascaded shadowmaps and shadowmask as well as cascades border ranges. ([UUM-46922](https://issuetracker.unity3d.com/issues/blending-real-time-shadows-with-the-baked-shadows-leaves-unshadowed-space-when-using-distance-shadowmask))
    
*   HDRP: Fixed crash when cleaning up the reflection probe camera cache. ([UUM-43926](https://issuetracker.unity3d.com/issues/nullreferenceexception-in-unityengine-dot-rendering-dot-highdefinition-dot-probecameracache-dot-clear-when-exiting-the-player))
    
*   HDRP: Fixed layered lit displacement. ([UUM-49812](https://issuetracker.unity3d.com/issues/the-height-map-amplitude-is-not-working-when-using-hdrp-slash-layeredlit))
    
*   HDRP: Fixed missing shadergraph include on HDRP. (UUM-51851)
    
*   IL2CPP: Avoid a semaphore link in the IL2CPP runtime that can occur during lock contention for multiple threads. (UUM-40104)
    
*   IL2CPP: Fixed a deadlock that could occur if Asset GC visited a field of const, value type, whilst il2cpp types were being created on background threads. ([UUM-35018](https://issuetracker.unity3d.com/issues/ios-app-freezes-when-collecting-garbage-and-creating-il2cpp-generic-metadata-off-the-thread))
    
*   IL2CPP: Fixed bugs related to handling of privatescope methods and fields. ([UUM-36455](https://issuetracker.unity3d.com/issues/system-dot-argumentexception-thrown-when-building-the-project-with-il2cpp))
    
*   IL2CPP: Fixed compilation error on System.Threading.Volatile.Write<T>() when the value parameter was a literal null. ([UUM-45696](https://issuetracker.unity3d.com/issues/il2cpp-build-fails-when-using-protobuf-net-dot-grpc))
    
*   IL2CPP: Fixed GetELFImageBuildID() to handle Google AIP relocating PT\_NOTE section. ([UUM-46346](https://issuetracker.unity3d.com/issues/il2cpp-android-player-crashes-when-libil2cpp-dot-so-is-modified))
    
*   IL2CPP: Fixed get\_base\_method() to behave as mono does, preventing a crash when the method slot is outside of the vtable. ([UUM-44323](https://issuetracker.unity3d.com/issues/the-player-crashes-after-start-up-when-getcustomattributes-is-called))
    
*   IL2CPP: Fixed incorrect and/or missing calls to static constructors on constrained calls. ([UUM-51908](https://issuetracker.unity3d.com/issues/debug-assertion-failed-error-when-launching-windows-dedicated-server-player-with-script-debugging-enabled))
    
*   IL2CPP: Fixed issue where a DefaultStream or GZipStream may not decompress all of the bytes in certain compressed files. ([UUM-50168](https://issuetracker.unity3d.com/issues/decompressing-a-deflatestream-under-il2cpp-misses-a-few-bytes))
    
*   IL2CPP: Fixed UnityLinker producing an invalid assembly when the assembly is preserved by a link.xml but not used and the assembly contains only type forwarders. (UUM-46942)
    
*   IL2CPP: Prevent the debugger from incorrectly resetting the value of static fields in some cases. (UUM-35358)
    
*   IL2CPP: Removed extra reference to target on a combined delegate. ([UUM-47478](https://issuetracker.unity3d.com/issues/an-extra-c-number-event-is-shown-when-creating-two-c-number-events-on-two-temporary-objects-each-holding-one-event-using-il2cpp))
    
*   Input System: Fixed an issue causing older DualShock 4 models (CUH-ZCT1x) appearing as both a DualShock 4 (via HID) and an Xinput device. (UUM-48992)
    
*   Input System: Invalid input data errors for 0 byte input downgraded to warning instead. ([UUM-16523](https://issuetracker.unity3d.com/issues/invalid-raw-input-data-size-0-bytes-errors-are-thrown-when-testing-a-build-on-steam-deck))
    
*   iOS: Fixed rendering freezes when changing orientation on A14 iPads. ([UUM-9480](https://issuetracker.unity3d.com/issues/ios-rendering-freezes-when-the-orientation-is-changed))
    
*   iOS: Fixed Unity launching in the background on background location event; fix black screen showing between splash screen and first scene (release build only). (UUM-52515)
    
*   iOS: UnityWebRequest will no longer send Content-Length header with zero for requests other than PUT and POST. ([UUM-49237](https://issuetracker.unity3d.com/issues/content-length-header-is-added-when-using-unitywebrequest-to-get-requests-on-ios))
    
*   Linux: Added support for new gamepads/controllers. (UUM-52502)
    
*   Linux: Fixed perspective changes slower when quickly scrolling in the Scene View. ([UUM-40326](https://issuetracker.unity3d.com/issues/linux-the-perspective-changes-slower-when-quickly-scrolling-in-the-scene-view))
    
*   Mono: Corrected confusing error printed when using NetworkInterface.OperationalStatus on Linux. ([UUM-46938](https://issuetracker.unity3d.com/issues/linux-player-fails-to-call-networkinterface-dot-operationalstatus-property))
    
*   Particles: Improved batching performance of Particle Systems that use Sprites. (UUM-52114)
    
*   Prefabs: Fixed for Prefab instance is not enabled if RevertPropertyOverride is called during OnEnable. ([UUM-21119](https://issuetracker.unity3d.com/issues/gameobject-needs-to-be-activated-two-times-to-enable-it-when-using-prefabutility-dot-revertpropertyoverride))
    
*   Scene/Game View: Fixed drag and drop action of Skybox material in the SceneView not added to the Undo stack and not dirtying the scene. ([UUM-29041](https://issuetracker.unity3d.com/issues/applying-a-skybox-material-to-the-scene-cant-be-saved-or-undone))
    
*   Scripting: Fixed an issue with custom script templates containing #ROOTNAMESPACEBEGIN# on their first line. ([UUM-32235](https://issuetracker.unity3d.com/issues/rootnamespacebegin-variable-is-parsed-to-the-new-script-when-placed-on-the-first-line-of-the-template))
    
*   Scripting: LoadAsync and Instantiate with missing prefabs should no longer cause deadlock. ([UUM-2374](https://issuetracker.unity3d.com/issues/editor-produces-a-deadlock-when-instantiating-a-prefab-with-missing-scripts-and-loading-other-prefabs-with-resources-dot-loadasync))
    
*   Shadergraph: Added issue with main preview window failing to refresh. (UUM-47201)
    
*   Shadergraph: Corrected a typo in the generated code for the NAND node. (UUM-47325)
    
*   Shadergraph: Fixed an issue where sprite previews were not always rendering. ([UUM-41514](https://issuetracker.unity3d.com/issues/shader-graph-main-preview-is-blank-when-using-the-unlit-sprite-graph))
    
*   Shadergraph: Fixed node creation menu location on macOS. ([UUM-47824](https://issuetracker.unity3d.com/issues/macos-shadergraph-nodes-are-partially-obscured-and-created-in-the-top-left-screen-corner-when-using-create-node-shortcut))
    
*   Shaders: Fixed PackageRequirements block in ShaderLab not recognizing experimental package versions. ([UUM-43288](https://issuetracker.unity3d.com/issues/packagerequirements-blocks-in-shaders-do-not-support-experimental-slash-preview-packages))
    
*   Terrain: \[Linux\] Dedicated server build crashes with "Segmentation fault" when the build project's scene contains terrains with "Draw Instanced" setting enabled. ([UUM-9776](https://issuetracker.unity3d.com/issues/linux-dedicated-server-build-crashes-with-segmentation-fault-when-the-build-projects-scene-contains-terrains-with-draw-instanced-setting-enabled))
    
*   uGUI: Fixed a crash when changing the resolution of the Game View when in play mode. ([UUM-43701](https://issuetracker.unity3d.com/issues/crash-on-ui-canvas-updatecanvasrecttransform-bool-when-changing-the-resolution-of-the-game-view-in-play-mode))
    
*   uGUI: Fixed Physics2DRaycaster returning the wrong distance between the sorting groups and the raycast. ([UUM-45893](https://issuetracker.unity3d.com/issues/physics2draycaster-returns-incorrect-distance-when-using-sorting-groups))
    
*   UI Toolkit: Fixed ListView null reference exceptions flooding the console when trying to unbind it from a disposed SerializedProperty. ([UUM-46364](https://issuetracker.unity3d.com/issues/nullreferenceexception-is-flooded-when-exiting-play-mode-while-inspector-is-displaying-a-list-whose-contents-are-generated-at-runtime))
    
*   UI Toolkit: Fixed loading of resources by path when a fragment was included in the URI but the asset requested was not a sub-asset. ([UUM-49355](https://issuetracker.unity3d.com/issues/ui-toolkit-invalid-value-for-font-missingassetreference-despite-the-font-already-being-assigned))
    
*   Universal RP: Disabled Motion Blur effect in EditMode to keep the game view clear while editing. Motion Blur works as before in PlayMode and standalone builds. ([UUM-43739](https://issuetracker.unity3d.com/issues/urp-fov-input-in-camera-inspector-component-doesnt-reflect-the-angle-correctly-when-typing-the-value))
    
*   Universal RP: Fixed objects not rendering in the wireframe mode. ([UUM-36914](https://issuetracker.unity3d.com/issues/objects-are-invisible-in-scene-view-when-using-wireframe-shading-mode))
    
*   Universal RP: Fixed transparent materials getting marked as dirty during material UI updates and project saving. ([UUM-45752](https://issuetracker.unity3d.com/issues/materials-are-marked-dirty-despite-the-user-not-making-changes))
    
*   Universal RP: Fixed \_WorldSpaceCameraPos is not set correctly in XR Multipass. ([UUM-2514](https://issuetracker.unity3d.com/issues/xr-urp-multipass-worldspacecamerapos-is-not-set-correctly-for-both-eyes))
    
*   Version Control: Fixed failed operations when the workspace is already locked.
    
*   VFX Graph: Changes are reverted in the Mesh Output shader property when saving. ([UUM-563](https://issuetracker.unity3d.com/issues/vfx-graph-changes-are-reverted-on-save-when-setting-shadergraph-to-none-in-output))
    
*   VFX Graph: Fixed memory leak of SharedMaterialData for sleeping VFX systems. ([UUM-52800](https://issuetracker.unity3d.com/issues/vfx-runtime-leak-spawning-many-vfx))
    
*   VFX Graph: Fixed undo not working with shader property in the Mesh Output context. ([UUM-10400](https://issuetracker.unity3d.com/issues/vfx-undo-not-working-correctly-with-mesh-outputs-shader))
    
*   VFX Graph: Improved shader input properties synchronization with VFX Graph output context when the shader is deleted or set to None. ([UUM-561](https://issuetracker.unity3d.com/issues/deleting-a-shadergraph-keeps-its-exposed-properties))
    
*   VFX Graph: Removed an error message when a point cache asset is missing, added an error feedback instead. ([UUM-26966](https://issuetracker.unity3d.com/issues/vfx-nullreferenceexception-in-vfxoperatorpointcache-if-pointcacheasset-is-missing))
    
*   VFX Graph: Some VFX Graph were not compiled until the asset was opened. ([UUM-570](https://issuetracker.unity3d.com/issues/visual-effects-graph-assets-shaders-are-not-imported-when-launching-unity))
    
*   Video: Fixed crash when editor using ShareX \[screen-capture-recorder-to-video\]([https://github.com/rdp/screen-capture-recorder-to-video-windows-free\\](https://github.com/rdp/screen-capture-recorder-to-video-windows-free\)) webcam. ([UUM-44750](https://issuetracker.unity3d.com/issues/crash-on-videoinput-setup-when-entering-the-play-mode))
    
*   Video: \[Android\] Player often crashes when playing the Video Player Seek frame that's more than a minute away from the current frame. ([UUM-3364](https://issuetracker.unity3d.com/issues/android-player-often-crashes-when-playing-the-video-player-seek-frame-thats-more-than-a-minute-away-from-the-current-frame))
    
*   Web: Fixed typo in the Decompression Fallback player setting for WebGL. ([UUM-46118](https://issuetracker.unity3d.com/issues/text-with-a-typo-is-shown-when-viewing-the-tooltip-of-decompression-fallback-in-webgl-player-settings))
    
*   XR: Fixed missing shader macros in SinglePassMultiView for built-in pipeline shaders. ([UUM-41604](https://issuetracker.unity3d.com/issues/error-unrecognized-identifier-error-is-thrown-when-building-a-project-for-the-android-platform))

### Known Issues in 2021.3.31f1

*   Asset - Database: An Infinite import error is thrown when modifying the contents of a "folder plugin" ([UUM-47972](https://issuetracker.unity3d.com/issues/an-infinite-import-error-is-thrown-when-modifying-the-contents-of-a-folder-plugin))
    
*   Asset Importers: OnImportAsset leaks 5GB of memory ([UUM-43067](https://issuetracker.unity3d.com/issues/onimportasset-leaks-5gb-of-memory))
    
*   Culling: kShadowCastingShadowsOnly objects are rendered by Projectors (built-in renderer) ([UUM-35705](https://issuetracker.unity3d.com/issues/kshadowcastingshadowsonly-objects-are-rendered-by-projectors-built-in-renderer))
    
*   Culling: \[Mobile\] Player freezes on "UnityClassic::Baselib\_SystemFutex\_Wait" or silently crashes ([UUM-41806](https://issuetracker.unity3d.com/issues/android-player-freezes-on-unityclassic-baselib-systemfutex-wait-or-silently-crashes))
    
*   DirectX11: D3D11 swapchain error pop-up appears and the Editor shuts down when opening a project ([UUM-49251](https://issuetracker.unity3d.com/issues/d3d11-swapchain-error-pop-up-appears-and-the-editor-shuts-down-when-opening-a-project))
    
*   Input: Crash on InputDeviceIOCTL when closing Unity editor ([UUM-10774](https://issuetracker.unity3d.com/issues/crash-on-inputdeviceioctl-when-closing-unity-editor))
    
*   Metal: \[iOS\] Rendering freezes when the orientation is changed ([UUM-9480](https://issuetracker.unity3d.com/issues/ios-rendering-freezes-when-the-orientation-is-changed))
    
*   Scripting Runtime: Sometimes the wrong image is displayed when using Cursor.SetCursor in software mode ([UUM-46718](https://issuetracker.unity3d.com/issues/sometimes-the-wrong-image-is-displayed-when-using-cursor-dot-setcursor-in-software-mode))
    
*   Universal RP: Meshes are not rendered when building WindowsStandalonePlayer builds from the command line with "batchmode", "nographics" flags ([UUM-47782](https://issuetracker.unity3d.com/issues/linux-meshes-are-not-rendered-when-building-windowsstandaloneplayer-builds-from-the-linux-command-line-with-batchmode-nographics-flags))
    
*   Universal RP: Objects are invisible in Scene view when using Wireframe Shading Mode ([UUM-36914](https://issuetracker.unity3d.com/issues/objects-are-invisible-in-scene-view-when-using-wireframe-shading-mode))
    

### 2021.3.31f1 Release Notes

#### Features

*   Shadergraph: The Shader Graph team has added a new sample content pack that can be installed via the Package Manager. The samples contain descriptions, examples, and break-downs for a majority of the nodes in Shader Graph - helping users understand the inner workings of the nodes and see examples of how they work and how they can be used.

#### Improvements

*   Editor: Moving files in the Project window now takes less memory and is faster. ([UUM-44466](https://issuetracker.unity3d.com/issues/dragging-a-file-to-the-root-assets-directory-of-a-project-causes-large-allocations-and-a-long-hang-which-can-lead-to-a-oom-crash))
    
*   Graphics: Fixed an issue where some functionality of the CubemapInspector was unintentionally left available when inspecting native Cubemap textures. ([UUM-22094](https://issuetracker.unity3d.com/issues/warning-registering-a-native-texture-with-depth-equals-0-while-the-actual-texture-has-depth-equals-1-is-thrown-when-in-play-mode-and-creating-a-cubemap-from-another-cubemaps-native-texture))
    
*   HDRP: Reduced GC Alloc when using raytracing and HDRP. ([UUM-40657](https://issuetracker.unity3d.com/issues/hdrp-garbage-collection-issue-with-ray-traced-reflections))
    
*   HDRP: Updated description of Decal Projector Draw Distance setting to mention HDRP asset setting. ([UUM-42539](https://issuetracker.unity3d.com/issues/draw-distance-of-the-decal-projector-functions-as-if-the-value-were-set-to-1000-when-the-distance-between-the-camera-and-decal-is-greater-than-1000))
    

#### Changes

*   Editor: Added command to support Hub creating a new project, and connecting a project to Unity Version Control.
    
*   Editor: Android\] Exceptions for "Unspecified Version" when including Play Libraries have been removed on 21.3 due to the logic changes when fixing Regex for Core-Common. ([UUM-44744](https://issuetracker.unity3d.com/issues/android-regex-in-checkplaylibraryadded-incorrectly-identifies-play-core-common-libraries))
    
*   Editor: Don't write cloudProjectId in ProjectSettings.asset anymore since it should only be managed by Services.
    
*   Editor: \[Android\] Moved Play Library checks for plugins and gradle dependencies into methods in 21.3 for use in Editor Tests, to avoid building player in every test. ([UUM-44744](https://issuetracker.unity3d.com/issues/android-regex-in-checkplaylibraryadded-incorrectly-identifies-play-core-common-libraries))
    
*   Version Control: Moved the button to invite users to the organization from the submenu to the toolbar.
    
*   Version Control: Show a message with a link to invite users to the organization after the first checkin.
    

#### Fixes

*   2D: Fixed bug where a GameObject instantiated by a Tile is recreated on the player when the user refreshes the Tile without changing the Tile. ([UUM-45589](https://issuetracker.unity3d.com/issues/tilemap-refreshes-gameobjects-when-tile-doesnt-change-when-using-the-player))
    
*   Android: Bumped R8 version to a newer version than the ones bundled in tools to support sdk 34.
    
*   Android: Fixed a bug related to the "Mute Other Audio Sources" player setting on Android. There were two cases where another app's audio might not get muted when it should be. This could happen if the other app was started before the Unity app or if the other app was played via the Android "quick panel" after the Unity app was started. ([UUM-37753](https://issuetracker.unity3d.com/issues/android-muteotheraudiosources-not-muting-background-music-when-starting-the-player))
    
*   Android: Fixed a potential race condition during pause routine, which would cause application to accidentally quit instead of pausing. ([UUM-30732](https://issuetracker.unity3d.com/issues/android-race-condition-in-unityplayer-dot-pauseunity-kills-the-process-on-application-pause))
    
*   Android: Fixed AndroidJavaProxy not always finding over private methods. ([UUM-44752](https://issuetracker.unity3d.com/issues/android-androidjavaproxy-cannot-find-a-private-proxy-method-when-button-is-clicked))
    
*   Android: Show the last rendered frame when the application come back from the pause state. ([UUM-30881](https://issuetracker.unity3d.com/issues/android-a-black-screen-appears-for-a-few-seconds-when-returning-to-the-game-from-the-lock-screen-after-idle-time))
    
*   Animation: Fixed a crash when destroying an animator with a playable graph which containts a scene handle when the graph hasnt been executed. ([UUM-48364](https://issuetracker.unity3d.com/issues/the-player-silently-crashes-when-destroying-the-animator-which-uses-the-animation-rigging-package))
    
*   Animation: Fixed potential editor hang when previewing transitions to states set with an extremely large speed multiplier. ([UUM-35558](https://issuetracker.unity3d.com/issues/editor-freezes-when-sub-state-machine-transition-arrow-is-unselected))
    
*   Apple TV: Fixed build of generated xcode project with xcode beta. ([UUM-44352](https://issuetracker.unity3d.com/issues/tvos-unable-to-build-any-tvos-project-using-xcode-15-beta))
    
*   Apple TV: Fixed on screen keyboard unresponsive to controller when Remote.allowExitToHome is set to false. ([UUM-39962](https://issuetracker.unity3d.com/issues/tvos-16-no-text-navigation-occurs-when-using-controller-driven-text-input))
    
*   Apple TV: Fixed startup with disconnected display. (UUM-32314)
    
*   Audio: Added lazy `loopEnd` evaluation to avoid keeping a value of 0. Downloaded audio files were were not updating this, causing a division by zero in the playback process. ([UUM-32163](https://issuetracker.unity3d.com/issues/webgl-a-mp3-audio-clip-downloaded-through-unitywebrequestmultimedia-dot-getaudioclip-cant-be-replayed))
    
*   Audio: Fixed a bug where AudioClips loaded via UnityWebRequest would keep two copies of the data, which doubled the memory usage unnecessarily. This was the case for non-streaming AudioClips. ([UUM-2391](https://issuetracker.unity3d.com/issues/ios-non-streaming-audio-clips-loaded-from-unitywebrequest-retain-file-reference-after-unloading))
    
*   Audio: Fixed AudioSource.Play() not starting from time=0 after manually seeking with AudioSource.time and then calling AudioSource.Stop(). ([UUM-48572](https://issuetracker.unity3d.com/issues/audiosource-starts-playback-from-the-wrong-position-when-setting-the-time-manually))
    
*   Build Pipeline: The Editor fails to build the Player when using a script to switch the Platform from "Dedicated Server". ([UUM-34085](https://issuetracker.unity3d.com/issues/the-editor-fails-to-build-the-player-when-using-a-script-to-switch-the-platform-from-dedicated-server))
    
*   Build System: Make MsvcInstallationLocator.ParseVSWhereResult accept input with a BOM.
    
*   Core: Fixed an issue where importing a hybrid package could fail if there was already a package whose name was a prefix of the hybrid package's UPM package name. ([UUM-43102](https://issuetracker.unity3d.com/issues/importing-a-custom-package-fails-when-the-beginning-of-the-name-collides-with-another-package))
    
*   Editor: Editor on mac no longer presents old frames. (UUM-3147)
    
*   Editor: Editor: Fix for stripping out the Texture2DArray or Texture3D assets from dedicated server builds. (UUM-42750)
    
*   Editor: Ensure "Delete Shortcut Profile" window is a fixed size. ([UUM-48165](https://issuetracker.unity3d.com/issues/shortcuts-delete-profile-modal-unlike-create-profile-and-rename-profile-can-be-resized-and-its-ui-becomes-inconsistent-with-others))
    
*   Editor: Ensure empty parent after reparenting jumps into rename mode if needed. ([UUM-15042](https://issuetracker.unity3d.com/issues/rename-new-objects-functionality-doesnt-work-when-creating-a-gameobject-using-the-create-empty-parent-option))
    
*   Editor: Fixed "Can not play a disabled audio source" warning when audio mute is toggled in scene view on with disabled Audio Source in the Scene. ([UUM-31541](https://issuetracker.unity3d.com/issues/can-not-play-a-disabled-audio-source-is-thrown-when-audio-is-toggled-on-with-disabled-audio-source-in-the-scene))
    
*   Editor: Fixed a misleading error message when renaming a shortcut profile to a long string. ([UUM-48040](https://issuetracker.unity3d.com/issues/misleading-error-shown-when-typing-too-many-characters-in-shortcut-profiles-names))
    
*   Editor: Fixed a possible audio mixer crash when loading asset bundles made prior to 2021. ([UUM-30040](https://issuetracker.unity3d.com/issues/crash-in-audiomixerruntime-dot-cpp-when-loading-audiomixer-assetbundles-built-prior-to-2021))
    
*   Editor: Fixed a scaling issue in device simulator when the view is unmaximized. ([UUM-48391](https://issuetracker.unity3d.com/issues/shimmanager-dot-isscreenshimactive-becomes-false-when-maximizing-slash-minimizing-simulator-window))
    
*   Editor: Fixed an issue where failure to create a window will cause every hidden window on the current desktop to be displayed. ([UUM-48624](https://issuetracker.unity3d.com/issues/editor-windows-background-task-windows-are-opened-when-importing-large-packages-or-building-large-project))
    
*   Editor: Fixed an issue where the editor would temporarily freeze when selecting large compressed cubemaps with no mipchain. ([UUM-28610](https://issuetracker.unity3d.com/issues/long-loading-time-when-selecting-a-cubemap-texture-with-generate-mipmaps-disabled))
    
*   Editor: Fixed an issue where the Texture3D previewer (volume mode) would not function with DX12 / Vulkan. ([UUM-39954](https://issuetracker.unity3d.com/issues/volumetric-rendering-display-is-not-displayed-when-selecting-texture3d))
    
*   Editor: Fixed Area light sampling in lightmapper (improves convergence rate). ([UUM-35492](https://issuetracker.unity3d.com/issues/cpu-and-gpu-progressive-lightmappers-produce-different-lightmap-results-when-generating-lightning))
    
*   Editor: Fixed cache dir on Linux. ([UUM-34544](https://issuetracker.unity3d.com/issues/linux-project-opens-with-gicache-errors-in-the-console-when-opening-unity-project-with-a-different-operating-system-user))
    
*   Editor: Fixed Camera.GetStereoEnabled() to return true only if the camera is rendering a stereo view.
    
*   Editor: Fixed case where "Failed to unpersist" error messages logged. ([UUM-33746](https://issuetracker.unity3d.com/issues/failed-to-unpersist-error-is-not-informative-when-trying-to-modify-prefab-in-runtime))
    
*   Editor: Fixed control shortcut modifier (^) was not been displayed, when introduced inside a custom menu Window for MacOS & Linux platforms. ([UUM-40686](https://issuetracker.unity3d.com/issues/macos-custom-menu-does-not-display-shortcut-modifier-when-the-shortcut-has-the-control-modifier))
    
*   Editor: Fixed crash when loading certain corrupted scenes. ([UUM-43713](https://issuetracker.unity3d.com/issues/crash-on-mergeallprefabinstancesduringload-when-opening-a-specific-scene))
    
*   Editor: Fixed Display.RelativeMouseAt() reporting invalid values when using multiple displays that have been resized or moved (Display C# API) on Windows. ([UUM-44474](https://issuetracker.unity3d.com/issues/onmousedown-is-not-called-after-the-player-window-is-resized-with-display-dot-setparams-when-multiple-displays-are-used))
    
*   Editor: Fixed editor height shrinks if changing layout. (UUM-30875)
    
*   Editor: Fixed extra 38-byte header in DXIL generated for shaders. ([UUM-37067](https://issuetracker.unity3d.com/issues/dx12-shaderdata-dot-variantcompileinfo-dot-shaderdata-contains-38-extra-bytes-on-directx-12))
    
*   Editor: Fixed Input.mousePosition reporting invalid values when using multiple displays (Display C# API) on Windows. ([UUM-44474](https://issuetracker.unity3d.com/issues/onmousedown-is-not-called-after-the-player-window-is-resized-with-display-dot-setparams-when-multiple-displays-are-used))
    
*   Editor: Fixed intermittent crashes in the menu controller that can occur during domain reloads. ([UUM-34847](https://issuetracker.unity3d.com/issues/linux-crash-on-disconnectgtksignal-void-star-gtkcallbackresponse-star-void-star-when-going-through-microgame-tutorials))
    
*   Editor: Fixed macos screen capture showing random pixels when capturing at screen edge. ([UUM-7774](https://issuetracker.unity3d.com/issues/macos-color-picker-preview-shows-colorful-pixels-when-cursor-is-dragged-on-the-sides-of-the-screen))
    
*   Editor: Fixed material previews being rendered black. ([UUM-29305](https://issuetracker.unity3d.com/issues/material-thumbnail-is-shown-as-black-when-using-hdrp-slash-lit-shader))
    
*   Editor: Fixed OnMouseDown not working when using multiple displays that have been resized or moved (Display C# API) on Windows. ([UUM-44474](https://issuetracker.unity3d.com/issues/onmousedown-is-not-called-after-the-player-window-is-resized-with-display-dot-setparams-when-multiple-displays-are-used))
    
*   Editor: HDRP: Avoid crash on MacOS by no longer passing Probe Volumes buffer with unexpected stride. (UUM-41474)
    
*   Editor: No more deadlocks when manipulating game view during Play Mode on mac. ([UUM-36218](https://issuetracker.unity3d.com/issues/editor-freezes-when-exiting-play-mode-if-the-game-window-position-was-changed-or-undocked-during-play-mode))
    
*   Editor: Rare case of static batching with transparent shadow rendering issue fixed. (UUM-36082)
    
*   Editor: Reverted a breaking change related to IGraphEventListener.
    
*   Editor: Reverted a breaking change where LudiqScriptableObject.\_data was marked as private.
    
*   Editor: Samsung S8 crashing after OpenExtractor failing to translate archive. ([UUM-31317](https://issuetracker.unity3d.com/issues/video-has-a-delay-random-freezing-and-speeding-up-when-using-videoplayer))
    
*   Editor: The Game view should no longer flicker to black in Play Mode on mac. ([UUM-19574](https://issuetracker.unity3d.com/issues/ventura-silicon-game-slash-scene-view-flickers-when-entering-the-play-mode-with-vsync-on))
    
*   Editor: The stage priority for Sprite renderer and Canvas renderer now updates the value as expected. ([UUM-35594](https://issuetracker.unity3d.com/issues/prefab-canvas-component-corrupts-gameobject-rendering-when-ui-environment-is-set-to-the-scene-that-has-this-prefab))
    
*   Editor: \[Android\] Fixing Regex that checks for Play Libraries on 21.3 to avoid warnings when using Core-Common libraries instead of only Play Core warnings as expected. Regex now expects a series of digits/dots after the term "core" to avoid the confusion. ([UUM-44744](https://issuetracker.unity3d.com/issues/android-regex-in-checkplaylibraryadded-incorrectly-identifies-play-core-common-libraries))
    
*   GI: Fixed bug where Directional Lightmaps would sometimes contain degenerate values when baking scenes with lots of invalid lightmap texels. (UUM-46067)
    
*   GI: Fixed crash when using very small cookie textures for lights. ([UUM-43149](https://issuetracker.unity3d.com/issues/crash-on-texturequadtree-reserve-when-generating-lighting))
    
*   Graphics: Fixed 'The transcoded bitstream was invalid' error being shown when streaming using SVT. (UUM-41518)
    
*   Graphics: Fixed a crash when enabling shadows in a scene with both Built-In render pipeline and SRP materials. ([UUM-46685](https://issuetracker.unity3d.com/issues/crash-on-gfxdevice-executeasync-when-light-source-shadows-are-enabled-with-builtin-and-srp-materials-in-the-scene-with-the-default-scriptable-render-pipeline))
    
*   Graphics: Fixed an issue where copying to/from invalid mipmaps could cause a crash or hang to occur. ([UUM-15079](https://issuetracker.unity3d.com/issues/graphics-vulkan-copying-texture2d-to-texture2d-array-with-incomplete-mip-chain-source-causes-crash-and-validation-errors))
    
*   Graphics: Fixed an issue where the mipmap streaming system did not take runtime changes to material texture scale properties. ([UUM-31184](https://issuetracker.unity3d.com/issues/texture-mipmap-streaming-uses-wrong-scales-after-materials-are-changed-at-runtime))
    
*   Graphics: Fixed game window display position on-screen for additional uncommon multi-monitor layouts. ([UUM-33795](https://issuetracker.unity3d.com/issues/screen-dot-movemainwindowto-misbehaves-when-window-is-windowed-and-spans-several-monitors))
    
*   Graphics: Fixed inspector preview for objects with negative scale. ([UUM-47049](https://issuetracker.unity3d.com/issues/reflection-probe-is-red-in-the-inspector-window-if-a-gameobject-has-a-negative-scale))
    
*   Graphics: Improved SkinnedMeshRenderer mesh compatibility error message. (UUM-46329)
    
*   HDRP: Fixed prefab preview rendering dark until moved. ([UUM-42162](https://issuetracker.unity3d.com/issues/asset-model-material-in-the-inspector-preview-is-only-displayed-correctly-when-the-model-is-rotated))
    
*   HDRP: Fixed preview for refractive materials with MSAA.
    
*   HDRP: Fixed ShaderGraph Decal material position issue by using world space position. ([UUM-42716](https://issuetracker.unity3d.com/issues/decal-shader-moving-with-camera-when-using-object-position-in-shader-graph-decal))
    
*   HDRP: Fixed the logic used to set up materials featuring displacement mapping that would sometimes result in artifacts or suboptimal performance. ([UUM-44723](https://issuetracker.unity3d.com/issues/hdrp-pixel-displacement-plus-depth-offset-combination-of-materials-not-working))
    
*   HDRP: Fixed: realtime Reflection probe makes volumetrics clouds wind stop. ([UUM-37387](https://issuetracker.unity3d.com/issues/hdrp-realtime-reflection-probe-makes-volumetrics-clouds-wind-stop))
    
*   IL2CPP: Fixed a crash in some cases where a generic type was being used. ([UUM-42694](https://issuetracker.unity3d.com/issues/il2cpp-built-player-crashes-when-using-a-structure-of-type-generic-for-a-property-of-a-custom-timeline-behavior-and-setting))
    
*   IL2CPP: Fixed build failure when a delegate had a first parameter that was a function pointer. ([UUM-44037](https://issuetracker.unity3d.com/issues/android-il2cpp-build-error-occurs-when-method-first-parameter-is-an-unmanaged-delegate))
    
*   IL2CPP: Fixed ExceptionSupportStack overflow with exception filters in loops. ([UUM-42937](https://issuetracker.unity3d.com/issues/player-crashes-on-il2cpp-vm-runtime-invokewiththrow-when-using-the-when-keyword-in-a-try-catch-block-and-calling-the-log-dot-debugexception-method))
    
*   IL2CPP: Fixed LoadIndirectNativeInteger to use a temp variable. (UUM-43502)
    
*   iOS: Fixed compatibility with Xcode 15. ([UUM-46899](https://issuetracker.unity3d.com/issues/building-projects-with-il2cpp-scripting-backend-for-apple-platforms-fails-with-xcode-15-dot-0b6-or-newer))
    
*   iOS: Fixed multi line keyboard not showing up after it was closed while editing text field. ([UUM-21521](https://issuetracker.unity3d.com/issues/ipad-keyboard-doesnt-show-up-after-pressing-the-hide-keyboard-button-on-the-multiline-text-field))
    
*   iOS: Fixed safe area not reporting correctly when changing orientation. ([UUM-41818](https://issuetracker.unity3d.com/issues/ios-screen-dot-safearea-is-incorrectly-updated-when-rotating-the-device))
    
*   Linux: Exposing -datafolder command line argument for Linux Player release builds. (UUM-46895)
    
*   Linux: Fixed a bug with surround sound hardware not being detected on Linux. Fixed an issue on Windows where we would not re-init audio output correctly, when the Unity project requested surround sound, and the Editor or player was started with no such hardware available. When surround sound hardware is later enabled and set as the default output, it will now be used. ([UUM-348](https://issuetracker.unity3d.com/issues/unity-does-not-recognize-surround-sound-driver-capabilities-and-plays-audio-in-stereo))
    
*   Linux: Fixed Infinite import loop when opening a project which contains assets with the same name. ([UUM-47845](https://issuetracker.unity3d.com/issues/linux-infinite-import-loop-when-opening-a-project-which-contains-assets-with-the-same-name))
    
*   Linux: Fixed Linux Player generating mouse delta values when clicking the left mouse button repeatedly. ([UUM-46825](https://issuetracker.unity3d.com/issues/linux-player-mouse-delta-values-are-generated-when-clicking-the-lmb-repeatedly-while-the-cursor-is-motionless))
    
*   Linux: Fixed minor bug in GetOperatingSystemNumeric Linux API. (UUM-45625)
    
*   Linux: Fixed Scroll doesn't work when a window is attached to the left half of the secondary monitor. ([UUM-43910](https://issuetracker.unity3d.com/issues/linux-scroll-doesnt-work-when-a-window-is-attached-to-the-left-half-of-the-secondary-monitor))
    
*   macOS: Fixed app hanging when Player Loop is blocked by a blocking Modal window function and app unfocused and focused. ([UUM-22691](https://issuetracker.unity3d.com/issues/macos-application-with-file-dialog-freezes-when-switching-windows))
    
*   macOS: Lock camera configuration when Unity is using it. ([UUM-45255](https://issuetracker.unity3d.com/issues/silicon-freeze-slash-crash-on-dynamicheapallocator-allocate-when-webcam-is-used-in-the-editor-and-in-another-application-at-the-same-time))
    
*   Mono: Fixed Editor crash when mini\_get\_method fails. ([UUM-45293](https://issuetracker.unity3d.com/issues/crash-on-mono-method-to-ir-when-running-a-specific-test-runner-test))
    
*   Mono: Fixed min alignment of structures with explicit layout. (UUM-46084)
    
*   Mono: Produce crash dump when g\_assertion\_message is called. (UUM-43015)
    
*   Networking: Fixed issue where UnityWebRequest would fail to establish TLS connections with Windows Server 2012 and 2016. ([UUM-41557](https://issuetracker.unity3d.com/issues/unitywebrequest-uses-tlsv1-protocol-during-tls-handshake-instead-of-tlsv1-dot-2-protocol-when-calling-the-unitywebrequest-dot-get-method))
    
*   Networking: Prevent virtual method in DownloadHandlerScript from being stripped. ([UUM-34034](https://issuetracker.unity3d.com/issues/custom-downloadhandlerscript-doesnt-work-when-a-medium-or-high-stripping-level-is-used))
    
*   Package Manager: Custom, local and git packages will only follow information from the package.json from now on. (UUM-47732)
    
*   Package Manager: Recommended version follows a better rule. (UUM-46466)
    
*   Physics: Fixed crash in Rigidbody.centerOfMass when accessed on a Rigidbody that got added as a component dependency and not initialised yet. ([UUM-35842](https://issuetracker.unity3d.com/issues/crash-on-rigidbody-custom-set-centerofmass-injected-when-opening-a-specific-scene))
    
*   Physics: Fixed up a crash that happened when ArticulationBody was added next to TerrainCollider that had trees on it. ([UUM-46116](https://issuetracker.unity3d.com/issues/crash-on-terraincollider-createtrees-when-entering-the-play-mode))
    
*   Prefabs: Fixed Not all childrens properties gets reverted when multi-editing a property under one Prefab instance. ([UUM-42527](https://issuetracker.unity3d.com/issues/only-the-last-childs-gameobject-property-gets-reverted-when-changing-a-property-of-all-child-gameobjects-under-one-parent-gameobject))
    
*   Profiler: Removed extraneous calls to UpdateRendererBoundingVolumes when executing an empty CommandBuffer. ([UUM-33237](https://issuetracker.unity3d.com/issues/gaphics-dot-executecommandbuffer-adds-unwanted-updaterendererboundingvolumes-calls-in-profiler))
    
*   Scene/Game View: Fixed "Edit/Frame Selected" not focusing the last active scene view in the case where the Hierarchy window is focused. ([UUM-43944](https://issuetracker.unity3d.com/issues/the-scene-view-camera-is-not-being-focused-on-the-selected-gameobject-when-pressing-frame-selected-in-the-menu))
    
*   Scene/Game View: Fixed an exception when using a shortcut to set the Shading Mode to Shaded. ([UUM-15644](https://issuetracker.unity3d.com/issues/shading-mode-isnt-set-to-shaded-when-pressing-a-shortcut-set-for-the-scene-view-render-mode-slash-shaded))
    
*   Scripting: PrefabUtilitiy.InstantiateAttachedAsset is deprecated. ([UUM-33714](https://issuetracker.unity3d.com/issues/crash-on-typeinfo-for-noncopyable-when-copying-and-pasting-a-nested-prefab-variant))
    
*   Serialization: Fixed calling JsonUtility.FromJson<T>(json) in parallel task. ([UUM-46590](https://issuetracker.unity3d.com/issues/crash-on-when-memcpy-repmovs-calling-jsonutility-dot-fromjson-on-system-dot-threading-dot-tasks-dot-parallel-dot-for))
    
*   Shaders: Fixed "gl\_" identifiers error generated while compiling some geometry/tessellation shaders for Vulkan. ([UUM-30365](https://issuetracker.unity3d.com/issues/shader-generation-on-vulkan-throws-gl-layer-error))
    
*   Shaders: Fixed the UsePass ShaderLab command so it searches all subshaders, not only the first one. ([UUM-36470](https://issuetracker.unity3d.com/issues/usepass-doesnt-reference-passes-within-another-shaders-second-subshader))
    
*   Shaders: Fixed \\#include\_with\_pragmas directives deleting other lines of code during compute shader compilation using the new preprocessor. ([UUM-35030](https://issuetracker.unity3d.com/issues/shader-error-in-kernel-syntax-error-when-include-with-pragmas-is-used-last-in-the-include-list))
    
*   SpeedTree: Meshes don't calculate UV distribution metrics on import. ([UUM-27636](https://issuetracker.unity3d.com/issues/speedtree-meshes-dont-calculate-uv-distribution-metrics-on-import))
    
*   Terrain: Fixed a player crash when a terrain tile completely made of holes was viewed from a distance. ([UUM-45970](https://issuetracker.unity3d.com/issues/player-crashes-when-auto-connect-is-enabled-for-terrains-in-the-terrain-group))
    
*   UI Toolkit: Added a workaround for a Intel Graphics 3000 driver bug that would cause textures rendered by UI Toolkit to show incorrectly. ([UUM-13134](https://issuetracker.unity3d.com/issues/unity-editor-is-rendered-without-the-toolbar-icons-when-using-it-on-old-hardware-with-integrated-gpu))
    
*   UI Toolkit: Double clicking a script in an ObjectField will open it in the IDE. ([UUM-26459](https://issuetracker.unity3d.com/issues/double-clicking-script-field-no-longer-opens-it-in-the-external-script-editor))
    
*   UI Toolkit: Dynamic height ListView was being scrolled to the wrong item when using ScrollToItem. ([UUM-40674](https://issuetracker.unity3d.com/issues/listview-is-scrolled-to-the-wrong-item-when-using-scrolltoitem-in-a-listview-with-dynamic-height-virtualization-method))
    
*   UI Toolkit: Fixed error thrown when pressing the add button with a list view of value types. ([UUM-23208](https://issuetracker.unity3d.com/issues/argumentnullexception-thrown-when-clicking-the-add-footer-button-of-listview-which-itemssource-is-a-list-of-value-type))
    
*   UI Toolkit: Fixed invalid elements tessellation when NaN values are set in the style transform values. (UUM-48759)
    
*   UI Toolkit: Fixed reordering elements would create empty items with the ListView animated dragger. ([UUM-27626](https://issuetracker.unity3d.com/issues/listview-adds-new-empty-items-when-reordering-the-last-element-upwards-on-a-monitor-with-the-scale-set-to-125-percent-250-percent))
    
*   UI Toolkit: Fixed ScrollView produces jittery animation when playing PostPointerUpAnimation. ([UUM-40352](https://issuetracker.unity3d.com/issues/scrollview-produces-jittery-animation-when-playing-postpointerupanimation))
    
*   UI Toolkit: Fixed selection in custom controls in UI Builder. ([UUM-32501](https://issuetracker.unity3d.com/issues/ui-builder-nullreferenceexception-when-building-custom-element-tree-from-uxml))
    
*   UI Toolkit: Fixed textured background UVs when inset because of opaque border. ([UUM-35321](https://issuetracker.unity3d.com/issues/background-image-scaling-changes-when-changing-visualelement-border-color-opacity))
    
*   UI Toolkit: Fixed Vector3Field SetValueWithoutNotify triggers RegisterValueChangedCallback. ([UUM-43504](https://issuetracker.unity3d.com/issues/vector3field-setvaluewithoutnotify-triggers-registervaluechangedcallback-when-used-with-float-dot-nan))
    
*   UI Toolkit: ListView's itemsChosen was being called when quickly clicking on two separate items. ([UUM-42450](https://issuetracker.unity3d.com/issues/listview-dot-itemschosen-is-called-when-quickly-single-clicking-on-two-separate-list-entries))
    
*   UI Toolkit: Null reference exception thrown when clicking on an empty list view. ([UUM-33898](https://issuetracker.unity3d.com/issues/nullreferenceexception-is-thrown-when-clicking-on-an-empty-listview))
    
*   UI Toolkit: Reordered item becoming invisible in a ListView. ([UUM-25806](https://issuetracker.unity3d.com/issues/the-reorderablelist-item-becomes-invisible-when-dragging-it-through-the-list))
    
*   Universal RP: Added check for overlay cameras' inspector. ([UUM-35241](https://issuetracker.unity3d.com/issues/urp-settings-of-components-in-the-inspector-windows-disappears-when-deleting-a-child-camera-of-the-main-camera))
    
*   Universal RP: Fixed an issue where additional lights were not rendering correctly when using a mix of shadow settings in deferred. ([UUM-46577](https://issuetracker.unity3d.com/issues/hard-shadows-appear-in-the-game-view-when-enabling-cast-shadows))
    
*   Universal RP: Fixed an issue with Screen Space Decals where dark artefacts appeared in the editor. ([UUM-40885](https://issuetracker.unity3d.com/issues/direct3d11-urp-screenspace-decals-show-dark-artifacts-in-editor-while-targeting-android-platform))
    
*   Universal RP: Fixed depth priming issues on Vulkan. (UUM-21113)
    
*   Universal Windows Platform: "Create App Packages..." option is greyed out when trying to Create App Packages in Visual Studio. ([UUM-47116](https://issuetracker.unity3d.com/issues/create-app-packages-dot-dot-dot-option-is-greyed-out-when-trying-to-create-app-packages-in-visual-studio))
    
*   Version Control: Fixed Add to ignored/hidden changes list from the Project window creating a negative rule.
    
*   Version Control: Fixed Switch to changeset not working on Gluon partial workspace.
    
*   VFX Graph: Picking Overlay when the rotation is applied on VisualEffect component. ([UUM-13531](https://issuetracker.unity3d.com/issues/vfx-graph-selection-outline-has-offset-if-vfx-has-sg-assigned))
    
*   Video: Fixed memory leak when playing video with bigger resolution than 2k. (UUM-23285)
    
*   Video: Fixed WebCamTexture throws error when asking a different configuration than the one specified in NVIDIA Broadcast. ([UUM-32751](https://issuetracker.unity3d.com/issues/webcamtexture-throws-samplecb-buffer-sizes-do-not-match-error-when-using-nvidia-broadcast-virtual-camera))
    
*   Web: Added stickyCursorLock API to make cursor lock "sticky" or "unsticky." A sticky cursor lock means that if the browser unlocks the cursor when the user presses the ESC key, the cursor will remain locked in Unity. To match the browser's behavior, users can set the stickyCursorLock to false, which will "unstick" the cursor lock. ([UUM-16915](https://issuetracker.unity3d.com/issues/cursor-dot-lockstate-still-returns-locked-when-esc-is-pressed-in-the-webgl-player-or-editor))
    
*   XR: Updated XR Interaction Toolkit to version 2.5.1.

### Known Issues in 2021.3.30f1

*   Asset Importers: OnImportAsset leaks 5GB of memory ([UUM-43067](https://issuetracker.unity3d.com/issues/onimportasset-leaks-5gb-of-memory))
    
*   Culling: kShadowCastingShadowsOnly objects are rendered by Projectors (built-in renderer) ([UUM-35705](https://issuetracker.unity3d.com/issues/kshadowcastingshadowsonly-objects-are-rendered-by-projectors-built-in-renderer))
    
*   Culling: \[Mobile\] Player freezes on "UnityClassic::Baselib\_SystemFutex\_Wait" or silently crashes ([UUM-41806](https://issuetracker.unity3d.com/issues/android-player-freezes-on-unityclassic-baselib-systemfutex-wait-or-silently-crashes))
    
*   Input: Crash on InputDeviceIOCTL when closing Unity editor ([UUM-10774](https://issuetracker.unity3d.com/issues/crash-on-inputdeviceioctl-when-closing-unity-editor))
    
*   MacOS: Fix for 2021.3.X: Editor silently crashes when entering Play Mode on macOS (UUM-37060)
    
*   Metal: \[iOS\] Rendering freezes when the orientation is changed ([UUM-9480](https://issuetracker.unity3d.com/issues/ios-rendering-freezes-when-the-orientation-is-changed))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Platform Audio: \[WebGL\] A looping audio sounds different on WebGL than in the editor/native desktop player ([UUM-12530](https://issuetracker.unity3d.com/issues/webgl-a-looping-audio-sounds-different-on-webgl-than-in-the-editor-slash-native-desktop-player))
    
*   UI Toolkit Framework: Unity Editor is rendered without the toolbar icons when using it on old hardware with integrated GPU ([UUM-13134](https://issuetracker.unity3d.com/issues/unity-editor-is-rendered-without-the-toolbar-icons-when-using-it-on-old-hardware-with-integrated-gpu))
    
*   Universal RP: \[URP\]\[XR\] Performance degradation when comparing Android Quest 2 builds across 2020.3 and 2023.x ([UUM-33025](https://issuetracker.unity3d.com/issues/urp-xr-performance-degradation-when-comparing-android-quest-2-builds-across-2020-dot-3-and-2023-dot-x))
    

### 2021.3.30f1 Release Notes

#### Improvements

*   Animation: Improved performance of AnimatorOverrideController.ApplyOverrides() (UUM-39762)
    
*   Documentation: Clarify the behavior of Texture2D.Apply(), especially regarding mipmap limits. (UUM-7709)
    
*   Editor: The audio mute button in the game view toolbar uses less time per frame. (UUM-36729)
    
*   Mono: Added logging that will now list the threads that are being waited on during a domain reload.
    
*   Shadergraph: Addressed an issue where certain operations were taking too long as a result of graph concretization.
    

#### API Changes

*   SRP Core: Added: Added callbacks when RenderPipeline is created or disposed. ([UUM-20646](https://issuetracker.unity3d.com/issues/srp-constructor-is-called-when-the-scene-has-not-been-loaded))

#### Fixes

*   2D: Fixed a crash with TilemapCollider2D when a Tilemap with Tiles that have invalid Transform Matrices are loaded. ([UUM-41396](https://issuetracker.unity3d.com/issues/crash-on-tilemapcollider2d-processtilechangequeue-when-opening-a-specific-project))
    
*   Android: Fixed an issue where Android build system was asking for an API level that didn't exist. ([UUM-40891](https://issuetracker.unity3d.com/issues/android-unity-prompts-for-an-update-to-api-level-36-when-api-level-34-is-used-to-build-for-android))
    
*   Android: Fixed an issue where pause was not processed when onPause() is called right after onResume() is called. ([UUM-23247](https://issuetracker.unity3d.com/issues/button-cant-be-pressed-after-calling-startactivityforresult-with-flag-activity-new-task))
    
*   Android: Fixed value of Android/Vulkan specific shader constant UNITY\_DISPLAY\_ORIENTATION\_PRETRANSFORM when "Apply display rotation during rendering" is enabled. ([UUM-44759](https://issuetracker.unity3d.com/issues/backport-android-unity-display-orientation-pretransform-is-always-0-when-rotating-the-device))
    
*   Animation: Fixed AnimationWindowCurve evaluation error after step. ([UUM-30927](https://issuetracker.unity3d.com/issues/modified-animation-position-dot-y-value-frame-is-misplaced))
    
*   Animation: Fixed AnimationWindowCurve evaluation error after step. ([UUM-31316](https://issuetracker.unity3d.com/issues/fbx-animation-results-in-different-frame-keys-when-imported-from-maya))
    
*   Animation: Fixed mask values in the animation layer mixer when reading animated values from a animation c# job. ([UUM-42174](https://issuetracker.unity3d.com/issues/modifying-bones-with-transformstreamhandle-does-not-work-when-the-animationscriptplayable-is-output-to-an-animationlayermixerplayable-and-the-singlelayeroptimization-parameter-is-set-to-false))
    
*   Asset Bundles: Fixed an issue where shaders in asset bundles built with older Unity versions could treat material keywords as invalid when using SubShaders
    
*   Asset Import: Fixed the memory leak in ApplyDeprecatedFileIDToRecycleName. ([UUM-16971](https://issuetracker.unity3d.com/issues/a-memory-leak-happens-when-a-project-has-corrupted-meta-files))
    
*   Asset Pipeline: Fixed an issue with material preview not updating, when shader is modified. ([UUM-40780](https://issuetracker.unity3d.com/issues/sprite-thumbnail-doesnt-update-when-changing-the-sprite-shader))
    
*   Build Pipeline: Fixed incorrect AssetBundle dependencies are generated. ([UUM-43175](https://issuetracker.unity3d.com/issues/incorrect-assetbundle-dependencies-are-generated))
    
*   Build System: Fixed ForcedIncludes to be listed as InputFiles. (UUM-39789)
    
*   Documentation: Fixed an issue where there was a missing link in physics (physX) documentation. There was an hyper-link missing referring to CompoundColliders.
    
*   Editor: Ensured ExecuteInEditMode warning when entering playmode will fit in a dialog box. (UUM-44500)
    
*   Editor: Fixed a crash caused when a package load fails. ([UUM-16258](https://issuetracker.unity3d.com/issues/crash-on-burstcompilerservice-compileasync-when-opening-project))
    
*   Editor: Fixed a crash when exiting Prefab isolation mode while a GameObject with an invalid Editor is inspected. ([UUM-34561](https://issuetracker.unity3d.com/issues/crash-on-getmanagerfromcontext-when-exiting-the-prefab-mode))
    
*   Editor: Fixed a edge case issue with the Windows Player where an incorrect resolution was used and reported by Screen.width and Screen.height. This occurred when the player was started on a monitor with different DPI settings compared to the main windows monitor. ([UUM-41799](https://issuetracker.unity3d.com/issues/player-window-resolution-is-slightly-skewed-when-using-multiple-displays-and-one-of-them-has-a-different-scaling-value))
    
*   Editor: Fixed an issue to ensure SearchQueryProject list and SearchQuery panels are updated if SearchQueryAssets are added/removed either from Search Window or externally. ([UUM-41173](https://issuetracker.unity3d.com/issues/search-query-asset-is-not-on-the-project-list-in-the-search-window-if-it-was-duplicated))
    
*   Editor: Fixed an issue to remove the transparent input field that presents when TouchScreenKeyboard was active with hideInput option. ([UUM-37652](https://issuetracker.unity3d.com/issues/android-clicks-on-the-hidden-zone-remain-blocked-when-touchscreenkeyboard-is-active))
    
*   Editor: Fixed an issue when using -nographics command line switch in MacOS editor, causing asset importer process to not work properly. ([UUM-44347](https://issuetracker.unity3d.com/issues/assetimportworkers-are-stuck-indefinitely-at-android-extension-scanning-for-adb-devices-when-exporting-packages-in-batchmode-with-no-graphics))
    
*   Editor: Fixed an issue where 2D collider gizmos were not rendered when selecting the parent. ([UUM-41829](https://issuetracker.unity3d.com/issues/child-gameobjects-containing-box-collider-2d-do-not-display-collider-borders-in-the-scene-view-when-the-parent-is-selected))
    
*   Editor: Fixed an issue where derived components were not indexed (in prefab). ([UUM-41735](https://issuetracker.unity3d.com/issues/asset-indexing-doesnt-index-derived-component-type-base-types))
    
*   Editor: Fixed an issue where Device Simulator did not respect the WaitForEndOfFrame yield instruction when used in combination with Application.targetFramerate. ([UUM-40051](https://issuetracker.unity3d.com/issues/waitforendofframe-with-application-dot-targetframerate-set-produces-different-results-when-comparing-game-view-with-device-simulator-view))
    
*   Editor: Fixed an issue where mixed stack trace for Mono builds on Linux were not enabled. (UUM-33920)
    
*   Editor: Fixed an issue where scene template badges were not displayed in New Scene dialog. ([UUM-43133](https://issuetracker.unity3d.com/issues/scene-template-badges-are-not-displayed-in-new-scene-dialog))
    
*   Editor: Fixed an issue where text in Windows Editor dialogues was not selectable to support copy and paste. (UUM-41283)
    
*   Editor: Fixed an issue where the was inproper handling of saving a scenetemplate or a unity scene. ([UUM-42427](https://issuetracker.unity3d.com/issues/incorrect-extension-required-extension-is-dot-scenetemplate-dot-warning-is-thrown-when-creating-a-new-scene-from-a-scene-template-that-has-a-prefab))
    
*   Editor: Fixed an issue with the Style buttons of SceneTemplate Inspector. ([UUM-31080](https://issuetracker.unity3d.com/issues/fields-in-scene-template-pipeline-section-look-messy))
    
*   Editor: Fixed Async Progress registering ScriptingGCHandle not in current domain. (UUM-39631)
    
*   Editor: Fixed crash in assign of dynamic\_block\_array. (UUM-41417)
    
*   Editor: Fixed crashing without error on VK and GL when wrong Graphics Buffer Target is set. ([UUM-42421](https://issuetracker.unity3d.com/issues/crash-on-databuffergles-copysubdata-when-entering-the-play-mode-and-opengl-or-opengl-es-graphics-api-is-used))
    
*   Editor: Fixed for Editor crash based on shader chunk size of 0 in player settings. ([UUM-36663](https://issuetracker.unity3d.com/issues/crash-on-subprogramblobwriter-flush-when-building-a-project))
    
*   Editor: Fixed occasional Editor crash in batch mode. (UUM-22301)
    
*   Editor: Fixed preset glob search with multiple character ranges. ([UUM-26398](https://issuetracker.unity3d.com/issues/glob-function-isnt-working-with-textureimporter-in-preset-manager))
    
*   Editor: Fixed ProjectCapabilityManager.AddGameCenter() not adding the required entitlement. ([UUM-44172](https://issuetracker.unity3d.com/issues/game-center-entitlement-is-not-added-to-xcode-when-using-projectcapabilitymanager-dot-addgamecenter))
    
*   Editor: Fixed Sprite previews when go out from Play Mode and URP in use. ([UUM-41498](https://issuetracker.unity3d.com/issues/sprite-previews-are-missing-in-the-editor-when-urp-is-installed))
    
*   Editor: Fixed the error message when binding a shortcut with an invalid key. ([UUM-43122](https://issuetracker.unity3d.com/issues/the-windows-button-is-referred-to-as-leftapple-in-the-error-message-when-trying-to-assign-it-as-a-shortcut))
    
*   Editor: Hide the CPU option from the UI for Managed Plugins as it has no effect. (UUM-40186)
    
*   Editor: Prevent C4D native importer warnings if a project has its own C4D ScriptedImporter. ([UUM-36242](https://issuetracker.unity3d.com/issues/console-displays-warning-about-importing-c4d-files-when-a-scripted-importer-for-c4d-files-is-implemented))
    
*   Editor: Update UI/Docs for previewing audio clip in inspector. ([UUM-16395](https://issuetracker.unity3d.com/issues/audio-preview-in-inspector-does-not-work-when-disable-unity-audio-is-enabled))
    
*   Editor: Update Window/Panel menu even when aux window are closed. ([UUM-26519](https://issuetracker.unity3d.com/issues/window-panels-view-displays-check-for-updates-window-as-opened-when-its-closed))
    
*   Editor: \[MacOS\] Warn when editor doesn't have "Screen Recording" permissions to pick colors from other apps with the Color Picker/Eye Dropper tool (UUM-770)
    
*   Game Core: Fixed displayIndex on GXDK platform. (UUM-42807)
    
*   GI: Fixed an issue where invalid data was not detected in lighting data assets that caused a crash. ([UUM-27652](https://issuetracker.unity3d.com/issues/crash-on-lightingdataasset-checkconsistency-when-importing-assets))
    
*   GI: Fixed an issue where prefab mode would not show environment reflections. ([UUM-35086](https://issuetracker.unity3d.com/issues/environment-reflections-are-temporarily-disabled-when-entering-prefab-mode))
    
*   Graphics: Fixed a VK crash when GfxDevice interface was used incorrectly by TextMeshGenerator. ([UUM-36647](https://issuetracker.unity3d.com/issues/editor-exits-when-opening-the-scene-view-window-or-selecting-a-material))
    
*   Graphics: Fixed DrawProcedural family of functions that did not work when shaders want vertexbuffers. ([UUM-32295](https://issuetracker.unity3d.com/issues/dx12-drawprocedural-skips-the-draw-call-when-fake-normal-is-checked-in-material-settings))
    
*   Graphics: Fixed incorrect clamping of maxComputeBufferInputs when VkPhysicalDeviceLimits::maxPerStageDescriptorStorageBuffers is max unsigned integer. ([UUM-43741](https://issuetracker.unity3d.com/issues/vulkan-maxcomputebufferinputs-limits-get-slashed-when-device-property-is-max-uint))
    
*   Graphics: Fixed stencil information display error under camera depthNormals mode. ([UUM-27513](https://issuetracker.unity3d.com/issues/displayed-depth-buffer-doesnt-work-in-customrender-and-depthnormalstexture-passes))
    
*   Graphics: Fixed texture memory leaks for asynchronous scene loads. ([UUM-35265](https://issuetracker.unity3d.com/issues/memory-leak-when-using-texture-streaming-asynchronous-scene-loading-and-vulkan))
    
*   Graphics: Modified doc as camera distance calculation is coupled with camera. ([UUM-12523](https://issuetracker.unity3d.com/issues/cullinggroup-onstatechanged-is-not-called-when-there-is-no-targetcamera))
    
*   HDRP: Fixed FTLP (Fine Tiled Light Pruning) Shader Options max light count. Previous support only supported up to 63 These changes allow to go up to 255 with higher instability as numbers per tile approach 255.  
    For support greater than 255, do it at your own risk! (and expect some flickering) ([UUM-39924](https://issuetracker.unity3d.com/issues/hdrp-hdrp-has-a-hard-limit-of-64-total-lights-in-an-area-which-causes-flickering))
    
*   IL2CPP: Added DivideByZeroChecks to modulo/remainder operator. ([UUM-45551](https://issuetracker.unity3d.com/issues/il2cpp-player-crash-when-dividebyzerochecks-are-not-inserted))
    
*   IL2CPP: Correct the behavior of .NET File APIs for some DLC paths on GameCore. (UUM-29631)
    
*   IL2CPP: Fixed a deadlock when quitting WebGL Player when the code utilized System.ThreadPool. (UUM-32717)
    
*   IL2CPP: Fixed Calli scanning bug in MarkReflectionLikeDependencies pass ([UUM-33871](https://issuetracker.unity3d.com/issues/the-player-build-fails-when-calling-both-type-dot-getmethod-and-calling-any-managed-function-pointer-in-the-same-function-with-minimal-and-low-stripping-level))
    
*   IL2CPP: Fixed unsigned shift right of pointer types. ([UUM-41406](https://issuetracker.unity3d.com/issues/il2cpp-build-returns-incorrect-results-when-using-pointer-arithmetic))
    
*   iOS: Fixed attach managed debugger window not showing up and causing application to be in frozen state. ([UUM-39644](https://issuetracker.unity3d.com/issues/ios-app-freezes-and-the-you-can-attach-a-managed-debugger-now-if-you-want-message-doesnt-show-up-when-running-the-app-on-ios-devices-with-the-wait-for-managed-debugger-setting-enabled))
    
*   Kernel: Fixed in DynamicHeapAllocator reallocating of persistent memory to size greater than 4GB. (UUM-12004)
    
*   Linux: Fixed Editor crash when quick searching through a large amount of asset files on Linux. ([UUM-22443](https://issuetracker.unity3d.com/issues/linux-quicksearch-runs-out-of-memory-and-crashes-the-editor-when-indexing-thousands-of-assets))
    
*   Linux: Fixed Left Alt is recognized as pressed when switching to a different window and back. ([UUM-30743](https://issuetracker.unity3d.com/issues/linux-input-system-left-alt-key-is-recognized-as-pressed-when-alt-tabbing-to-a-different-window-and-back-to-editor))
    
*   Linux: Fixed Vulkan falsely reporting that HDR is supported on Linux. (UUM-43364)
    
*   Linux: Prevent paused unity player from using excessive CPU when "run in the background" option is off. ([UUM-38092](https://issuetracker.unity3d.com/issues/linux-player-consumes-more-cpu-resources-when-it-is-running-in-the-background))
    
*   macOS: Fixed editor crash when UI is redrawn. ([UUM-34202](https://issuetracker.unity3d.com/issues/macos-crash-on-objc-msgsend-when-ui-gets-redrawn))
    
*   Mono: Fixed issue where a fixed buffer within a valuetype struct would not be passed by value correctly. ([UUM-30210](https://issuetracker.unity3d.com/issues/different-numbers-are-logged-from-a-fixed-float-array-of-numbers-compared-to-the-numbers-that-were-added-to-the-array-if-using-the-arm64-architecture-editor))
    
*   Mono: Fixed issue where blittable flag could be incorrect when it was read before MonoClass was inited. (UUM-35682)
    
*   Package Manager: Disable documentation link button when it's unavailable. (UUM-45844)
    
*   Package Manager: Fixed an issue where built-in packages could not be successfully resolved if a dependency version did not exactly match the built-in package version. (UUM-37161)
    
*   Package Manager: Fixed the handling of trailing and leading whitespaces inside input fields.
    
*   Particles: Fixed particles flickering on Vulkan. ([UUM-21106](https://issuetracker.unity3d.com/issues/android-vulkan-visualisation-corruption-occurs-when-rendering-particles-to-render-texture))
    
*   Particles: Fixed potential crash on deletion of particle systems with mesh particles. ([UUM-26623](https://issuetracker.unity3d.com/issues/addressables-crash-in-transformparticlemesh))
    
*   Physics: Fixed an issue on OSX where Physics.Simulate would experience hickus due to how the PhysX task system was being integrated with Unity's Job System. (UUM-27803)
    
*   Physics: Fixed an issue where small bodies started to tunnel through large bodies in continuous collision detection mode at high simulation frequencies (~200Hz). ([UUM-19349](https://issuetracker.unity3d.com/issues/objects-are-not-colliding-when-time-dot-fixeddeltatime-is-smaller-or-equal-to-5-ms))
    
*   Player: Fixed custom SRP shaders used in skyboxes not rendering in Single-Pass Instanced XR rendering mode
    
*   Profiler: Fixed memory tracking for CubemapArrays, particularly with DirectX 11. ([UUM-31067](https://issuetracker.unity3d.com/issues/cubemaparrays-and-cubemaps-take-up-significantly-more-memory-than-on-other-platforms-when-working-with-a-windows-project))
    
*   Shadergraph: Fixed a minor usability issues with Custom Function Nodes.
    
*   Shadergraph: Fixed an issue where docs links from editor were incorrect.
    
*   Shadergraph: Fixed an issue where there were invalid characters from imported material sub asset.
    
*   Shadergraph: Fixed issue where adding dropdown property type to newly created subgraphs did not propagate to other open shadergraph editor windows.
    
*   Shaders: Fixed Editor crashing sometimes when importing shaders. ([UUM-42369](https://issuetracker.unity3d.com/issues/crash-on-dynamicheapallocator-allocate-during-importer-consistency-check))
    
*   SRP Core: Remove some unexpected SRP changed callback invocations. ([UUM-17548](https://issuetracker.unity3d.com/issues/reimport-of-vfx-assets-when-entering-slash-exiting-the-play-mode-everytime))
    
*   UI Toolkit: Fixed a deadlock when quitting WebGL Player when the code utilized System.ThreadPool. ([UUM-37728](https://issuetracker.unity3d.com/issues/changes-are-not-saved-when-changing-styles-orders-in-the-ui-builder))
    
*   UI Toolkit: Fixed an issue in the UI Builder that would cause an exception when using a CustomRenderTexture where a RenderTexture was expected. ([UUM-37729](https://issuetracker.unity3d.com/issues/argumentnullexception-value-cannot-be-null-error-is-thrown-when-selecting-a-visual-element-with-a-custom-render-texture-set-as-a-background))
    
*   UI Toolkit: Fixed EnumField that was not updating its displayed text when changing back from showMixedValue mode. ([UUM-41395](https://issuetracker.unity3d.com/issues/enumfield-remains-displayed-as-a-mixed-string-when-showmixedvalue-is-set-back-to-false-and-setvaluewithoutnotify-is-used))
    
*   Universal RP: Fixed data-driven lens-flare missing occlusion. ([UUM-31662](https://issuetracker.unity3d.com/issues/lens-flare-occlusion-effect-doesnt-work-when-the-camera-gameobject-is-behind-obstacles))
    
*   Universal RP: Fixed exception for missing \_Color Shader Property. (UUM-35520)
    
*   Version Control: Fixed an existing checkout operation has locked the workspace, triggered by saving the current scene at check-in.
    
*   Version Control: Fixed Unity Version Control toolbar icon disappearing.
    
*   Video: Fixed an issue to improve VP8Encoder compression and encoding speed. ([UUM-20744](https://issuetracker.unity3d.com/issues/the-video-import-size-is-too-big-when-using-vp8-codec))
    
*   Video: Fixed an issue where Video from Video Player was not updated immediately in the Edit Mode when changing its time in the Inspector window. ([UUM-32448](https://issuetracker.unity3d.com/issues/video-from-video-player-is-not-updated-immediately-in-the-edit-mode-when-changing-its-time-in-the-inspector-window))
    
*   Video: Fixed an issue where Video has a delay, random freezing, and speeding up when using VideoPlayer. ([UUM-31317](https://issuetracker.unity3d.com/issues/video-has-a-delay-random-freezing-and-speeding-up-when-using-videoplayer))
    
*   Video: Fixed an issue where Video Player Component caused performance degradation in WebGL Player when using "Linear" Color Space. ([UUM-32755](https://issuetracker.unity3d.com/issues/video-player-component-causes-performance-degradation-in-webgl-player-when-using-linear-color-space))
    
*   Visual Scripting: Fixed code for custom nodes being stripped in AOT builds when Managed Stripping Level is set to High. ([UVSB-2437](https://issuetracker.unity3d.com/issues/il2cpp-custom-visualscripting-unit-is-stripped-from-build-when-using-il2cpp-and-medium-or-high-managed-stripping))
    
*   Visual Scripting: Fixed migration deserialization bug introduced in 1.8.0. ([UVSB-2492](https://issuetracker.unity3d.com/issues/deserialization-error-when-upgrading-to-1-dot-8-0))
    
*   Web: Fixed an issue in WebGL's FMOD implementation that caused the console to be spammed with errors when using the PlayOneShot API. ([UUM-40643](https://issuetracker.unity3d.com/issues/webgl-fmod-errors-in-the-browser-console-when-audio-is-played-with-playoneshot-frequently))
    
*   WebGL: Fixed a bug where the application's background image wouldn't appear while loading if compression was enabled. ([UUM-8692](https://issuetracker.unity3d.com/issues/webgl-background-image-not-visible-on-the-loading-screen-when-loading-build-project))
    
*   Windows: Fixed a possible crash where non client area was redrawn before player was fully initialized. (UUM-43075)
    
*   XR: Updated XR Interaction Toolkit to version 2.4.1

### Known Issues in 2021.3.29f1

*   Asset Importers: Console displays warning about importing c4d files when a Scripted Importer for c4d files is implemented ([UUM-36242](https://issuetracker.unity3d.com/issues/console-displays-warning-about-importing-c4d-files-when-a-scripted-importer-for-c4d-files-is-implemented))
    
*   Asset Importers: OnImportAsset leaks 5GB of memory ([UUM-43067](https://issuetracker.unity3d.com/issues/onimportasset-leaks-5gb-of-memory))
    
*   HD RP: \[XR\] Editor crash entering play mode with terrain in the scene ([UUM-41447](https://issuetracker.unity3d.com/issues/xr-editor-crash-entering-play-mode-with-terrain-in-the-scene))
    
*   Input: Crash on InputDeviceIOCTL when closing Unity editor ([UUM-10774](https://issuetracker.unity3d.com/issues/crash-on-inputdeviceioctl-when-closing-unity-editor))
    
*   iOS: App freezes and the "You can attach a managed debugger now if you want" message doesn't show up when running the app on iOS devices with the "Wait For Managed Debugger" setting enabled ([UUM-39644](https://issuetracker.unity3d.com/issues/ios-app-freezes-and-the-you-can-attach-a-managed-debugger-now-if-you-want-message-doesnt-show-up-when-running-the-app-on-ios-devices-with-the-wait-for-managed-debugger-setting-enabled))
    
*   Linux: Crash on DisconnectGtkSignal(void_, GtkCallbackResponse (_)(), void\*) when going through microgame tutorials ([UUM-34847](https://issuetracker.unity3d.com/issues/linux-crash-on-disconnectgtksignal-void-star-gtkcallbackresponse-star-void-star-when-going-through-microgame-tutorials))
    
*   MacOS: Crash on objc\_msgSend when the Editor UI gets redrawn ([UUM-34202](https://issuetracker.unity3d.com/issues/macos-crash-on-objc-msgsend-when-ui-gets-redrawn))
    
*   MacOS: Fix for 2021.3.X: Editor silently crashes when entering Play Mode on macOS (UUM-37060)
    
*   Metal: \[iOS\] Rendering freezes when the orientation is changed ([UUM-9480](https://issuetracker.unity3d.com/issues/ios-rendering-freezes-when-the-orientation-is-changed))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Mono: \[Linux\] Crash on monoeg\_assert\_abort when a reload is caused ([UUM-36778](https://issuetracker.unity3d.com/issues/linux-crash-on-monoeg-assert-abort-when-a-reload-is-caused))
    
*   Platform Audio: \[WebGL\] A looping audio sounds different on WebGL than in the editor/native desktop player ([UUM-12530](https://issuetracker.unity3d.com/issues/webgl-a-looping-audio-sounds-different-on-webgl-than-in-the-editor-slash-native-desktop-player))
    
*   UI Toolkit Framework: Unity Editor is rendered without the toolbar icons when using it on old hardware with integrated GPU ([UUM-13134](https://issuetracker.unity3d.com/issues/unity-editor-is-rendered-without-the-toolbar-icons-when-using-it-on-old-hardware-with-integrated-gpu))
    
*   Universal RP: \[URP\]\[XR\] Performance degradation when comparing Android Quest 2 builds across 2020.3 and 2023.x ([UUM-33025](https://issuetracker.unity3d.com/issues/urp-xr-performance-degradation-when-comparing-android-quest-2-builds-across-2020-dot-3-and-2023-dot-x))
    
*   Vulkan: Editor exits when opening the Scene view window or selecting a material ([UUM-36647](https://issuetracker.unity3d.com/issues/editor-exits-when-opening-the-scene-view-window-or-selecting-a-material))
    

### 2021.3.29f1 Release Notes

#### Improvements

*   IL2CPP: MacOS arm64 builds of il2cpp & UnityLinker updated to target the net 6.0.18 runtime.

#### Changes

*   Package: Fixed a crash that could happen on Android.

#### Fixes

*   2D: Fixed Crash on RasterizeTri when clicking "Pack Preview" after packing an Asset into Sprite Atlas. ([UUM-18880](https://issuetracker.unity3d.com/issues/crash-on-rasterizetri-when-clicking-pack-preview-after-packing-an-asset-into-sprite-atlas))
    
*   Android: Fixed crash when using Optimized Frame Pacing combined with Vulkan native rendering plugins. ([UUM-36096](https://issuetracker.unity3d.com/issues/android-crash-when-using-vulkan-api-and-addinterceptinitialization-with-optimized-frame-pacing-enabled))
    
*   Asset Import: Fixed bug with BC7 texture encoding upon import crashing on older Penryn (Core 2 Duo) CPUs. (UUM-2508)
    
*   Asset Pipeline: Ensure all Accelerator cache downloads are used when importing using ParallelImport mode. ([UUM-39687](https://issuetracker.unity3d.com/issues/asset-artifact-downloaded-from-accelerator-but-the-asset-still-gets-reimported))
    
*   Asset Pipeline: Fixed an issue where mismatched (or corrupted) asset artifact IDs could cause a crash during project launch. ([UUM-27531](https://issuetracker.unity3d.com/issues/crash-on-findassetswithimportertypev2-when-opening-the-project))
    
*   Build System: Fixed pigz-mac-aarch64 artifact (previously was a linux binary instead). ([UUM-42368](https://issuetracker.unity3d.com/issues/pigz-mac-aarch64-slash-2-dot-6-9ff9290d6c66-dot-dot-dot-is-a-linux-binary))
    
*   Documentation: Updated docs to reflect how the engine works. ([UUM-18546](https://issuetracker.unity3d.com/issues/android-vulkan-android-vulkan-graphics-blit-provides-inconsistent-results))
    
*   Editor: AndroidJavaProxy correctly maps null variables (e.g empty string) for reflection search + automatic tests for AndroidJavaProxy. ([UUM-30243](https://issuetracker.unity3d.com/issues/android-androidjavaproxy-call-from-java-to-c-number-fails-when-any-string-parameter-is-null))
    
*   Editor: Append numbers to differentiate shortcut profiles with the default name "New profile". ([UUM-35742](https://issuetracker.unity3d.com/issues/shortcuts-user-gets-profile-already-exists-validation-during-default-profile-creation-workflow))
    
*   Editor: Disabled blitting to same texture error message when the destination texture is not used as input texture in specified pass in Graphics.Blit. ([UUM-33058](https://issuetracker.unity3d.com/issues/blit-material-hidden-slash-kronnect-slash-beautify-slash-beautify-uses-dest-texture-as-input-its-an-undefined-behaviour-consider-using-double-buffering-dot-is-thrown-when-a-blit-is-executed-in-an-image-effect))
    
*   Editor: Disabled probe volume in material preview. ([UUM-33506](https://issuetracker.unity3d.com/issues/material-is-not-rendered-properly-in-material-preview-when-probe-volumes-is-enabled))
    
*   Editor: Fixed "Busy Progress Delay" not saving the new value when clicking to other tabs in the Preferences window. ([UUM-35857](https://issuetracker.unity3d.com/issues/busy-progress-delay-does-not-save-when-directly-entering-a-value))
    
*   Editor: Fixed an issue where a UnityException ("Could not find the requested Platform Texture Settings. This is incorrect, did initialization fail?") would sometimes be thrown when inspecting multiple texture importers at the same time. ([UUM-15620](https://issuetracker.unity3d.com/issues/unityexception-could-not-find-the-requested-platform-texture-settings-is-thrown-when-multi-selecting-textures))
    
*   Editor: Fixed an issue where RFloat / RGFloat / RGBAFloat formats were not useable in the Texture Importer Inspector even though they already could be applied through, for example, an AssetPostprocessor. (UUM-35162)
    
*   Editor: Fixed an issue where users would sometimes be prompted to save their changes by the Texture Importer Inspector despite having not changed any of the importer settings. (UUM-19921)
    
*   Editor: Fixed build issue on Linux. (UUM-34956)
    
*   Editor: Fixed CPU usage not reducing when un-focusing editor if a tab is undocked. ([UUM-35177](https://issuetracker.unity3d.com/issues/editor-windows-cpu-usage-does-not-reduce-when-unfocusing-editor-if-a-tab-is-undocked))
    
*   Editor: Fixed createassetmenu attribute menu name with space won't work. ([UUM-35120](https://issuetracker.unity3d.com/issues/linux-createassetmenu-fails-the-creation-of-scriptableobject-when-menuname-variable-end-with-a-space-character))
    
*   Editor: Fixed for crash when disconnecting bluetooth audio device. (UUM-12583)
    
*   Editor: Fixed for freeze while dragging. ([UUM-41826](https://issuetracker.unity3d.com/issues/freeze-when-moving-the-first-gameobject-into-the-gap-below-the-scene-name))
    
*   Editor: Fixed modal windows are blank when opened. ([UUM-927](https://issuetracker.unity3d.com/issues/backport-macos-modal-window-is-blank-when-opened))
    
*   Editor: Fixed mouse and trackpad horizontal scrolling in the Windows Editor. ([UUM-35980](https://issuetracker.unity3d.com/issues/no-sideways-scroll-functionality-when-using-windows))
    
*   Editor: Fixed mouse cursor lock mode not working on linux. ([UUM-25736](https://issuetracker.unity3d.com/issues/linux-mouse-escapes-the-application-window-when-using-cursorlockmode-dot-locked))
    
*   Editor: Fixed nullref occurring when font references have not been initialized properly. (UUM-37504)
    
*   Editor: Fixed OnRectTransformDimensionsChange is not called on Undo. ([UUM-16963](https://issuetracker.unity3d.com/issues/onrecttransformdimensionschange-is-not-called-on-undo-in-prefab-variant))
    
*   Editor: Fixed PlayerPrefs API in case registry keys has been manually deleted. ([UUM-35575](https://issuetracker.unity3d.com/issues/playerprefsexception-could-not-store-preference-value-when-root-project-entry-does-not-exist))
    
*   Editor: Fixed Timeline performance problem when previewing animated prefab instances. ([UUM-28636](https://issuetracker.unity3d.com/issues/timeline-performance-problem-when-previewing-animated-prefab-instances))
    
*   Editor: Fixed UI Toolkit Debugger upward search with SHIFT+F3 on keyboard with Fn key. (UUM-40662)
    
*   Editor: Fixed xdg-open fallback. ([UUM-37536](https://issuetracker.unity3d.com/issues/linux-default-file-manager-is-not-opened-when-opening-containing-folder-with-nautilus-removed))
    
*   Editor: For URP and HDRP moved the Realtime GI CPU Usage setting to the Quality tab in Project Settings. ([UUM-28789](https://issuetracker.unity3d.com/issues/quality-settings-missing-cpu-usage-setting-users-unable-to-tune-realtime-gi-performance))
    
*   Editor: Ordered shortcut profiles to display alphabetically. ([UUM-34461](https://issuetracker.unity3d.com/issues/shortcuts-saved-profiles-are-not-grouped-alphabetically))
    
*   Editor: Prefab Documentation link fixed for the help button. ([UUM-36665](https://issuetracker.unity3d.com/issues/2d-sprite-and-palette-documentation-links-are-broken))
    
*   Editor: Re-enabled canvas UI overlay rendering to respect the render-target render-scale. (UUM-41127)
    
*   Editor: Switching to the Simulator view from the Game view will no longer change the Simulator view dimensions to be the same as the Game view. ([UUM-30110](https://issuetracker.unity3d.com/issues/the-simulator-view-becomes-fixed-on-the-same-resolution-as-the-game-view-when-its-opened-after-the-game-view))
    
*   Editor: This PR backports fix for a regression where Copy-pasting material properties between different materials throws exceptions. ([UUM-22634](https://issuetracker.unity3d.com/issues/copy-pasting-material-properties-between-different-materials-throws-exceptions))
    
*   Editor: Updated libcurl to 8.1.1. (UUM-29475)
    
*   GI: Backported a fix for a crash and an assertion. (UM-1368)
    
*   GI: EnlightenRuntimeManager methods are visible in the profiler in Play mode. ([UUM-29788](https://issuetracker.unity3d.com/issues/enlightenruntimemanager-methods-are-still-called-in-play-mode))
    
*   Graphics: Corrected UI behavior when selecting multiple lights of different types. ([UUM-36224](https://issuetracker.unity3d.com/issues/hdrp-a-minor-issue-with-shadow-resolution-label-when-multi-selecting-different-light))
    
*   Graphics: Fixed a couple of instances where GraphicsFormats would not correctly convert from Linear to SRGB / SRGB to Linear when using GraphicsFormatUtility.GetSRGBFormat / GraphicsFormatUtility.GetLinearFormat.
    
*   Graphics: Fixed a division-by-zero crash when attempting to use the region-based CopyTexture with depth-only RenderTextures. (UUM-29859)
    
*   Graphics: Fixed a scenario where combining Linear Project Color Space, DisplayP3, enabled Post-Processing and disabled HDR would provoke 'RenderTexture.Create failed' errors. ([UUM-3774](https://issuetracker.unity3d.com/issues/urp-rendertexture-dot-create-failed-thrown-with-linear-color-space-displayp3-gamut-post-processing-enabled-hdr-disabled))
    
*   Graphics: Fixed an issue where a "RenderTexture color format cannot be set to a depth/stencil format" error appeared when passing DefaultFormat.DepthStencil or DefaultFormat.Shadow to the DefaultFormat RenderTexture/CustomRenderTexture constructor. (UUM-11964)
    
*   Graphics: Fixed an issue where creating an sRGB texture using one of the TextureFormat constructors in gamma project color space would produce a texture with an incorrect "Texture.isDataSRGB" value (false). (UUM-29736)
    
*   Graphics: Fixed an issue where RenderTexture assets using Auto GraphicsFormats would sometimes not upgrade correctly if the depthStencilFormat was None, a D16\_UNorm fallback was missing. VideoAuto is now converted to YUV2 as well. (UUM-29430)
    
*   Graphics: Fixed an issue where RenderTexture.enableRandomWrite was not being serialized. (UUM-3769)
    
*   Graphics: Fixed an issue where SystemInfo.GetCompatibleFormat would return an incompatible format for certain depth-stencil formats + FormatUsage combinations. (UUM-3789)
    
*   Graphics: Fixed an issue where the RenderTextureDescriptor 'colorFormat' getter was not consistent with the RenderTexture 'format' getter and was incapable of determining the depth-related RenderTextureFormat when 'graphicsFormat' was 'None'. (UUM-29423)
    
*   Graphics: Fixed an issue where the RenderTextureFormat 'format' getter on AttachmentDescriptor would not return RenderTextureFormat.Depth when the 'graphicsFormat' was a depth-stencil format. (UUM-29423)
    
*   Graphics: Fixed an issue where, in some instances, specific GraphicsFormatUtility API such as "ConvertToAlphaFormat" or "HasAlphaChannel" were returning incorrect results for a number of TextureFormats. (UUM-35162)
    
*   Graphics: Fixed instances where the RenderTextureDescriptor sRGB setter would sometimes 'corrupt' or unintentionally modify the descriptor's GraphicsFormat. ([UUM-3774](https://issuetracker.unity3d.com/issues/urp-rendertexture-dot-create-failed-thrown-with-linear-color-space-displayp3-gamut-post-processing-enabled-hdr-disabled))
    
*   Graphics: Fixed mismatch mipcount error with double buffer and anti-aliasing on. ([UUM-30877](https://issuetracker.unity3d.com/issues/graphics-dot-copytexture-is-called-with-mismatching-mip-counts-when-anti-aliasing-is-used))
    
*   Graphics: Fixed shadow render issues on Built-in Render Pipeline when using Metal. ([UUM-3150](https://issuetracker.unity3d.com/issues/lighting-render-issues-when-using-metal-on-macos-with-ios-build-target))
    
*   Graphics: Graphics: Fixed loading of legacy Texture assets that were BC-compressed but didn't have multiple-of-four dimensions. ([UUM-19666](https://issuetracker.unity3d.com/issues/multiple-errors-appear-in-the-console-window-when-reimporting-a-scenetemplate-asset-that-contains-a-texture-with-width-slash-height-not-divisible-by-4))
    
*   Graphics: GraphicsFormat.None is now correctly permitted as a color format on all RenderTexture constructors, enabling the use of the new approach for creating depth-only RTs across all constructors (GraphicsFormat.None as a color format). (UUM-29440)
    
*   Graphics: Made Always/Vertex pass to be accepted by the ForwardRenderer loop and receive the main light's screenspace shadowmap. (UUM-36912)
    
*   HDRP: Added an helpbox for local custom pass volumes that doesn't have a collider attached. (UUM-35651)
    
*   HDRP: Fixed baked light being wrongly put in the cached shadow atlas. ([UUM-34189](https://issuetracker.unity3d.com/issues/baked-light-doesnt-fit-the-shadow-atlas-when-the-shadow-update-mode-is-set-to-on-enable))
    
*   HDRP: Fixed D3D validation error for area lights in HDShadowAtlas. (UUM-35804)
    
*   HDRP: Fixed inconsistent documentation about hardware supporting raytracing. (UUM-39577)
    
*   HDRP: Fixed scene template dependencies. ([UUM-36599](https://issuetracker.unity3d.com/issues/hdrp-new-scene-templates-duplicate-assets-when-saved))
    
*   HDRP: Fixed wrong metapass when using planar/triplanar projection in HDRP. (UUM-22089)
    
*   HDRP: Improving DLSS ghosting artifacts a little bit, by using a better pre-exposure parameter. Fixing reset history issues on DLSS camera cuts. (UUM-37205)
    
*   HDRP: Minor fix to HDRP UI when Raytraced AO is enabled. (UUM-35581)
    
*   HDRP: Show base color texture on decal materials if Affect BaseColor is disabled. ([UUM-29083](https://issuetracker.unity3d.com/issues/hdrp-basecolor-texture-on-decal-material-should-be-grayed-out-not-hidden-when-affect-basecolor-is-disabled))
    
*   IL2CPP: Fixed issue with Managed code stripping when inlining setters with a backing type located in a different assembly. ([UUM-30763](https://issuetracker.unity3d.com/issues/il2cpp-build-fails-when-inline-setter-optimization-is-used))
    
*   IL2CPP: Fixed static constructors on structs not being called before class to struct instance methods. ([UUM-39521](https://issuetracker.unity3d.com/issues/static-constructor-in-a-struct-returns-false-when-running-tests-with-il2cpp))
    
*   iOS: Fixed PlayerSettings.iOS.hideHomeButton not reading/modifying actual PlayerSettings. (UUM-31884)
    
*   License: Fixed performance issue in IPC comms under heavy thread load. ([UUM-35368](https://issuetracker.unity3d.com/issues/checklicensingclientnotification-ms-increases-overtime-when-profiling-in-editor-mode-on-the-main-thread))
    
*   Mono: Avoid an incorrect TypeLoadException when a generic type has a field which is a 2D array of itself. ([UUM-34854](https://issuetracker.unity3d.com/issues/typeloadexception-is-thrown-when-using-recursive-types-in-monobehaviour-inherited-classes))
    
*   Mono: Fixed crash when attempting to access a field of a null valuetype object. ([UUM-27537](https://issuetracker.unity3d.com/issues/crash-on-mono-gc-wbarrier-range-copy-when-loading-a-scene-async))
    
*   Mono: This fixes string initialization when creating a new string with the intention of all characters getting set to null. Removes the optimization that assumes the memory is clean. ([UUM-35559](https://issuetracker.unity3d.com/issues/random-string-values-are-printed-in-the-console-when-passing-a-new-string-object-initialized-with-multiple-slash-0-characters-to-the-debug-dot-log-function))
    
*   Networking: UnityWebRequest texture download will now create the texture with mipmaps. ([UUM-26628](https://issuetracker.unity3d.com/issues/no-mipmaps-are-created-when-using-unitywebrequesttexture-dot-gettexture))
    
*   Package Manager: Fixed an issue where the whole project directory was deleted when removing a package with a non-existent file path. ([UUM-36876](https://issuetracker.unity3d.com/issues/whole-project-directory-deleted-when-removing-a-package-with-a-non-existent-file-path))
    
*   Particles: Fixed incorrect simulation when using the Simulate Layers option on effects that contain non-looping sub-emitters. (UUM-40365)
    
*   Prefabs: Fixed "Prefab mismatch: The instance object in the scene is referencing a corresponding source object in the Prefab of a different type." thrown when applying added GameObject to a Prefab. ([UUM-36238](https://issuetracker.unity3d.com/issues/prefab-mismatch-the-instance-object-in-the-scene-is-referencing-a-corresponding-source-object-in-the-prefab-of-a-different-type-dot-thrown-when-applying-added-gameobject-to-a-prefab))
    
*   Prefabs: Fixed Property of VFX cant be modified when modifying a VFX Prefab. ([UUM-42790](https://issuetracker.unity3d.com/issues/2021-dot-3-property-of-vfx-cant-be-modified-when-modifying-vfx-prefab-asset))
    
*   Scripting: Scripting: Fixed performance regression on some API that take array parameters. ([UUM-38089](https://issuetracker.unity3d.com/issues/physics-dot-spherecastnonalloc-is-slow-when-the-results-array-is-large))
    
*   Serialization: Fixed Missing ScriptableObjects do not throw NullReferenceExceptions when accessing their properties in Play Mode. ([UUM-34447](https://issuetracker.unity3d.com/issues/missing-scriptableobjects-do-not-throw-nullreferenceexceptions-when-accessing-their-properties))
    
*   Serialization: Fixed where it is not possible to instantiate abstract class, which is happening in this case. The fix for editor crash is to make sure that the abstract StatusEffect class is not instantiated in SerializedReference fields. You can achieve this by either changing all the occurrences, or add \[MovedFrom(true, sourceClassName:"StatusEffect")\] attribute to StatusEffectComplex class. ([UUM-9218](https://issuetracker.unity3d.com/issues/editor-crashes-with-the-file-memorystream-is-corrupted-when-opening-a-scene))
    
*   Serialization: Make sure double-s are parsed correctly in MiniJSON ParseNumber. ([UUM-19166](https://issuetracker.unity3d.com/issues/small-values-are-turned-to-zeroes-when-copying-and-pasting-the-whole-list))
    
*   Serialization: When serializing empty managed object reference we are not adding the data node in the YAML, which is causing problems after some fields are added to the script and the YAML is being de-serialized. In this case, as there still is not any data node in the YAML, the deserialization process is not instantiating the managed object correctly. ([UUM-2258](https://issuetracker.unity3d.com/issues/changes-to-an-empty-serializereference-class-causes-data-errorswhen-selecting-a-previously-created-asset))
    
*   Shadergraph: Fixed Texture Size node causing compilation error in the Fullscreen ShaderGraph target. ([UUM-28758](https://issuetracker.unity3d.com/issues/the-invalid-subscript-texcoord2-error-appears-when-using-a-texturesize-node))
    
*   Shaders: Fixed canceling shader variant compilation not working when compilation was async. ([UUM-9826](https://issuetracker.unity3d.com/issues/cancel-button-wont-stop-shader-graph-from-compiling-user-is-unable-to-gain-control-of-the-editor))
    
*   Shaders: Fixed replacement shaders not picking up keywords enabled on the material that are not valid for the shader assigned to the material. ([UUM-40400](https://issuetracker.unity3d.com/issues/shader-keywords-are-ignored-when-using-camera-dot-main-dot-setreplacementshader))
    
*   SRP Core: Fixed console errors when debug actions are removed from Input Manager during play mode. ([UUM-37148](https://issuetracker.unity3d.com/issues/argumentexception-input-button-enable-debug-button-1-is-not-set-is-thrown-when-enable-debug-button-1-is-deleted))
    
*   SRP Core: Fixed Rendering Debugger runtime UI getting occluded by user UI with sorting order larger than 0. ([UUM-26782](https://issuetracker.unity3d.com/issues/canvas-is-rendered-on-the-top-of-a-urp-rendering-debugger-when-canvas-sort-order-is-greater-than-0))
    
*   UI: Fixed incorrect UV calculated on UI sprites when texture is a crunched-compressed format. ([UUM-40544](https://issuetracker.unity3d.com/issues/textures-are-displayed-at-half-the-size-when-texture-mipmap-limit-is-set-to-half-resolution))
    
*   UI Toolkit: Fixed an exception when calling RemoveFromHierarchy during detatchFromPanel events. ([UUM-36627](https://issuetracker.unity3d.com/issues/nullreferenceexception-exception-when-removefromhierarchy-method-is-called))
    
*   Universal RP: Removed a Debug.Log line in Blitter.
    
*   Universal Windows Platform: Fixed use of ReadOnlyAttribute in certain managed plugin scenario. ([UUM-39921](https://issuetracker.unity3d.com/issues/error-il2cpp-error-no-further-information-about-what-managed-code-was-being-converted-is-available-thrown-when-building-the-project-for-uwp))
    
*   URP: 2D - Fix additional draw call when Foremost Sorting Layer is enabled during unlit. ([UUM-37441](https://issuetracker.unity3d.com/issues/2d-urp-objects-are-rendered-twice-when-foremost-sorting-layer-is-enabled))
    
*   VFX Graph: Filter out META passes from SG generated shaders. ([UUM-30050](https://issuetracker.unity3d.com/issues/applymeshmodification-no-matching-2-parameter-function-shader-error-when-vfx-uses-custom-output-shaders))
    
*   VFX Graph: Fixed bounds reduction shader compilation on DXC. (UUM-6058)
    
*   VFX Graph: Fixed HDRP Decal Output when system is in world space. (UUM-41091)
    
*   VFX Graph: Fixed mesh LOD flickering when using TAA. ([UUM-10073](https://issuetracker.unity3d.com/issues/lod-groups-flicker-in-scene-view-when-always-refresh-is-on))
    
*   VFX Graph: Fixed mismatching LOD between eyes in multi-pass VR. (UUM-6004)
    
*   VFX Graph: Fixed particles not rendering when sorting is enabled and no update context is present. ([UUM-35121](https://issuetracker.unity3d.com/issues/vfx-graph-alpha-blended-particles-do-not-render-when-there-is-no-update-context))
    
*   VFX Graph: Fixed sorting being disabled when Frustum Culling is On is some case. ([UUM-40707](https://issuetracker.unity3d.com/issues/particles-flicker-when-compute-culling-is-off-and-frustum-culling-is-on))
    
*   VFX Graph: Forces positive color values in graph. ([UUM-20076](https://issuetracker.unity3d.com/issues/vfx-graph-output-mesh-having-negative-base-color-channel-results-in-black-screen))
    
*   VFX Graph: Prevent overflow on baked curve and gradient. ([UUM-560](https://issuetracker.unity3d.com/issues/vfx-graph-gradient-node-intensifies-color-on-particle-emissions-excessively-when-connected-to-random-number-node))
    
*   VFX Graph: Replace default mesh output shader to be SRP compatible. (UUM-4363)
    
*   VFX Graph: Restore some tooltips that were lost. (UUM-18536)
    
*   Video: \[WebPlatform\] Forwarding video, moves to start on Mac OS Chrome browser when "Build and Run". ([UUM-3214](https://issuetracker.unity3d.com/issues/webplatform-forwarding-video-moves-to-start-on-mac-os-chrome-browser-when-build-and-run))
    
*   WebGL: Moved BrowserifyJSTool to the WebGL area since its only used by the WebGL build. (UUM-34020)
    
*   Windows: Fixed for preserving escaped double quote in a quoted command line argument. (UUM-36789)
    
*   Windows: Fixed PlayerPrefs API in case registry keys has been manually deleted. ([UUM-35575](https://issuetracker.unity3d.com/issues/playerprefsexception-could-not-store-preference-value-when-root-project-entry-does-not-exist))
    
*   XR: XR: Fixed an issue with XR Input -> Input System that caused Input System's TrackedPoseDriver rotation to drift between Update / BeforeRender calls.

### Known Issues in 2021.3.28f1

*   HD RP: \[XR\] Editor crash entering play mode with terrain in the scene ([UUM-41447](https://issuetracker.unity3d.com/issues/xr-editor-crash-entering-play-mode-with-terrain-in-the-scene))
    
*   Input: Crash on InputDeviceIOCTL when closing Unity editor ([UUM-10774](https://issuetracker.unity3d.com/issues/crash-on-inputdeviceioctl-when-closing-unity-editor))
    
*   iOS: App freezes and the "You can attach a managed debugger now if you want” message doesn’t show up when running the app on iOS devices with the "Wait For Managed Debugger" setting enabled ([UUM-39644](https://issuetracker.unity3d.com/issues/ios-app-freezes-and-the-you-can-attach-a-managed-debugger-now-if-you-want-message-doesnt-show-up-when-running-the-app-on-ios-devices-with-the-wait-for-managed-debugger-setting-enabled))
    
*   Linux: Crash on DisconnectGtkSignal(void_, GtkCallbackResponse (_)(), void\*) when going through microgame tutorials ([UUM-34847](https://issuetracker.unity3d.com/issues/linux-crash-on-disconnectgtksignal-void-star-gtkcallbackresponse-star-void-star-when-going-through-microgame-tutorials))
    
*   MacOS: Crash on objc\_msgSend when the Editor UI gets redrawn ([UUM-34202](https://issuetracker.unity3d.com/issues/macos-crash-on-objc-msgsend-when-ui-gets-redrawn))
    
*   MacOS: Fix for 2021.3.X: Editor silently crashes when entering Play Mode on macOS (UUM-37060)
    
*   Metal: \[iOS\] Rendering freezes when the orientation is changed ([UUM-9480](https://issuetracker.unity3d.com/issues/ios-rendering-freezes-when-the-orientation-is-changed))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Platform Audio: \[WebGL\] A looping audio sounds different on WebGL than in the editor/native desktop player ([UUM-12530](https://issuetracker.unity3d.com/issues/webgl-a-looping-audio-sounds-different-on-webgl-than-in-the-editor-slash-native-desktop-player))
    
*   Project Browser: Project Browser shows package resources when package visibility is disabled ([UUM-32517](https://issuetracker.unity3d.com/issues/project-browser-shows-package-resources-when-package-visibility-is-disabled))
    
*   Universal RP: \[URP\]\[XR\] Performance degradation when comparing Android Quest 2 builds across 2020.3 and 2023.x ([UUM-33025](https://issuetracker.unity3d.com/issues/urp-xr-performance-degradation-when-comparing-android-quest-2-builds-across-2020-dot-3-and-2023-dot-x))
    
*   Vulkan: Editor exits when opening the Scene view window or selecting a material ([UUM-36647](https://issuetracker.unity3d.com/issues/editor-exits-when-opening-the-scene-view-window-or-selecting-a-material))
    

### 2021.3.28f1 Release Notes

#### Improvements

*   Documentation: Improved the documentation for the NonSerialized attribute to indicate that the attribute is necessary if you really never want a (private) field to be serialized.
    
*   Editor: Animation Events are now organized into sub-menus in the inspector.
    
*   Editor: The "Non-Power of 2" control is now hidden for Cubemaps in the Texture Importer Inspector because it is not used for Cubemaps. ([UUM-1882](https://issuetracker.unity3d.com/issues/mapping-option-is-disabled-when-importing-an-image-as-a-point-light-cookie-with-non-power-of-2-option-set-to-none))
    
*   Multiplayer: Added Netcode for GameObjects 1.5.0.
    
*   VFX Graph: Allows texture types to be used in branch operators. ([UUM-38037](https://issuetracker.unity3d.com/issues/vfx-graph-branch-node-does-not-accept-texture-input))
    
*   VFX Graph: VFX systems receiving GPU events can now go into sleep state.
    

#### Changes

*   Build Pipeline: Will now use -filelist when running libtool for MacOS/iOS builds to prevent command lines from becoming too long. (UUM-34555)
    
*   Package: Updated code coverage package to version 1.2.4.
    
*   Services: Rebranded Unity Cloud Build service to Build Automation.
    
*   XR: Updated com.unity.xr.openxr package version to 1.8.0.
    
*   XR: Updated com.unity.xr.openxr package version to 1.8.1.
    

#### Fixes

*   2D: Fixed bug with placement of the Tilemap Instantiated Object when the Tilemap orientation is set. (UUM-36433)
    
*   2D: Fixed case where sprite Packer does not re-pack folder when texture type is changed to sprite when inside a target folder. ([UUM-34323](https://issuetracker.unity3d.com/issues/sprite-atlas-v2-sprite-packer-does-not-re-pack-folder-when-texture-type-is-changed-to-sprite-when-inside-a-target-folder))
    
*   Android: Fixed crash when creating pipeline objects for some URP Lit shader on some older Adreno drivers. ([UUM-29409](https://issuetracker.unity3d.com/issues/android-vulkan-urp-and-built-in-both-crash-when-using-mtr-with-vulkan-on-some-devices))
    
*   Android: Fixed errors on new InputSystem when using mouse clicks on Samsung Dex. ([UUM-19038](https://issuetracker.unity3d.com/issues/android-uitoolkit-buttons-cant-be-clicked-with-a-cursor-in-samsung-dex-when-using-eventsystem))
    
*   Android: Fixed R8 mapping output and enforced use of R8 for targetSDK 33 and above. ([UUM-889](https://issuetracker.unity3d.com/issues/android-invalid-retrace-mapping-file-is-generated-when-using-r8-for-minification-1))
    
*   Android: Fixed Unity allocator crash when forcing -systemallocator on ARM64 with Android 10/11 or higher. (UUM-40105)
    
*   Android: Updated that the text inputfield to appear and disappear with the "Enter" key. ([UUM-30811](https://issuetracker.unity3d.com/issues/android-text-input-field-doesnt-disappear-when-pressing-enter-on-the-keyboard-connected-to-a-device-and-hidemobileinput-is-disabled))
    
*   Asset Bundles: Added error message when loading bundle without typetrees in the Editor. ([UUM-660](https://issuetracker.unity3d.com/issues/assetbundle-dot-loadfromfileasync-causes-errors-when-bundles-are-built-using-disablewritetypetree))
    
*   Build Pipeline: Fixed edge case where using the BuildPipeline.BuildPlayer APIs on Windows can fail, when a previously used build folder has been deleted. ([UUM-30952](https://issuetracker.unity3d.com/issues/buildpipeline-dot-buildplayer-ignores-buildplayeroptions-dot-locationpathname-and-attempts-to-build-to-the-cached-folder))
    
*   Build Pipeline: Fixed incorrect dependencies appear after building AssetBundles with Prefab Variants. ([UUM-20038](https://issuetracker.unity3d.com/issues/incorrect-dependancies-appear-after-building-assetbundles))
    
*   Build Pipeline: Fixed renaming Prefab Objects leads to wrong Asset Bundle dependency when the Prefab is nested. ([UUM-639](https://issuetracker.unity3d.com/issues/renaming-prefab-objects-leads-to-wrong-asset-bundle-dependency-when-the-prefab-is-nested))
    
*   Build Pipeline: Fixed Shader references are lost when building assets with BuildPipeline.BuildAssetBundles. ([UUM-2259](https://issuetracker.unity3d.com/issues/shader-references-are-lost-when-building-assets-with-buildpipeline-dot-buildassetbundles))
    
*   Burst: Fixed incorrect Burst stacktraces in Windows player builds. (UUM-33695)
    
*   Editor: AdbProvider doesn't add errors when displayed in the Project tab. ([UUM-32810](https://issuetracker.unity3d.com/issues/search-reference-filter-creates-unknown-filter-name-error-message-in-menu))
    
*   Editor: Added Bee build recipes for LAME and Vorbis encoders.  
    Fix LAME vulnerability CVE-2017-8419. (UUM-14404)
    
*   Editor: Added more validation when saving scene template (handled outside project). Also allows saving inside a package folders. ([UUM-30708](https://issuetracker.unity3d.com/issues/couldnt-create-asset-file-error-message-and-exception-when-creating-template-scene-asset-outside-assets-folder))
    
*   Editor: Added try/catch when calling custom indexers so they cannot crash the whole indexing process. ([UUM-27948](https://issuetracker.unity3d.com/issues/search-window-doesnt-show-any-project-assets))
    
*   Editor: Avoid quadratic indexing time when indexing scenes with prefabs. ([UUM-16085](https://issuetracker.unity3d.com/issues/search-index-build-duration-raises-disproportionately-when-element-count-increases))
    
*   Editor: Changed search result count label color to be more clear when selected and hovered. ([UUM-32515](https://issuetracker.unity3d.com/issues/search-search-results-amount-is-poorly-visible-when-editor-is-in-light-mode))
    
*   Editor: Component Help button tooltip are generated with a nicify type name. ([UUM-37612](https://issuetracker.unity3d.com/issues/inspector-help-tooltips-display-section-titles-from-several-words-without-the-spaces))
    
*   Editor: Custom indexers are properly refreshed on Domain reload. ([UUM-35650](https://issuetracker.unity3d.com/issues/indexes-are-rebuilt-when-changes-to-the-search-index-manager-options-are-saved))
    
*   Editor: Do not allow to add the same column twice. ([UUM-36007](https://issuetracker.unity3d.com/issues/search-the-same-columns-can-be-added-multiple-times))
    
*   Editor: Ensure ModeService does a EnumerateAllAssets once (in startup) and never again during domain reload. (UUM-37521)
    
*   Editor: Fixed a case where an object change event for object destruction would not contain a valid parent instance id. ([UUM-40341](https://issuetracker.unity3d.com/issues/using-undo-on-created-slash-duplicated-child-gameobject-does-not-return-id-of-previous-parent-gameobject))
    
*   Editor: Fixed an issue that caused some packages to remain visible in the Project Window when the visibility button was toggled. ([UUM-35156](https://issuetracker.unity3d.com/issues/pre-installed-2d-packages-are-not-hidden-when-the-visibility-toggle-is-clicked-in-the-project-window))
    
*   Editor: Fixed an issue that caused the assets of some packages to remain visible in the Object Picker when the visibility button in the Project Window was toggled. ([UUM-21308](https://issuetracker.unity3d.com/issues/object-picker-lists-assets-from-packages-when-packages-assets-visibility-is-set-to-hidden))
    
*   Editor: Fixed an issue where dragging an asset from the Packages folder to an empty Assets folder could cause a crash. ([UUM-39919](https://issuetracker.unity3d.com/issues/project-silently-crashes-when-dragging-files-from-the-packages-folder-into-the-assets-folder))
    
*   Editor: Fixed an issue where the Cubemap "Mapping" control in the Texture Importer Inspector would incorrectly be disabled in certain scenarios. ([UUM-1882](https://issuetracker.unity3d.com/issues/mapping-option-is-disabled-when-importing-an-image-as-a-point-light-cookie-with-non-power-of-2-option-set-to-none))
    
*   Editor: Fixed Column naming in Edit Column menu. ([UUM-32469](https://issuetracker.unity3d.com/issues/search-column-actions-are-displayed-in-code-strings-edit-m-activequeryguid-not-in-human-language))
    
*   Editor: Fixed context menu items not being enabled in modal windows on MacOS Editor. (UUM-20747)
    
*   Editor: Fixed crash when calling EditorUtility.UnloadUnusedAssetsImmediate(false). ([UUM-11648](https://issuetracker.unity3d.com/issues/editor-crashes-when-editorutility-dot-unloadunusedassetsimmediate-is-called))
    
*   Editor: Fixed EditorBuildRules.GetAllScriptAssemblies scales poorly on large projects. (UUM-35879)
    
*   Editor: Fixed for editor freeze on macOS. ([UUM-30173](https://issuetracker.unity3d.com/issues/macos-editor-freezes-when-saving-prefab-changes-in-play-mode-if-vsync-is-enabled))
    
*   Editor: Fixed hover and tooltip of Scene Template Pipeline help button. ([UUM-37542](https://issuetracker.unity3d.com/issues/inspector-scene-template-asset-help-icon-doesnt-change-its-background-and-has-no-tooltip-on-hover-state))
    
*   Editor: Fixed issues with missing realtime GI when mixing realtime GI Light Probes and baked GI Light Probes in Auto Generate Lighting mode. (UUM-20639)
    
*   Editor: Fixed meshes from 2019 LTS and older being upgraded to use an incorrect "Margin Method" setting for Lightmap UV generation. (UUM-37456)
    
*   Editor: Fixed resize minimum size on undocked window. ([UUM-36103](https://issuetracker.unity3d.com/issues/linux-editor-windows-can-get-infinitely-smaller-when-resizing-them))
    
*   Editor: Fixed scrollbar in scene template dialog. ([UUM-35878](https://issuetracker.unity3d.com/issues/scene-template-the-scrollbar-is-not-fully-displayed-in-the-window))
    
*   Editor: Fixed the problem of selectedPlatform being serialized in ProjectSettings.asset. ([UUM-28332](https://issuetracker.unity3d.com/issues/project-settings-window-serializing-the-built-platform-in-projectsettings-dot-asset))
    
*   Editor: Fixed title show the major, minor and version build. ([UUM-26695](https://issuetracker.unity3d.com/issues/full-editor-version-is-not-displayed-in-the-toolbar))
    
*   Editor: Fixed tool gizmos clipping in cases where adjacent objects are separated by large distances on the z axis. ([UUM-34638](https://issuetracker.unity3d.com/issues/gameobjects-are-not-being-rendered-in-the-scene-view-when-their-z-position-is-negative))
    
*   Editor: Improved warning message when trying to save a SceneTemplate with an invalid asset path. ([UUM-31433](https://issuetracker.unity3d.com/issues/console-displays-error-unityexception-creating-asset-at-path-assets-slash-scenes-slash-scenetemplate-failed-dot-during-scene-template-saving))
    
*   Editor: Prevent particle system buffer pre-mapping in editor if RenderDoc is present. ([UUM-32787](https://issuetracker.unity3d.com/issues/renderdoc-fails-to-capture-game-window-when-particle-system-is-used))
    
*   Editor: Updating outdated and broken links in the Help toolbar for Unity Discussions (old Unity Answers) & Unity Feedback. (UUM-40354)
    
*   GI: Fixed crash on Mac M1 when attempting to bake a reflection probe in URP. ([UUM-1370](https://issuetracker.unity3d.com/issues/silent-crash-when-attempting-to-bake-a-reflection-probe-in-urp))
    
*   GI: Fixed Light Probe occlusion when using GPU Lightmapper and many light probe positions. ([UUM-4179](https://issuetracker.unity3d.com/issues/light-probe-visualization-occlusion-is-not-smooth-when-using-the-progressive-gpu-lightmapper-and-the-scene-has-many-light-probes))
    
*   GI: Fixed off-by-one error in version number used for margin method upgrade path. ([UUM-40721](https://issuetracker.unity3d.com/issues/enter-the-room-test-scene-is-noisier))
    
*   Graphics: Avoid false warnings about RenderTexture format when switching colorspace. (UUM-6770)
    
*   Graphics: Fixed CustomRenderTexture depth test results failing on some platforms. ([UUM-1839](https://issuetracker.unity3d.com/issues/textures-using-customrendertexture-are-not-rendered-when-using-specific-graphics-apis))
    
*   Graphics: Fixed Light movement and artifacts when multiple vertex lights are interacting. ([UUM-36457](https://issuetracker.unity3d.com/issues/light-movement-and-artifacts-when-multiple-vertex-lights-are-interacting))
    
*   Graphics: Graphics: Fixed solid color block artifacts when compressing textures using Fast ASTC on M1 devices. ([UUM-3148](https://issuetracker.unity3d.com/issues/m1-texture-with-compressed-astc-format-using-fast-compressor-quality-causes-black-artifacts-on-texture))
    
*   Graphics: SUCCEEDED(hr) error is thrown when the project's Shadows Filtering Quality is set to High or Very High. ([UUM-37088](https://issuetracker.unity3d.com/issues/hdrp-succeeded-hr-error-is-thrown-when-the-projects-shadows-filtering-quality-is-set-to-high-or-very-high-1))
    
*   HDRP: Added check to ensure gismos arent rendered when they shouldnt be. ([UUM-22315](https://issuetracker.unity3d.com/issues/gizmos-are-visible-when-disabled-in-wireframe-shading-mode-with-hdrp))
    
*   HDRP: Fixed color pyramid history buffer logic when history is reset and the color pyramid is not required. ([UUM-36095](https://issuetracker.unity3d.com/issues/indexoutofrangeexception-error-is-thrown-when-entering-play-mode-while-allow-dlss-refraction-and-distortion-are-selected-in-the-camera-component))
    
*   HDRP: Fixed GetScaledSize when not using scaling. (UUM-34513)
    
*   HDRP: Fixed TAA aliasing edge issues on alpha output for recorder / green screen. This fix does the following:  
    
    *   Removes history rejection when the current alpha value is 0. Instead it does blend with the history color when alpha value is 0 on the current plane.  
        
    *   The reasoning for blending again with the history when alpha is 0 is because we want the color to blend a bit with opacity, which is the main reason for the alpha values. sort of like a precomputed color  
        
    *   As a safety, we set the color to black if alpha is 0. This results in better image quality when alpha is enabled. ([UUM-33950](https://issuetracker.unity3d.com/issues/anti-aliasing-around-objects-results-in-outlines-when-recording-against-a-background))
*   HDRP: Fixed VT init to avoid RTHandle allocation outside of HDRP rendering loop. (UUM-31058)
    
*   HDRP: \[Backport\] Fix the incorrect base color of decals for transparency. (UUM-38038)
    
*   IL2CPP: Fixed LineNumberMapping.json not ending up in exported projects when --emit-source-mapping is used. ([UUM-29964](https://issuetracker.unity3d.com/issues/il2cpp-no-c-number-to-c-plus-plus-line-mapping-json-file-present-when-exporting-android-project))
    
*   IL2CPP: When P/Invoking with a blittable class parameter, pass a pinned pointer to the managed class to native. ([UUM-33942](https://issuetracker.unity3d.com/issues/blittable-classes-are-not-being-pinned-and-passed-directly-to-the-native-code-when-using-il2cpp-scripting-backend))
    
*   iOS: Fixed "Screen.orientation" is not changing orientation in the UaaL. ([UUM-30925](https://issuetracker.unity3d.com/issues/uaal-screen-dot-orientation-is-not-changing-orientation-in-the-uaal-example-on-an-ios-device))
    
*   iOS: Fixed assert error in iOS.Device.systemVersion and tvOS.Device.systemVersion. Also make there properties only return values on respective OSes. (UUM-16561)
    
*   iOS: Fixed BuildCanBeAppended returning Unsupported when used on Windows. ([UUM-25061](https://issuetracker.unity3d.com/issues/buildcanbeappended-for-ios-returns-unsupported-when-used-on-windows))
    
*   iOS: Fixed leak error messages for iOS build and run process on MacOS editor. ([UUM-1944](https://issuetracker.unity3d.com/issues/backport-ios-unfreed-allocation-errors-thrown-in-console-when-executing-build-and-run-with-ios-platform))
    
*   iOS: Fixed low memory usage event not triggered when using Unity as a library. ([UUM-20838](https://issuetracker.unity3d.com/issues/ios-application-dot-lowmemory-callback-is-not-invoked-on-ios-devices-when-a-memory-overflow-occurs-if-using-unity-as-a-library-embedded-into-a-native-swift-ios-application))
    
*   iOS: Fixed Screen.orientation not changing value when only landscape orientations are enabled and device is rotated. ([UUM-36598](https://issuetracker.unity3d.com/issues/ios-screen-dot-orientation-prints-landscape-when-phone-orientation-is-landscape-dot-left-or-landscape-dot-right))
    
*   iOS: Fixed Screen.orientation returns wrong values when switching from Landscape orientation to AutoRotation at runtime on iOS 16. ([UUM-23251](https://issuetracker.unity3d.com/issues/ios-screen-dot-orientation-returns-wrong-values-when-switching-from-landscape-orientation-to-autorotation-at-runtime-on-ios-16))
    
*   Linux: Fixed Unity Editor does not send exit code until Bug Reporter is closed. (UUM-34630)
    
*   Linux: Fixed Unity runtime printing stack trace more than once in Entities package + IL2CPP crashes. ([UUM-35527](https://issuetracker.unity3d.com/issues/entities-linux-il2cpp-player-crash-stack-trace-is-displayed-multiple-times-when-the-build-is-run-with-batchmode-nographics-arguments))
    
*   macOS: Fixed BuildCanBeAppended returning Unsupported when used on Windows. ([UUM-25061](https://issuetracker.unity3d.com/issues/buildcanbeappended-for-ios-returns-unsupported-when-used-on-windows))
    
*   macOS: Fixed editor freezes on Apple Silicon devices. ([UUM-3768](https://issuetracker.unity3d.com/issues/m1-editor-slash-player-freezes-when-calling-getnativetextureptr))
    
*   Mono: Corrected handle generic parameter attributes in the .Net Framework Api Compatibility Level. ([UUM-32896](https://issuetracker.unity3d.com/issues/error-in-the-console-when-switching-the-api-compatibility-level-and-using-iasyncenumerable))
    
*   Package Manager: Fixed a bug where removing an invalid local package would delete your project folder. ([UUM-36876](https://issuetracker.unity3d.com/issues/whole-project-directory-deleted-when-removing-a-package-with-a-non-existent-file-path))
    
*   Package Manager: Fixed null Exception when manually installing com.unity.ui.builder. ([UUM-39890](https://issuetracker.unity3d.com/issues/nullreferenceexception-manually-installing-ui-builder-package-from-package-manager-window))
    
*   Particles: Fixed potential crash when using systems relying on GeometryJobs. ([UUM-36872](https://issuetracker.unity3d.com/issues/editor-crashes-on-bufferd3d11-endwrite-when-hierarchy-filter-gives-zero-results-on-a-scene-with-a-custom-ui-prefab))
    
*   Prefabs: Fixed PrefabModificationsForSerializedObject::DoPrefabModificationsNeedUpdate() is unnecessarily slow. (UUM-40630)
    
*   Profiler: Fixed invalid time reported by ProlfierRecorder for Main Thread root marker. ([UUM-35959](https://issuetracker.unity3d.com/issues/profilerrecorder-render-thread-statistic-reports-the-lastvalue-as-0-when-the-profiler-is-enabled))
    
*   Serialization: Memory could get corrupted when attempting to deserialize a JSON to an Array. As this is not supported by JsonUtility, this will now throw an ArgumentException. ([UUM-34344](https://issuetracker.unity3d.com/issues/crash-on-mono-traverse-objects-when-entering-and-exiting-play-mode))
    
*   Services: Fixed Unity Cloud Build service broken links.
    
*   Shaders: Fixed "state comes from an incompatible keyword space" error sometimes shown in the console when loading certain shaders. ([UUM-36032](https://issuetracker.unity3d.com/issues/state-comes-from-an-incompatible-keyword-space-error-in-console))
    
*   Shaders: Fixed corruption of AuxIndexCache when setting a TextureProperty on ShaderPropertySheet. (UUM-34732)
    
*   Shaders: Fixed interpolator parameter GLSL generated code for EVAL\_SAMPLE\_INDEX, EVAL\_SNAPPED, EVAL\_CENTROID. (UUM-35468)
    
*   SRP Core: Crash on keywords::LocalKeywordState::ResetWithSpace when shader contains Grab Pass. ([UUM-30548](https://issuetracker.unity3d.com/issues/crash-on-keywords-localkeywordstate-resetwithspace-when-opening-a-specific-project))
    
*   TextCore: Fixed issue where sprites used incorrect indexes. ([UUM-30797](https://issuetracker.unity3d.com/issues/sprites-with-different-indexes-than-indicated-in-text-field-of-label-inspector-are-being-rendered))
    
*   uGUI: Slider Component Normal Color property does not change in Scene and Game view when changed with an Animation. ([UUM-34170](https://issuetracker.unity3d.com/issues/slider-component-normal-color-property-does-not-change-in-scene-and-game-view-when-changed-with-an-animation))
    
*   UI Toolkit: Fixed missing Length conversions for style transitions between px and % units. ([UUM-21277](https://issuetracker.unity3d.com/issues/ui-transition-animation-does-not-work-when-translating-with-percentages-instead-of-pixels))
    
*   UI Toolkit: Fixed runtime navigation issues in TextField and composite fields, sometimes not entering text editing mode, or inserting undesired characters when doing so, or not allowing navigation to other elements. ([UUM-20841](https://issuetracker.unity3d.com/issues/textfield-cannot-be-focused-when-the-input-system-event-system-script-is-being-used))
    
*   UI Toolkit: Fixed the flag value not being updated with change of selection for unsigned int in enum mask field. (UUM-3688)
    
*   UI Toolkit: Fixed UI Toolkit not rendering in render texture when launched in batch mode. ([UUM-26763](https://issuetracker.unity3d.com/issues/ui-toolkit-is-not-rendered-when-the-player-is-launched-in-batch-mode))
    
*   Universal RP: Fixed an issue where keywords used with SSAO and Decals were not stripped correctly when the features were disabled. ([UUM-18616](https://issuetracker.unity3d.com/issues/linux-player-scene-is-darker-than-in-game-view-when-ssao-is-disabled))
    
*   Universal RP: Fixed lens-flare post-process effect on overlay camera causing a black screen. ([UUM-36538](https://issuetracker.unity3d.com/issues/game-view-is-black-when-using-lens-flare-and-camera-stacking))
    
*   Universal RP: Fixed rare iOS shader building failure due to URP Lit Forward Pass shader varyings struct variable mismatch. ([UUM-1916](https://issuetracker.unity3d.com/issues/ios-metal-shader-error-is-thrown-when-loading-prefab-on-ios-device))
    
*   Universal RP: Universal RP: Decals now do not enqueue passes when running on unsupported API's, such as OpenGL or GLES3, instead of displaying the magenta error. (UUM-13183)
    
*   Universal Windows Platform: Capabilities are not changed when rebuilding the project. ([UUM-39725](https://issuetracker.unity3d.com/issues/uwp-capabilities-are-not-changed-when-rebuilding-the-project))
    
*   URP: 2D - Remove serialization and cache vertices and indices for sprite lights causing bloat in prefabs. ([UUM-33700](https://issuetracker.unity3d.com/issues/large-prefab-size-when-it-contains-urp-light2d-field-overrides))
    
*   URP: Fixed redundant blit is used due to postFX, although it is disabled in rendererData. ([UUM-31474](https://issuetracker.unity3d.com/issues/quest-urp-enabling-post-processing-on-a-camera-when-its-disabled-on-the-urp-settings-forces-rendering-into-an-intermediate-texture))
    
*   URP: Fixed ShaderGraph preview window not showing anything when using DepthNormals pass. ([UUM-31643](https://issuetracker.unity3d.com/issues/shader-graph-editor-main-preview-window-is-blank))
    
*   VFX Graph: Fixed a potential crash with particle strips. ([UUM-36762](https://issuetracker.unity3d.com/issues/editor-crashes-on-vfxparticlesystembatchdata-copydeadlistcount-when-opening-the-project))
    
*   VFX Graph: Fixed an editor only memory leak with VFX Graph objects.
    
*   VFX Graph: Fixed VFX assets being considered modified after creation. ([UUM-35056](https://issuetracker.unity3d.com/issues/asterisk-is-displayed-near-a-newly-created-vfx-graphs-name-when-in-reality-no-changes-have-been-made))
    
*   WebGL: Fixed a missing backslash in WebGL system info user agent regex that triggered a JS linter. (UUM-34348)
    
*   WebGL: Fixed an issue where C++ function names would not be properly generated in the output symbols.json file. ([UUM-28034](https://issuetracker.unity3d.com/issues/incorrect-functions-in-the-dot-symbols-dot-json-file-when-building-for-webgl))
    
*   Windows: Fixed a bug with multi-channel audio input on Windows. If we tried to capture from a microphone with more than 2 channels, Microphone.Start would fail and an "Unsupported file or audio format" error would appear in the console. (UUM-26565)
    
*   Windows: Numpad Equals can now be registered with the Input System. ([UUM-15023](https://issuetracker.unity3d.com/issues/numpad-equals-key-is-not-recognised-correctly-or-not-recognised-at-all))
    
*   XR: Updated XR Hands Package to v1.2.0.
    
*   XR: Updated XR Hands Package to v1.2.1.
    
*   XR: Updated XR Interaction Toolkit Package to v2.4.0-pre.2.
    
*   XR: Updated XR Interaction Toolkit Package to v2.4.1-pre.1.
    
*   XR: Updated XR Interaction Toolkit to 2.4.0.

### Known Issues in 2021.3.27f1

*   Graphics Device Features: \[URP\]\[XR\] Performance degradation when comparing Android Quest 2 builds across 2020.3 and 2023.x ([UUM-33025](https://issuetracker.unity3d.com/issues/urp-xr-performance-degradation-when-comparing-android-quest-2-builds-across-2020-dot-3-and-2023-dot-x))
    
*   Input: Crash on InputDeviceIOCTL when closing Unity editor ([UUM-10774](https://issuetracker.unity3d.com/issues/crash-on-inputdeviceioctl-when-closing-unity-editor))
    
*   Linux: Crash on DisconnectGtkSignal(void_, GtkCallbackResponse (_)(), void\*) when going through microgame tutorials ([UUM-34847](https://issuetracker.unity3d.com/issues/linux-crash-on-disconnectgtksignal-void-star-gtkcallbackresponse-star-void-star-when-going-through-microgame-tutorials))
    
*   MacOS: Crash on objc\_msgSend when the Editor UI gets redrawn ([UUM-34202](https://issuetracker.unity3d.com/issues/macos-crash-on-objc-msgsend-when-ui-gets-redrawn))
    
*   MacOS: Fix for 2021.3.X: Editor silently crashes when entering Play Mode on macOS (UUM-37060)
    
*   Metal: \[iOS\] Rendering freezes when the orientation is changed ([UUM-9480](https://issuetracker.unity3d.com/issues/ios-rendering-freezes-when-the-orientation-is-changed))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Project Browser: Project Browser shows package resources when package visibility is disabled ([UUM-32517](https://issuetracker.unity3d.com/issues/project-browser-shows-package-resources-when-package-visibility-is-disabled))
    
*   Visual Effects - Legacy: \[Android\]\[Vulkan\] Visualisation corruption occurs when rendering Particles to Render Texture ([UUM-21106](https://issuetracker.unity3d.com/issues/android-vulkan-visualisation-corruption-occurs-when-rendering-particles-to-render-texture))
    
*   Vulkan: Editor exits when opening the Scene view window or selecting a material ([UUM-36647](https://issuetracker.unity3d.com/issues/editor-exits-when-opening-the-scene-view-window-or-selecting-a-material))
    
*   Vulkan: Oculus Quest 2 build does not work when built with Vulkan ([UUM-10378](https://issuetracker.unity3d.com/issues/oculus-quest-2-build-does-not-work-when-built-with-vulkan))
    
*   Vulkan: \[Quest 2\] Build crashes on Quest 2 when Graphics Jobs are enabled ([UUM-12524](https://issuetracker.unity3d.com/issues/quest-2-build-crashes-on-quest-2-when-graphics-jobs-are-enabled))
    

### 2021.3.27f1 Release Notes

#### Improvements

*   Build System: Upgraded our windows 7zip-zstd fork to 7zip 22.01.

#### Changes

*   Editor: Input System: Updated Input System package to 1.6.1.
    
*   XR: Updated AR Foundation and related packages to version 4.2.8.
    

#### Fixes

*   2D: Fixed issue where GameObjects instantiated from a Tile are created, destroyed and created again when SetTile is called on a position that already contains an existing Tile. ([UUM-35085](https://issuetracker.unity3d.com/issues/tilemap-dot-settile-instantiates-twice-when-called-in-player))
    
*   Android: Allow different maximum MSAA samples count for different graphics formats. ([UUM-25096](https://issuetracker.unity3d.com/issues/android-8x-16x-msaa-are-displayed-as-non-supported-when-device-gpus-do-support))
    
*   Editor: Ensure long title do not clip the scene icon in the Scene Template Dialog. ([UUM-25511](https://issuetracker.unity3d.com/issues/scene-templates-with-longer-titles-are-displayed-without-the-icons-in-new-scene-window))
    
*   Editor: Ensure the description field in Scene template dialog has the scrollview. ([UUM-25425](https://issuetracker.unity3d.com/issues/scene-template-title-section-with-its-functions-becomes-hidden-when-scroll-is-used))
    
*   Editor: Fixed EditorWindowTitle which needed to be initialized explicitly through a call to EditorWindow.GetLocalizedContent. Now it is called automatically. ([UUM-27557](https://issuetracker.unity3d.com/issues/editorwindowtitle-attribute-does-not-work-when-applied-to-custom-editorwindow))
    
*   Editor: Fixed MacOS editors memory leak in batchmode/nographics mode. ([UUM-12497](https://issuetracker.unity3d.com/issues/garbage-collection-does-not-finish-when-running-the-editor-through-a-terminal-process))
    
*   Editor: Fixed margins appearing in game view on Windows displays with non-integer display scale. ([UUM-32991](https://issuetracker.unity3d.com/issues/game-view-has-huge-borders-around-when-free-aspect-is-selected-on-windows-machine))
    
*   Editor: Fixed material icons generation when switch from Built-In. ([UUM-23330](https://issuetracker.unity3d.com/issues/urp-material-icons-in-project-tab-are-broken-after-switching-to-urp))
    
*   Editor: Fixed normal in editor when build platform is android. (UUM-32856)
    
*   Editor: Fixed styling of extra button action bar. ([UUM-26518](https://issuetracker.unity3d.com/issues/search-button-hide-should-be-aligned-accordingly-to-select-and-open))
    
*   Editor: Fixed styling on the scene template help button. ([UUM-27122](https://issuetracker.unity3d.com/issues/help-icons-for-the-scene-template-asset-are-displayed-in-different-backgrounds))
    
*   Editor: Fixed VisualElement scheduler that may not run task in order when throttling. (UUM-35882)
    
*   Editor: Fixed Vorbis audio library security vulnerabilities CVE-2018-10392 and CVE-2018-10393. (UUM-5914)
    
*   Editor: Improved loading time of all text serialized files. (UUM-32952)
    
*   Editor: Listen to additive scene be added or removed and update the SceneProvider accordingly. ([UUM-25053](https://issuetracker.unity3d.com/issues/search-quick-search-window-is-not-showing-objects-in-scenes-when-they-are-loaded-additively-until-a-change-in-the-editor-is-made))
    
*   Editor: Running into networking issues while fetching ugs organizations no longer softlocks.
    
*   Editor: Text in Text Assets can now be selected in the inspector. (UUM-36233)
    
*   Editor: Types derived from type with CustomPreview have a custom preview. ([UUM-9543](https://issuetracker.unity3d.com/issues/custompreview-doesnt-work-when-the-type-is-inherited-from-the-specified-type-in-custompreviews-parameters))
    
*   Editor: Updated OpenSSL to 1.1.1u.
    
*   Editor: \[Android\] Changed name of symbols zip folder generated during build to include the backend specified, to ensure the folder is generated fresh when target architecture is changed but app name is not on 2022.2. (UUM-31480)
    
*   Editor: \[SpeedTree\] Fix SpeedTreeImporter::WriteDeferredAlphaCorrectionPaths crash when the Generate Materials is clicked. ([UUM-28469](https://issuetracker.unity3d.com/issues/editor-crashes-on-speedtreeimporter-writedeferredalphacorrectionpaths-when-regenerating-and-applying-materials))
    
*   Editor: \[Windows\] Audio.Thread marker in Profiler window is lasting whole frame while audio is playing. ([UUM-401](https://issuetracker.unity3d.com/issues/windows-audio-dot-thread-marker-in-profiler-window-is-lasting-whole-frame-while-audio-is-playing))
    
*   GI: Fixed a bug where moving the camera while in an scene visualization mode would cause light bakes to never finish. (UUM-34425)
    
*   Graphics: Fixed sporadic editor crash caused by render surface copy when using Vulkan. (UUM-35467)
    
*   Graphics: Fixed UI flickering due to invalid state post CommandBuffer execution. ([UUM-32669](https://issuetracker.unity3d.com/issues/scene-view-toolbar-changes-when-commandbuffers-are-used-and-the-mouse-is-positioned-in-the-game-view))
    
*   Graphics: Fixed: Provide a way to avoid GC.Alloc with RenderMeshInstanced. ([UUM-32183](https://issuetracker.unity3d.com/issues/gc-alloc-when-using-graphics-dot-rendermeshinstanced))
    
*   HDRP: Enabling raytracing no longer disable screen space lighting effect (SSAO, SSR) async compute. (UUM-31322)
    
*   HDRP: Made HDRP RenderPIpelineSettings public to enable customizing the HDRP asset. ([UUM-33589](https://issuetracker.unity3d.com/issues/hdrp-renderpipelinesettings-are-not-public-making-it-impossible-for-users-to-create-custom-settings-on-the-fly))
    
*   HDRP: Properly take into account sky attenuation for baking. ([UUM-28513](https://issuetracker.unity3d.com/issues/light-reflections-are-white-when-receive-global-illumination-is-set-to-lightmaps))
    
*   HDRP: Updated HDRenderPipelineResources file. (UUM-36628)
    
*   Particles: Corrected set particle remaining lifetime to zero if killed by the trigger module when using ringbuffer mode. ([UUM-32881](https://issuetracker.unity3d.com/issues/particles-do-not-die-when-using-a-trigger-and-ring-buffer))
    
*   Physics: Added a warning when cooking concave Mesh Colliders with the Fast Midphase option that have over 2,097,152 triangles. ([UUM-30748](https://issuetracker.unity3d.com/issues/raycast-hits-are-registered-inconsistently-when-raycasting-on-a-gameobject-that-has-a-mesh-collider-with-a-high-polygon-amount))
    
*   Physics: Collider.material getter won't instantiate the material if called on the Prefab object. ([UUM-30707](https://issuetracker.unity3d.com/issues/collider-dot-material-sets-material-to-none-when-referencing-prefab))
    
*   Physics: Fixed a race condition that caused crashes in Contact Modification callbacks. ([UUM-7389](https://issuetracker.unity3d.com/issues/player-slash-editor-crashes-when-colliders-with-hasmodifiablecontacts-set-to-true-collides))
    
*   Physics: Fixed Articulation Bodies having default mass if they have no attached Colliders. ([UUM-31794](https://issuetracker.unity3d.com/issues/articulation-body-tree-changes-behavior-after-attaching-a-trigger-collider))
    
*   Shaders: Fixed a crash when trying to access the loading shader in a release build. (UUM-36827)
    
*   VFX Graph: Forbid blackboard category with only spaces in the name. ([UUM-17495](https://issuetracker.unity3d.com/issues/user-gets-argumentnullexception-value-cannot-be-null-dot-error-during-category-duplication))
    
*   VFX Graph: Renaming a blackboard category that has been duplicated was removing the duplicated category. ([UUM-17435](https://issuetracker.unity3d.com/issues/vfx-category-renaming-removes-duplicated-category-from-the-blackboard))

### Known Issues in 2021.3.26f1

*   DirectX12: \[macOS\] Editor freezes when saving prefab changes in Play Mode if VSync is enabled ([UUM-30173](https://issuetracker.unity3d.com/issues/macos-editor-freezes-when-saving-prefab-changes-in-play-mode-if-vsync-is-enabled))
    
*   Linux: Crash on DisconnectGtkSignal(void_, GtkCallbackResponse (_)(), void\*) when going through microgame tutorials ([UUM-34847](https://issuetracker.unity3d.com/issues/linux-crash-on-disconnectgtksignal-void-star-gtkcallbackresponse-star-void-star-when-going-through-microgame-tutorials))
    
*   MacOS: Crash on objc\_msgSend when the Editor UI gets redrawn ([UUM-34202](https://issuetracker.unity3d.com/issues/macos-crash-on-objc-msgsend-when-ui-gets-redrawn))
    
*   MacOS: Crash on -\[CocoaMainMenu validateMenuItem:\] when pressing/searching in Help ([UUM-33727](https://issuetracker.unity3d.com/issues/crash-on-cocoamainmenu-validatemenuitem-when-pressing-slash-searching-in-help))
    
*   MacOS: Editor silently crashes when entering Play Mode on macOS ([UUM-34395](https://issuetracker.unity3d.com/issues/editor-silently-crashes-when-entering-play-mode-on-macos))
    
*   Metal: \[iOS\] Rendering freezes when the orientation is changed ([UUM-9480](https://issuetracker.unity3d.com/issues/ios-rendering-freezes-when-the-orientation-is-changed))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Project Browser: Project Browser shows package resources when package visibility is disabled ([UUM-32517](https://issuetracker.unity3d.com/issues/project-browser-shows-package-resources-when-package-visibility-is-disabled))
    
*   Vulkan: Oculus Quest 2 build does not work when built with Vulkan ([UUM-10378](https://issuetracker.unity3d.com/issues/oculus-quest-2-build-does-not-work-when-built-with-vulkan))
    
*   Vulkan: \[Quest 2\] Build crashes on Quest 2 when Graphics Jobs are enabled ([UUM-12524](https://issuetracker.unity3d.com/issues/quest-2-build-crashes-on-quest-2-when-graphics-jobs-are-enabled))
    
*   XR SRP: \[URP\]\[XR\] Performance degradation when comparing Android Quest 2 builds across 2020.3 and 2023.x ([UUM-33025](https://issuetracker.unity3d.com/issues/urp-xr-performance-degradation-when-comparing-android-quest-2-builds-across-2020-dot-3-and-2023-dot-x))
    

### 2021.3.26f1 Release Notes

#### Features

*   Editor: Add the possibility of running tests in a specified order from a test list (DSTR-494).

#### Improvements

*   Shaders: Added support on Metal for vprog having void return type

#### Changes

*   IL2CPP: Ensure we get a MissingMethodException instead of a runtime crash in native code for non-AOT'd methods.

#### Fixes

*   2D: Fixed case where Sprite is not being masked when using SpriteShape ([UUM-26584](https://issuetracker.unity3d.com/issues/2d-sprite-is-not-being-masked-when-using-spriteshape))
    
*   2D: Fixed graphical artefact where 2D sprite only rendered a portion of a texture when the global mipmap limit was set to anything other than full-res in the Player quality settings and when the corresponding quality settings was selected at runtime. (UUM-27149)
    
*   Android: Fix 'back button' press on VideoPlayer (UUM-33468)
    
*   Android: The 'Filter Touches When Obscured' Player Setting is now respected by the new input system. (UUM-31555)
    
*   Android: Updated GetDeviceName() API to support SystemInfo.deviceName on API Level 32 or higher. (UUM-32514)
    
*   Asset Pipeline: Fix Editor crash when changing Asset Serialization Mode to Force Binary with the com.unity.multiplayer.samples.coop package installed ([UUM-26417](https://issuetracker.unity3d.com/issues/editor-crashes-on-collectallscenemanagerandobjectids-when-changing-asset-serialization-mode-to-force-binary))
    
*   Asset Pipeline: Source asset db rebuild and plugin asset reimported to fix inconsistency (UUM-32565)
    
*   Audio: Fixed a bug where SystemInfo.supportsAudio would return true on some platforms and false on others, when Unity Audio is disabled. We now always return false in this case. ([UUM-16017](https://issuetracker.unity3d.com/issues/android-systeminfo-dot-supportsaudio-inconsistency-when-built))
    
*   Audio: Updated the play-on-awake tooltip on the AudioSource. ([UUM-28690](https://issuetracker.unity3d.com/issues/misleading-tooltip-is-displayed-when-hovering-the-cursor-on-the-play-on-awake-text-in-the-audio-source-component))
    
*   Editor: Changing the download progress calculation in 2021.3 to use doubles when downloading asset packs on Android. ([UUM-32299](https://issuetracker.unity3d.com/issues/android-integer-division-that-will-only-give-0-or-1-assigned-to-a-float-should-be-floating-point-division))
    
*   Editor: Fix 1px mismatch between reported Screen size and actual back buffer size when using DPI scaling leading to errors being logged and broken rendering. ([UUM-14913](https://issuetracker.unity3d.com/issues/1px-mismatch-between-reported-screen-size-and-actual-back-buffer-size-when-changing-display-scale))
    
*   Editor: Fix for crash when removing component from many gameobjects at the same time. ([UUM-33750](https://issuetracker.unity3d.com/issues/crash-on-undomanager-flushtrackedobjects-when-removing-a-component-from-1000-gameobjects-at-the-same-time))
    
*   Editor: fix GPU out of memory for test track project ([UUM-25089](https://issuetracker.unity3d.com/issues/linux-crash-with-multiple-stack-traces-when-opening-a-project-created-from-test-track-template))
    
*   Editor: Fix UnityEditor PDB symbols being invalid ([UUM-33172](https://issuetracker.unity3d.com/issues/rider-unityeditor-dot-coremodule-dot-pdb-supplied-with-unity-is-either-corrupted-or-its-format-does-not-fit-the-specification))
    
*   Editor: Fixed an issue where IL2Cpp generated files may experience hash conflicts. ([UUM-35390](https://issuetracker.unity3d.com/issues/command-line-build-buildprogram-exited-with-code-2147024809-when-allowdebugging-flag-passed-to-build-options))
    
*   Editor: Fixed file revealing in folder won't highlight. Only available in gnome DE. (UUM-32840)
    
*   Editor: Fixed the wrong color space of some value when using dynamic colors in a project in liner color space. ([UUM-20443](https://issuetracker.unity3d.com/issues/usage-hints-dynamic-color-shows-incorrect-colors-when-project-is-in-linear-color-space))
    
*   Editor: Improved documentation for GetActiveScene behavior during scene load ([UUM-34557](https://issuetracker.unity3d.com/issues/the-gameobject-is-not-added-to-the-active-scene-when-adding-it-from-other-scene))
    
*   Editor: Optimized asset import logic to handle large amounts of files located in the same directory ([UUM-17547](https://issuetracker.unity3d.com/issues/freeze-when-importing-a-large-amount-of-fbx-files))
    
*   Editor: Universal RP: disabled MSAA on devices without MSAA store support (Apple GPUs A8 and lower) ([UUM-13185](https://issuetracker.unity3d.com/issues/flickering-on-ios-when-msaa-and-depth-texture-are-enabled))
    
*   Editor: Updated UnityTLS
    
*   Editor: Updated XR Interaction Toolkit to 2.3.2
    
*   GI: Fixed issue where lightmaps are lost when entering playmode, switching scenes, and exiting playmode. ([UUM-29735](https://issuetracker.unity3d.com/issues/lightmap-is-unassigned-when-entering-play-mode-switching-scene-and-exiting-play-mode))
    
*   Graphics: Fix deadlock caused by UI jobs ([UUM-26444](https://issuetracker.unity3d.com/issues/a-player-sometimes-freezes-and-crashes-when-graphic-jobs-are-enabled))
    
*   Graphics: Fix float to half conversion ([UUM-13334](https://issuetracker.unity3d.com/issues/metal-color-value-is-wrong-in-unitypermaterial-cbuffer-when-changing-color-value-with-specific-speeds))
    
*   Graphics: Fix some paths of eye masking in Vulkan multi view rendering (UUM-912)
    
*   Graphics: Fixed an issue where Mipmap Streaming would not take the state of "Texture2D.ignoreMipmapLimit" into account.
    
*   IL2CPP: Fix a UnityLinker crash that could happen processing Microsoft.MixedReality.GraphicsTools when High Managed Code Stripping is used. ([UUM-31386](https://issuetracker.unity3d.com/issues/linker-error-when-building-with-the-mrtk-graphics-tools-package-and-managed-stripping-level-is-set-to-high))
    
*   IL2CPP: Fixed possible corruption when writing primitive static fields on generic types when Faster (smaller) builds is enabled. (UUM-33610)
    
*   IL2CPP: Fixed possible GC corruption when using the job system on PS4/PS5 platforms. (UUM-33034)
    
*   iOS: Fixed a bug with the player settings "Force iOS Speakers when Recording". It wasn't working properly when "Mute Other Audio Sources" and "Prepare iOS for Recording" were both disabled. It was also not working correctly with wired headphones, where the setting should have no effect. ([UUM-19505](https://issuetracker.unity3d.com/issues/ios-if-force-ios-speakers-when-recording-setting-is-enabled-audio-is-playing-through-the-device-speakers-when-bluetooth-headphones-are-connected))
    
*   Linux: Fix player crash in FMOD when loading ALSA drivers. (PIA-588)
    
*   Mono: Fixed issue where setting a pointer via reflection included an additional layer of redirection. (UUM-31140)
    
*   Package Manager: Fixed the issue where viewing UPM packages that come from the Asset Store breaks the Package Manager window. (UUM-35411)
    
*   Package Manager: Refresh button stays enabled if user goes offline. (UUM-35005)
    
*   Prefabs: Fix for Prefab instance is not enabled if RevertPropertyOverride is called during OnEnable ([UUM-21119](https://issuetracker.unity3d.com/issues/gameobject-needs-to-be-activated-two-times-to-enable-it-when-using-prefabutility-dot-revertpropertyoverride))
    
*   Serialization: Fixed the wrong resolution of missing types when there are multiple instances with the missing type. (UUM-20709)
    
*   Shaders: Fixed custom scale and offset vectors not affecting serialised texture scale and offset. ([UUM-21301](https://issuetracker.unity3d.com/issues/changes-made-to-texture-with-a-specific-a-st-property-marked-as-noscaleoffset-in-the-inspector-are-shown-but-not-saved))
    
*   Shaders: Fixed incorrect error messages when manually enabling keywords. ([UUM-33089](https://issuetracker.unity3d.com/issues/console-error-enabling-local-keyword-wetness-for-material-disolve-has-been-skipped-this-keyword-cannot-be-enabled-directly-dot-when-enabling-a-local-keyword-for-a-material))
    
*   Shaders: Fixed SV\_PrimitiveID on Metal ([UUM-22593](https://issuetracker.unity3d.com/issues/metal-shader-is-broken-when-using-sv-primitiveid))
    
*   uGUI: Fixed memory leak when textures get reparented from one scene to another ([UUM-33852](https://issuetracker.unity3d.com/issues/memory-leaks-stop-textures-from-getting-unloaded-from-memory-when-the-textures-gets-reparented-from-one-scene-to-another))
    
*   UI Toolkit: Fix invalid width on child element of absolute positioned parent. ([UUM-30975](https://issuetracker.unity3d.com/issues/visualelements-auto-width-is-incorrect-when-the-elements-parent-has-a-set-width))
    
*   UI Toolkit: Fixed reorderable ListView not starting a drag operation when its item contains an IMGUIContainer handling pointer events. ([UUM-33718](https://issuetracker.unity3d.com/issues/ui-toolkit-listview-breaks-when-interacting-with-a-nested-imgui-propertydrawer))
    
*   Universal Windows Platform: Fixed a crash occuring when Cloud Diagnostics was enabled and Debug.LogException was used off the main thread.
    
*   VFX Graph: Fixed broken borders ([UUM-35000](https://issuetracker.unity3d.com/issues/vfx-vfx-graph-context-border-is-not-rendered-in-the-workspace-window))
    
*   VFX Graph: Unexpected warning on Metal while rendering thumbnail preview for material ([UUM-531](https://issuetracker.unity3d.com/issues/metal-vfx-graph-creating-a-vfx-graph-asset-throws-an-error))
    
*   Web: Fixed an issue with Unity page not being able to unload if user has already detached the canvas from DOM before calling Unity Quit function. (UUM-30472)

### Known Issues in 2021.3.25f1

*   DirectX12: \[macOS\] Editor freezes when saving prefab changes in Play Mode if “VSync” is enabled ([UUM-30173](https://issuetracker.unity3d.com/issues/macos-editor-freezes-when-saving-prefab-changes-in-play-mode-if-vsync-is-enabled))
    
*   MacOS: Crash on objc\_msgSend when the Editor UI gets redrawn ([UUM-34202](https://issuetracker.unity3d.com/issues/macos-crash-on-objc-msgsend-when-ui-gets-redrawn))
    
*   MacOS: Crash on -\[CocoaMainMenu validateMenuItem:\] when pressing/searching in Help ([UUM-33727](https://issuetracker.unity3d.com/issues/crash-on-cocoamainmenu-validatemenuitem-when-pressing-slash-searching-in-help))
    
*   MacOS: Editor silently crashes when entering Play Mode on macOS ([UUM-34395](https://issuetracker.unity3d.com/issues/editor-silently-crashes-when-entering-play-mode-on-macos))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   Metal: \[iOS\] Rendering freezes when the orientation is changed ([UUM-9480](https://issuetracker.unity3d.com/issues/ios-rendering-freezes-when-the-orientation-is-changed))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Project Browser: Project Browser shows package resources when package visibility is disabled ([UUM-32517](https://issuetracker.unity3d.com/issues/project-browser-shows-package-resources-when-package-visibility-is-disabled))
    
*   Vulkan: \[Quest 2\] Build crashes on Quest 2 when Graphics Jobs are enabled ([UUM-12524](https://issuetracker.unity3d.com/issues/quest-2-build-crashes-on-quest-2-when-graphics-jobs-are-enabled))
    
*   XR SRP: \[URP\]\[XR\] Performance degradation when comparing Android Quest 2 builds across 2020.3 and 2023.x ([UUM-33025](https://issuetracker.unity3d.com/issues/urp-xr-performance-degradation-when-comparing-android-quest-2-builds-across-2020-dot-3-and-2023-dot-x))
    

### 2021.3.25f1 Release Notes

#### Features

*   Android: Chrome OS Build & Run Support - Add "Run Device" using IP address.

#### Improvements

*   Multiplayer: Added Netcode for GameObjects 1.4.0.

#### Changes

*   Editor: Removed automatic upgrade code for UniversalRendererData from alpha & beta builds of 2021.2 to current as it is no longer required and was incurring a domain reload performance cost.

#### Fixes

*   2D: Fixed crash when a Tilemap with corrupted Tile Data calls CompressBounds. ([UUM-32832](https://issuetracker.unity3d.com/issues/tilemap-with-corrupted-data-crashes-the-editor-when-calling-compressbounds))
    
*   Android: Fixed escaped double quotes when using SetAdditionalIl2CppArgs. ([UUM-25447](https://issuetracker.unity3d.com/issues/il2cpp-android-incorrectly-escaped-quotes-in-build-dot-gradle-when-passing-a-string-to-setadditionalil2cppargs))
    
*   Android: Fixed the Troubleshooting button URL upon gradle error. ([UUM-30719](https://issuetracker.unity3d.com/issues/build-error-troubleshoot-button-links-to-an-empty-web-page-when-encountering-gradle-error))
    
*   Android: Removed OPENGLES uses-feature element in AndroidManifest of the exported project when not selected in Player Settings. ([UUM-32676](https://issuetracker.unity3d.com/issues/opengles2-uses-feature-entry-is-added-to-the-android-manifest-when-not-used))
    
*   Asset Pipeline: Prevent script re-compilation when 'Recompile after playmode' and 'Auto-refresh' are set. ([UUM-20409](https://issuetracker.unity3d.com/issues/script-recompiles-in-play-mode-when-script-changes-while-playing-option-is-set-to-recompile-after-finished-playing-and-auto-refresh-is-set-to-enabled))
    
*   Build Pipeline: Fixed android build failure issue where were are getting an error message ' build destination path collides with an existing path' when triggered using Ctrl+B (Windows) or Cmd+B (macOS) keyboard shortcut. ([UUM-30911](https://issuetracker.unity3d.com/issues/mac-android-file-build-and-run-fails-with-a-prompt))
    
*   Documentation: Updated TextureImporter documentation regarding settings that are found under TextureImporterSettings. (UUM-23201)
    
*   DX12: Removed unnecessary image processing code on texture upload that's not needed reducing CPU overhead. ([UUM-15519](https://issuetracker.unity3d.com/issues/d3d12-produces-low-fps-when-using-commandbuffer-dot-issueplugincustomtextureupdatev2))
    
*   Editor: Fixed a crash that occurs when you set the custom-rolloff-curve to null on an audio source. ([UUM-29578](https://issuetracker.unity3d.com/issues/crash-on-audiosource-setcustomrolloffcurve-when-entering-play-mode-with-audiosource-component))
    
*   Editor: Fixed a crash when importing specific FBX files with blendshapes. ([UUM-32291](https://issuetracker.unity3d.com/issues/crash-on-fbxsdk-fbxmemoryfile-open-when-importing-the-fbx-file))
    
*   Editor: Fixed a crash when importing specific FBX files with blendshapes. ([UUM-33322](https://issuetracker.unity3d.com/issues/crash-on-fbxsdk-fbxconnectionpoint-subconnectfind-when-importing-a-specific-fbx-asset))
    
*   Editor: Fixed crash when dragging game view in and out of docked view on Linux with Mesa drivers. ([UUM-16015](https://issuetracker.unity3d.com/issues/linux-crash-amd-undocking-the-game-view-crashes-the-editor))
    
*   Editor: Fixed Editor freezes when clicking Prefab > Select Asset for a scene exported manually with missing information. ([UUM-30060](https://issuetracker.unity3d.com/issues/editor-freezes-when-clicking-prefab-select-asset))
    
*   Editor: Fixed inconsistent input field styling in Shortcut Manager's create and rename prompts. ([UUM-28290](https://issuetracker.unity3d.com/issues/shortcuts-create-profile-window-has-inconsistent-style-for-profile-name-field-validation))
    
*   Editor: Fixed issue with spurious errors in the console being output when the lighting cache is not intact. ([UUM-21668](https://issuetracker.unity3d.com/issues/uv-charts-preview-window-not-displayed-when-opening-lightmaps))
    
*   Editor: Fixed regression when computing UVs for faces that have their material assigned via a group. ([UUM-30948](https://issuetracker.unity3d.com/issues/material-details-are-lost-when-used-in-the-scene))
    
*   Editor: Fixed several problems with speech recognition in apps using Holographic Remoting. (XRF-411)
    
*   Editor: Objects now keep their non-serializable state when reloaded. ([UUM-7785](https://issuetracker.unity3d.com/issues/instancedcomponent-has-been-destroyed-dot-dot-dot-error-is-thrown-when-re-entering-play-mode-after-saving-a-prefab-in-play-mode-while-domain-reload-and-scene-reload-are-disabled))
    
*   Editor: Prevent tags from being created with an empty name. ([UUM-32286](https://issuetracker.unity3d.com/issues/tag-is-named-after-the-previously-created-tag-when-creating-a-tag-with-an-empty-new-tag-name-field-and-throws-unityexception-tag-dot-dot-dot-is-not-defined-error-when-trying-to-remove-it))
    
*   Graphics: Fixed an inspector issue where 2DArray and 3D textures would not report their size on disk correctly. ([UUM-28111](https://issuetracker.unity3d.com/issues/texture-size-inconsistencies-between-different-shapes))
    
*   Graphics: Invalid pass index error messages now include shader name. (UUM-33598)
    
*   HDRP: Fixed a shader compilation issue on fog volumes when Turkish language is installed as locale.
    
*   HDRP: Fixed an issue where the quality settings tags were displayed cut-off. ([UUM-31849](https://issuetracker.unity3d.com/issues/hdrp-quality-preset-labels-get-cut-off-in-the-project-settings))
    
*   HDRP: Fixed DLSS Ultra performance setting which was not calculating the correct resolution. The setting was not pushing the correct resolution due to a typo in the code. ([UUM-29281](https://issuetracker.unity3d.com/issues/dlss-ultra-performance-mode-performs-worse-than-other-dlss-modes))
    
*   HDRP: Fixed free CullingGroups still being used during culling. (UUM-29379)
    
*   HDRP: Fixed HDRP Decal Emisive Map is drawn incorrectly when Decal is at a certain distance from Camera and specific "Clipping Planes" property values are set under the "Camera" component. ([UUM-28486](https://issuetracker.unity3d.com/issues/hdrp-decal-emmisive-map-is-drawn-incorrectly-when-decal-is-at-a-certain-distance-from-camera-and-specific-clipping-planes-property-values-are-set-under-the-camera-component))
    
*   HDRP: Fixed ShaderGraph materials using SSS. (UUM-27413)
    
*   HDRP: Fixed the default value of \_ZTestDepthEqualForOpaque in unlit ShaderGraphs. (UUM-31690)
    
*   IL2CPP: Corrected clipped output from System.Diagnostics.Debug.WriteLine(). ([UUM-26431](https://issuetracker.unity3d.com/issues/system-dot-diagnostics-dot-debug-dot-writeline-fails-to-print-the-first-10-characters-of-a-debug-message-when-used-in-a-uwp-build))
    
*   IL2CPP: Fixed an intermittent crash in the thread pool implementation when the socket no longer exists during an HTTP request. (UUM-21671)
    
*   iOS: Added cutouts for iPhone14 family. ([UUM-22474](https://issuetracker.unity3d.com/issues/ios-iphone-14-devices-crash-when-portrait-upside-down-orientation-is-forced))
    
*   Linux: Disabled SDL Dynamic API for SDL dependent Platforms except for Embedded and QNX. (UUM-33932)
    
*   Linux: Fixed Linux IL2CPP builds not producing stack trace. ([UUM-26705](https://issuetracker.unity3d.com/issues/linux-il2cpp-player-crash-call-stack-is-not-displayed-when-the-build-is-run-with-batchmode-nographics-arguments))
    
*   Linux: Fixed New Input System Debugger is logging 2 events when holding a key. (UUM-32567)
    
*   Networking: Fixed null exception in WWWForm when file name is empty string. ([UUM-32984](https://issuetracker.unity3d.com/issues/argumentnullexception-array-cannot-be-null-error-is-printed-when-passing-an-empty-string-to-filename-of-wwwform-dot-addbinarydata-and-then-access-the-data-property))
    
*   Package Manager: Fixed an issue where installing a package from a scoped registry will fail if a bundled package with the same name and version exists.
    
*   Particles: Fixed Particle System rendering corruption. ([UUM-21106](https://issuetracker.unity3d.com/issues/android-vulkan-visualisation-corruption-occurs-when-rendering-particles-to-render-texture))
    
*   Particles: Use double precision timers in the Shape module to improve the accuracy of long simulations. ([UUM-30775](https://issuetracker.unity3d.com/issues/particle-system-animation-changes-when-it-has-been-running-for-a-prolonged-period))
    
*   Physics: Fixed a rare PhysX crash when using the PGS solver type and either One-Directional or Two-Directional friction type. ([UUM-27540](https://issuetracker.unity3d.com/issues/crash-on-physx-dy-solvercoregeneralpf-solvevparallelandwriteback-when-entering-play-mode))
    
*   Physics: Fixed Articulation Bodies ignoring SetMaxImpulse from Contact Modifications. ([UUM-29037](https://issuetracker.unity3d.com/issues/setmaximpulse-is-not-evaluated-when-using-it-on-articulationbody))
    
*   Physics: Fixed BoxCollider warning messages not being printed when Scene Reloading is enabled. ([UUM-28396](https://issuetracker.unity3d.com/issues/windows-boxcolliders-does-not-support-negative-scale-or-size-warning-appears-only-when-enter-play-mode-options-is-enabled))
    
*   Physics: Fixed OnCollision messages not being sent when the collider has hasModifiableContacts property explicitly set to false. ([UUM-28909](https://issuetracker.unity3d.com/issues/collision-events-are-not-reported-when-hasmodifiablecontacts-on-a-collider-is-set-to-false))
    
*   Physics: Fixed up a simulation stall when a large section of heightmap triangles was fetched for tests. ([UUM-21683](https://issuetracker.unity3d.com/issues/unity-freezes-when-high-rigidbody-dot-addforce-force-value-is-used))
    
*   Prefabs: Fixed for handling conflicting components during prefab merging. ([UUM-20241](https://issuetracker.unity3d.com/issues/crash-on-awakefromloadqueue-invokepersistentmanagerawake-when-opening-a-project))
    
*   Scene/Game View: Fixed default buttons styling in overlays. ([UUM-25734](https://issuetracker.unity3d.com/issues/uitoolkit-button-style-of-list-view-are-displayed-as-mouse-is-hovering-over-them-when-created-in-overlay))
    
*   Scripting: Defer saving user editable managers to after Player Settings window get disabled. ([UUM-32162](https://issuetracker.unity3d.com/issues/changes-made-to-scripting-define-symbol-are-not-saved-if-apply-is-pressed-in-the-script-symbol-have-been-modified-pop-up-window-when-entering-the-play-mode))
    
*   Serialization: Fixed EditorUtility.CopySerialized failing in some case where there are \[SerializedReference\] present. (UUM-33868)
    
*   Serialization: PropertyModifications created prior to 2021.2 creating SerializeReference instances are now generating deterministic ids. ([UUM-13245](https://issuetracker.unity3d.com/issues/serializereference-instance-added-through-propertymodifications-can-cause-non-deterministic-builds))
    
*   Shadergraph: ShaderGraph styles were not applied correctly when the system locale was set in Turks. ([UUM-33522](https://issuetracker.unity3d.com/issues/shadergraph-connection-nodes-appear-at-wrong-position-when-region-format-is-set-to-turkish-turkey))
    
*   Universal RP: Fixed an issue where scenes were not marked dirty after changing the volume update setting on cameras. ([UUM-10812](https://issuetracker.unity3d.com/issues/urp-scene-is-not-marked-as-dirty-when-volume-update-mode))
    
*   URP: Fixed, URP & core package leaking materials when entering/exiting Play Mode. ([UUM-27587](https://issuetracker.unity3d.com/issues/resources-dot-findobjectsoftypeall-typeof-material-dot-length-increases-every-time-when-entering-slash-exiting-play-mode))
    
*   Version Control: Fixed 'Texture2D' does not contain a definition for 'ignoreMipmapLimit' error when installing Unity Version Control on previous Unity Editor Versions  
    Fixed sign in dialog style when waiting for user to complete sign in  
    Fixed NullReferenceException when opening a new project and the user doesn't have a Unity Version Control organization linked to a Unity ID.
    
*   VFX Graph: Corrected apply nointerpolation specifier when using new ShaderGraph integration. ([UUM-555](https://issuetracker.unity3d.com/issues/vfx-constants-not-correctly-patched-in-vs))
    
*   VFX Graph: First frame of spawned particles outputs wrong motion vectors. ([UUM-20435](https://issuetracker.unity3d.com/issues/vfx-slash-sg-slash-hdrp-unexpected-motion-vector-output-during-first-frame))
    
*   VFX Graph: Unexpected Motion Vector in HDRP when effect is in World and uses Custom Velocity or Mesh Output. ([UUM-20437](https://issuetracker.unity3d.com/issues/vfx-slash-sg-slash-hdrp-unexpected-motion-vector-custom-velocity-and-world))
    
*   VFX Graph: Unexpected motion vector when add precompute velocity was enabled in Shader Graph. ([UUM-22368](https://issuetracker.unity3d.com/issues/vfx-slash-sg-wrong-motion-vector-on-mesh-using-sg))

### Known Issues in 2021.3.24f1

*   DirectX12: \[macOS\] Editor freezes when saving prefab changes in Play Mode if “VSync” is enabled ([UUM-30173](https://issuetracker.unity3d.com/issues/macos-editor-freezes-when-saving-prefab-changes-in-play-mode-if-vsync-is-enabled))
    
*   Kernel: Crash on UndoManager::FlushTrackedObjects when removing a Component from ~1000 GameObjects at the same time ([UUM-33750](https://issuetracker.unity3d.com/issues/crash-on-undomanager-flushtrackedobjects-when-removing-a-component-from-1000-gameobjects-at-the-same-time))
    
*   MacOS: Crash on -\[CocoaMainMenu validateMenuItem:\] when pressing/searching in Help ([UUM-33727](https://issuetracker.unity3d.com/issues/crash-on-cocoamainmenu-validatemenuitem-when-pressing-slash-searching-in-help))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   Metal: \[iOS\] Rendering freezes when the orientation is changed ([UUM-9480](https://issuetracker.unity3d.com/issues/ios-rendering-freezes-when-the-orientation-is-changed))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Project Browser: Project Browser shows package resources when package visibility is disabled ([UUM-32517](https://issuetracker.unity3d.com/issues/project-browser-shows-package-resources-when-package-visibility-is-disabled))
    
*   uGUI Framework: Memory leaks stop textures from getting unloaded from memory when the textures gets reparented from one scene to another ([UUM-33852](https://issuetracker.unity3d.com/issues/memory-leaks-stop-textures-from-getting-unloaded-from-memory-when-the-textures-gets-reparented-from-one-scene-to-another))
    
*   Version Control: "NullReferenceException" errors thrown in the Console window when Unity Version Control package is present in the project ([UUM-33051](https://issuetracker.unity3d.com/issues/nullreferenceexception-errors-thrown-in-the-console-window-when-unity-version-control-package-is-present-in-the-project))
    
*   Visual Effects - Legacy: \[Android\]\[Vulkan\] Visualisation corruption occurs when rendering Particles to Render Texture ([UUM-21106](https://issuetracker.unity3d.com/issues/android-vulkan-visualisation-corruption-occurs-when-rendering-particles-to-render-texture))
    
*   Vulkan: \[Quest 2\] Build crashes on Quest 2 when Graphics Jobs are enabled ([UUM-12524](https://issuetracker.unity3d.com/issues/quest-2-build-crashes-on-quest-2-when-graphics-jobs-are-enabled))
    
*   XR SRP: \[URP\]\[XR\] Performance degradation when comparing Android Quest 2 builds across 2020.3 and 2023.x ([UUM-33025](https://issuetracker.unity3d.com/issues/urp-xr-performance-degradation-when-comparing-android-quest-2-builds-across-2020-dot-3-and-2023-dot-x))
    

### 2021.3.24f1 Release Notes

#### Improvements

*   Apple TV: TvOS now uses launch screen storyboard.
    
*   Editor: Enabled Sketchup Importer on Mac ARM platforms.
    
*   Editor: Reduced impact of Shader Graph package on performance of domain reloads by making node class cache populate on-demand.
    
*   Editor: Updated Sketchup SDK to 2023.2.
    
*   iOS: IOS/tvOS launch screen now is shown only by OS, and is not shown again by Unity itself.
    

#### Changes

*   HDRP: Enabled Extend Shadow Culling in Raytracing by default. (UUM-21784)

#### Fixes

*   2D: Show apply/revert dialog to user if there are data changes in Sprite Editor Window before domain reload. ([UUM-26175](https://issuetracker.unity3d.com/issues/sprite-editor-unsaved-changes-get-reverted-when-script-recompilation-finishes))
    
*   Android: Enabled the display of gradle tasks in progress dialog while building to Android. (UUM-31890)
    
*   Build Pipeline: Fixed build failure related to streaming assets with symbols in file names. ([UUM-9881](https://issuetracker.unity3d.com/issues/the-project-fails-to-build-when-there-is-a-webp-asset-in-the-streamingassets-folder))
    
*   Build Pipeline: Fixed Player Build fails. ([UUM-1205](https://issuetracker.unity3d.com/issues/build-fails-until-scrolling-scenes-in-build-in-build-settings))
    
*   Editor: Asset Pipeline: Fixed a crash when re-adding animation clip to prefab. ([UUM-21916](https://issuetracker.unity3d.com/issues/crash-on-serializeobjectandaddtorecording-when-adding-animation-to-object-without-animator))
    
*   Editor: Enabled reserved key labels in Shortcut Manager to be more visible in dark mode. ([UUM-28295](https://issuetracker.unity3d.com/issues/esc-return-and-caps-lock-keys-are-barely-visible-in-the-shortcut-manager-window))
    
*   Editor: Fixed a "3D textures with depth are not supported" error appearing when switching the RenderTexture shape to 3D if a depth-stencil format was previously indicated. ([UUM-25336](https://issuetracker.unity3d.com/issues/error-rendertexture-dot-create-failed-3d-textures-with-depth-are-not-supported-is-thrown-when-changing-texture-dimension-from-2d-to-3d))
    
*   Editor: Fixed a bug where the cursor was lagging when dragging files to inactive MacOS editor. ([UUM-9542](https://issuetracker.unity3d.com/issues/general-cursor-becomes-very-laggy-when-dragging-file-from-finder-to-the-editor-on-macos))
    
*   Editor: Fixed animation clip's preview window's grid's depth when using deferred rendering in URP. ([UUM-2947](https://issuetracker.unity3d.com/issues/urp-grid-is-rendered-on-top-of-gameobjects-in-the-animation-preview-area-when-deferred-rendering-is-used))
    
*   Editor: Fixed Auto-save scenes checkbox. ([UUM-11717](https://issuetracker.unity3d.com/issues/preference-not-saved-when-enabling-auto-save-scenes-before-building))
    
*   Editor: Fixed crash or validation error caused by out-of-bounds clear on XR platforms when using Vulkan. (UUM-32721)
    
*   Editor: Fixed error when selecting folders from the folder panel or closing the folder panel with EditorUtility.OpenFolderPanel() in use. ([UUM-26507](https://issuetracker.unity3d.com/issues/error-nullreferenceexception-is-thrown-when-selecting-folders-from-the-folder-panel-or-closing-the-folder-panel-with-editorutility-dot-openfolderpanel-in-use))
    
*   Editor: Fixed errors being thrown from the RenderTexture editor after selecting the Tex2DArray dimension. (UUM-31741)
    
*   Editor: Fixed YAML file corruption on Android Platforms caused due to some targets i became obsolete in PlatformGroupEnum. ([UUM-21944](https://issuetracker.unity3d.com/issues/projectsettings-dot-asset-changes-to-an-unparsable-yaml-file-when-using-scripting-define-symbols))
    
*   GI: Fixed an issue where scene debug visualization modes would look broken when baking multiple scenes together. (UUM-17494)
    
*   GI: Fixed incorrect fallback to CPU of GPU bake. ([UUM-24685](https://issuetracker.unity3d.com/issues/leak-in-lightmap-bake-api-when-using-progressive-gpu-lightmapper))
    
*   Graphics: Creating a RenderTexture with no depth bits specified fails instead of continuing with a warning. (UUM-22012)
    
*   Graphics: Fixed a crash on Vulkan/Metal when trying to preview non-Float or non-UNorm format RenderTextures. (UUM-31733)
    
*   Graphics: Fixed an issue where EditorUtility.CompressTexture would silently fail for zero-sized textures. (UUM-31569)
    
*   Graphics: Fixed black RenderTarget/CustomRenderTarget thumbnails when changing Color/Depth formats. (UUM-31726)
    
*   Graphics: Fixed scene being made dirty when creating a new RenderTexture asset. (UUM-31729)
    
*   HDRP: Added error when MSAA and non-MSAA buffers are bound simultaneously in custom passes. ([UUM-22996](https://issuetracker.unity3d.com/issues/hdrp-in-hdrp-if-the-user-selects-a-custom-color-and-camera-depth-buffer-with-msaa-on-it-silently-breaks-and-doesnt-render))
    
*   HDRP: Enabled path tracing to now produce correct results when dynamic resolution is enabled. (UUM-23315)
    
*   HDRP: Enabled the correct light position when changing distance on a Light Anchor. ([UUM-26172](https://issuetracker.unity3d.com/issues/light-direction-changes-when-changing-light-anchor-components-distance-property))
    
*   HDRP: Fixed a glitch in one frame in the Editor when using path tracing. (UUM-22917)
    
*   HDRP: Fixed an issue occuring on TAAU when the camera rect is adjusted. ([UUM-25737](https://issuetracker.unity3d.com/issues/hdrp-changing-camera-rect-breaks-taau))
    
*   HDRP: Fixed an issue where LOD-related frame render settings UI on the camera component would not reflect the current global default settings. ([UUM-27546](https://issuetracker.unity3d.com/issues/hdrp-default-frame-settings-are-not-updating-in-the-inspector-window-when-changed-in-the-project-settings))
    
*   HDRP: Fixed an issue with ray tracing initialization when switching between render pipeline assets. (UUM-24692)
    
*   HDRP: Fixed emissive mesh viewer of Area light missing from standalone player. (UUM-31531)
    
*   HDRP: Fixed HDSceneDepth triggering errors for uninitialized values. (UUM-21185)
    
*   HDRP: Fixed issue with Light Probe Proxy Volume not rendering correctly when Bounding Box Mode is Automatic World. ([UUM-22821](https://issuetracker.unity3d.com/issues/light-probe-proxy-volume-doesnt-render-correctly-when-bounding-box-mode-is-automatic-world))
    
*   HDRP: Fixed material upgrader when executing tests. (UUM-20743)
    
*   HDRP: Fixed memory leak in HDLightRenderDatabase when switching between editor and play and no lights are in the scene. ([UUM-29271](https://issuetracker.unity3d.com/issues/memory-leak-error-when-no-directional-light-is-present-in-the-scene-and-leak-detection-level-is-enabled))
    
*   HDRP: Fixed swapped tooltips on decal materials for ambient occlusion and smoothness. ([UUM-29660](https://issuetracker.unity3d.com/issues/smoothness-and-ambient-occlusion-tooltips-are-swapped-on-hdrp-slash-decal))
    
*   HDRP: Fixed the albedo and specular color override so it is now considered as sRGB. (UUM-23268)
    
*   HDRP: Fixed the exposure for SSR debug rendering. ([UUM-19575](https://issuetracker.unity3d.com/issues/hdrp-screen-space-reflections-debug-is-not-working))
    
*   HDRP: Fixed the init order that could cause DXR setup to fail after using the HDRP wizard to enable DXR on an existing HDRP project. ([UUM-21776](https://issuetracker.unity3d.com/issues/the-game-view-is-black-and-the-editor-throws-a-nullreferenceexception-after-restarting-the-editor-when-pressing-the-fix-all-button-in-hdrp-wizard))
    
*   HDRP: Fixed the label and improved documentation for After Post Process depth test flag to give more detail about "Depth Test" being automatically disabled in some cases.
    
*   HDRP: Fixed the raytraced reflections for box lights so they are no longer cut off if the range is too small. ([UUM-21442](https://issuetracker.unity3d.com/issues/hdrp-boxlight-reflections-looks-incorrect-in-rtx))
    
*   HDRP: Fixed transparent decal textures being added into atlas even if the material properties have disabled them. ([UUM-29093](https://issuetracker.unity3d.com/issues/hdrp-decal-texture-are-stored-in-the-decal-atlas-even-if-all-affect-xxx-settings-are-disabled))
    
*   HDRP: Fixed usage of FindObjectsOfType to use FindObjectsByType(FindObjectsSortMode.None).
    
*   HDRP: Fixed Volumetric Clouds jittering when the sun was not casting shadow. ([UUM-27919](https://issuetracker.unity3d.com/issues/clouds-are-jittering-when-enabling-volumetric-clouds-in-the-hdrp-project))
    
*   HDRP: Improved the console warning message when the maximum number of shadows is reached in the view. (UUM-28072)
    
*   iOS: Fixed a crash on iOS when Graphics Jobs were enabled. ([UUM-22614](https://issuetracker.unity3d.com/issues/ios-crash-on-unityframework-scheduledependencies-when-graphics-jobs-are-enabled))
    
*   iOS: Fixed memory leak when using GL.Clear in MonoBehaviour Update/LateUpdate. ([UUM-8457](https://issuetracker.unity3d.com/issues/ios-memory-leaks-when-calling-gl-dot-clear-from-update-slash-late-update))
    
*   Linux: Fixed DisplayInfo.WorkArea ignores resolution scaling when working with multiple displays. ([UUM-1589](https://issuetracker.unity3d.com/issues/linux-displayinfo-dot-workarea-ignores-resolution-scaling-when-working-with-multiple-displays))
    
*   Scene/Game View: Fixed the Rect Tool not showing the active element when snapping. ([UUM-29629](https://issuetracker.unity3d.com/issues/2d-no-visual-indication-is-shown-before-selecting-snapping-points-when-using-vertex-snapping))
    
*   Scene/Game View: Fixed the Rect Tool sometimes not moving UI GameObjects if the pivot was changed. ([UUM-30232](https://issuetracker.unity3d.com/issues/ui-gameobject-sometimes-cant-be-moved-when-pivot-is-moved-from-center))
    
*   Shadergraph: Improved performance of disconnecting nodes in large graphs. (UUM-31610)
    
*   Shaders: Reduced shader compiler memory usage. (UUM-30445)
    
*   SRP Core: Fixed an IES Importer issue producing incorrect results. (UUM-16309)
    
*   VFX Graph: Fixed a crash when logging an error messages for unexpected buffers.
    
*   Video: Internal texture queue populated by asynchronous decoding was sometimes being drained from 2 threads. Now serializing access. ([UUM-21948](https://issuetracker.unity3d.com/issues/crash-on-windowsvideomedia-getfirstreadytexturetime-when-focusing-gameobject-in-tutorial))
    
*   Windows: Fixed sizeof type error in StackWalker library.

### Known Issues in 2021.3.23f1

*   DirectX11: DirectX 11 analytics crashes the player on Windows 7 ([UUM-32718](https://issuetracker.unity3d.com/issues/directx-11-analytics-crashes-the-player-on-windows-7))
    
*   DirectX12: \[macOS\] Editor freezes when saving prefab changes in Play Mode if “VSync” is enabled ([UUM-30173](https://issuetracker.unity3d.com/issues/macos-editor-freezes-when-saving-prefab-changes-in-play-mode-if-vsync-is-enabled))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   Metal: \[iOS\] Rendering freezes when the orientation is changed ([UUM-9480](https://issuetracker.unity3d.com/issues/ios-rendering-freezes-when-the-orientation-is-changed))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Project Browser: Project Browser shows package resources when package visibility is disabled ([UUM-32517](https://issuetracker.unity3d.com/issues/project-browser-shows-package-resources-when-package-visibility-is-disabled))
    
*   RP Foundation: "Resources.FindObjectsOfTypeAll(typeof(Material)).Length" increases every time when entering/exiting Play Mode ([UUM-27587](https://issuetracker.unity3d.com/issues/resources-dot-findobjectsoftypeall-typeof-material-dot-length-increases-every-time-when-entering-slash-exiting-play-mode))
    
*   Visual Effects - Legacy: \[Android\]\[Vulkan\] Visualisation corruption occurs when rendering Particles to Render Texture ([UUM-21106](https://issuetracker.unity3d.com/issues/android-vulkan-visualisation-corruption-occurs-when-rendering-particles-to-render-texture))
    
*   Windows: BuildPipeline.BuildPlayer ignores BuildPlayerOptions.locationPathName and attempts to build to the cached folder ([UUM-30952](https://issuetracker.unity3d.com/issues/buildpipeline-dot-buildplayer-ignores-buildplayeroptions-dot-locationpathname-and-attempts-to-build-to-the-cached-folder))
    

### 2021.3.23f1 Release Notes

#### Improvements

*   2D: Greatly reduce the time taken for sprite imports when the sprite requires an outline to be computed (e.g. physics shapes or precise meshes).
    
*   Animation: Reduced the cost of building muscle clips, which among other things speeds up Animator.Awake.
    
*   Animation: Reduced the number of GC allocations when calling Animator.GetParameter(int index) and generally made it faster.
    
*   Build System: BeeDriver: ignore System.IO.IOException: Sharing violation on path errors for console log. \[BUILD-21\]
    
*   Editor: Reduced cost of outline rendering, which improves the frame rate of the editor when many objects are selected.
    
*   Graphics: Reduced the time the render thread spends on Profiler.FlushRenderCounters. ([UUM-29300](https://issuetracker.unity3d.com/issues/release-player-is-consuming-initializationprofilerstartframeregistrator-in-non-development-mode))
    
*   iOS: "Thread Performance Checker" is now disabled by default in a generated xcode project.
    
*   Kernel: Performance in heavily run code paths for NativeArray, UnsafeUtility, and AtomicSafetyHandle improved through inlining.
    
*   Scripting: Switched some path sorting during compilation from an invariant culture compare to an ordinal compare, speeding up C# compilation when scripts are changed.
    
*   Serialization: Improved performance of restoring managed objects during a domain reload (again!).
    
*   Serialization: Improved performance of restoring managed objects during a domain reload.
    
*   Shadergraph: Fixed parallax nodes so that they use the default UV Input Slot correctly. \[SGB-511\].
    
*   Shadergraph: Improved blackboard property drag speed when reordering the blackboard. \[SGB-383\].
    
*   Shadergraph: Made adjustments to flipbook node to avoid dropping frames on AMD GPU. \[SGB-280\].
    
*   Shaders: Reduced the time spent in the asset post processing code for shader assets, which speeds-up the import of shaders.
    
*   VFX Graph: Greatly reduced the import cost of VFX Graph objects, especially when importing many at once.
    

#### API Changes

*   Editor: Added: Support to hide any method from the detail area of the console window.

#### Changes

*   Version Control: - Changed the icons for Unity Version Control rebranding  
    *   Changed onboarding workflow.

#### Fixes

*   2D: Fixed Sprites generated from TextureImporter generates different hashes. ([UUM-26790](https://issuetracker.unity3d.com/issues/sprites-get-re-imported-with-different-hash-when-making-an-asset-bundle-build))
    
*   2D: Fixed truncation of path for saving Tile assets when ending is not a file. ([UUM-29490](https://issuetracker.unity3d.com/issues/tile-palette-multi-drag-and-drop-sprite-asset-creation-location-is-non-deterministic))
    
*   Android: Added upgrade guide information about mainTemplate.gradle file changes. (UUM-32805)
    
*   Android: Enabled the unlock image to be set on each lock rather than only on the first. ([UUM-21954](https://issuetracker.unity3d.com/issues/android-the-previous-screen-shown-when-unlocking-a-device))
    
*   Android: Fixed an issue where the Accelerometer values are not updated when the ASENSOR\_TYPE\_LINEAR\_ACCELERATION sensor is disabled on certain Samsung devices. ([UUM-20754](https://issuetracker.unity3d.com/issues/android-input-dot-acceleration-doesnt-get-the-acceleration-of-some-devices-when-disabling-input-dot-gyro))
    
*   Android: Fixed shader code generation when using SV\_Coverage input. (UUM-26807)
    
*   Audio: Fixed corrupt audio playing for the first time in the first launch, when audio mixer is assigned at runtime. ([UUM-19696](https://issuetracker.unity3d.com/issues/an-audioclip-played-through-an-audiomixer-provides-different-sounds-of-the-same-audio-when-playing-for-the-first-time))
    
*   Build Pipeline: Fixed an invalid build path error that triggers when building for WebGL on Windows. (UUM-27982)
    
*   Build System: Fixed unity\_license.json CopyFiles build failures. (UUM-28889)
    
*   DX12: Fixed for samplers resetting to point on streaming texture mips. (UUM-27504)
    
*   Editor: Bug fix for Shortcuts Manager to catch Shift and Options keypress. ([UUM-4083](https://issuetracker.unity3d.com/issues/mac-shortcutmanager-ignores-shift-modifier-1))
    
*   Editor: Fix for \[SGB-466\] and related issues where nodes with warning or error badges would fail to clean up their resources properly and leave the shader graph editor in an error state.
    
*   Editor: Fix that a applying a sub managedreference override is not prevented when it is not possible (now also shows a warning dialog to the user). ([UUM-23038](https://issuetracker.unity3d.com/issues/a-warning-is-not-displayed-when-applying-changes-to-the-prefab))
    
*   Editor: Fixed a Drag and Drop to parent folder when the parent contains a child folder with the same name. ([UUM-11707](https://issuetracker.unity3d.com/issues/dragging-and-dropping-a-uss-file-to-a-folder-in-the-project-window-moves-the-file-to-a-subfolder))
    
*   Editor: Fixed a memory issue in CreateAssetMenu::Rebuild, which would crash builds with the debug allocator enabled. ([UUM-32704](https://issuetracker.unity3d.com/issues/crash-on-createassetmenu-rebuild-when-creating-a-project-after-enabling-forcedebugallocator))
    
*   Editor: Fixed a situation where opening a regular window after an auxiliary window can cause a crash if the window closes. ([UUM-29982](https://issuetracker.unity3d.com/issues/editor-crash-on-guiview-oninputevent-when-calling-editorwindow-dot-createwindow-from-inside-ongui))
    
*   Editor: Fixed exception thrown when multiple generic methods with the \[HideInCallstack\] attribute have the same name.
    
*   Editor: Fixed issue where -nographics command line argument was not being forwarded to the Asset Import Workers. (UUM-29722)
    
*   Editor: Fixed issue where high-DPI mice can get the cursor stuck to the wrong icon. Now stable at 16000 DPI. ([UUM-26685](https://issuetracker.unity3d.com/issues/the-mouse-pointer-does-not-update-when-moving-it-between-two-windows))
    
*   Editor: Fixed preset save crash. ([UUM-29750](https://issuetracker.unity3d.com/issues/linux-crash-on-guiview-isvsyncenabled-when-saving-a-preset))
    
*   Editor: Fixed shortcut profile delete dialog message overflow in Shortcut Manager. ([UUM-28294](https://issuetracker.unity3d.com/issues/delete-shortcut-profile-window-does-not-fit-the-size-of-the-profile-title))
    
*   Editor: Fixed the EnumField updating the label when calling `SetValueWithoutNotify` and the value had not changed. ([UUM-28904](https://issuetracker.unity3d.com/issues/inconsistent-behavior-of-enumfield-initialization-when-an-enum-type-is-used-as-a-generic-type))
    
*   Editor: Fixed the project from freezing due to a faulty Raycast operation in the navigation system. (UUM-28701)
    
*   Editor: IL2CPP backup folder is no longer created if "Create Symbols.zip" build setting is set to Disabled on Android. (UUM-28355)
    
*   Editor: Prevent creation of .meta files in loadable plugin directories (.androidlib, .bundle, .framework, .plugin). ([UUM-9421](https://issuetracker.unity3d.com/issues/macos-meta-files-are-created-inside-a-bundle-when-its-imported-into-the-project))
    
*   GI: Fixed an issue with Light Explorer filtering when many lights are present. ([UUM-30672](https://issuetracker.unity3d.com/issues/light-explorer-search-loses-focus-when-typed-into))
    
*   Graphics: Blitting from RenderTexture.active to another RenderTexture with a shader sampling a texture at specific UV values causes visual artifacts. ([UUM-7994](https://issuetracker.unity3d.com/issues/blitting-from-rendertexture-dot-active-to-another-rendertexture-with-a-shader-sampling-a-texture-at-specific-uv-values-causes-visual-artifacts))
    
*   Graphics: Fixed bug with Streaming Virtual Texturing throwing a "The transcoded bitstream was invalid" error that was caused by build pipeline bug corrupting virtual texture regions located in virtual texture files larger than 2GB. When using SVT, it is recommended to rebuild your Player's build in order to get the corrected streaming files (GTS and GTP files) in the Streaming Assets folder. (UUM-30987)
    
*   HDRP: Fixed hard eges on volumetric clouds. ([UUM-3153](https://issuetracker.unity3d.com/issues/hdrp-harsh-edges-on-default-volumetric-clouds))
    
*   IL2CPP: Fixed a bug where IL2CPP returns an invalid pointer on P/Invoke methods that returns a non-blittable struct by reference. ([UUM-20790](https://issuetracker.unity3d.com/issues/il2cpp-returns-a-pointer-to-the-stack-value-which-points-to-invalid-memory-when-generating-code))
    
*   IL2CPP: Fixed a bug where referenced assets are unloaded by `Resources.UnloadUnusedAssets()`. ([UUM-26883](https://issuetracker.unity3d.com/issues/referenced-assets-are-unloaded-by-resources-dot-unloadunusedassets-when-used-in-il2cpp-build))
    
*   IL2CPP: Fixed a C++ compilation error when assigning to a ref parameter in shared generic code with constraints. (UUM-28821)
    
*   IL2CPP: Fixed a C++ compilation error when structs had static fields with circular type references. ([UUM-16351](https://issuetracker.unity3d.com/issues/build-fails-when-scripting-backend-is-il2cpp-and-threadstatic-attribute-is-applied-to-circular-structs))
    
*   IL2CPP: Fixed an intermittent crash on POSIX platforms which can happen when `Directory.GetFiles` is called while files in that directory are deleted on a different thread. ([UUM-29790](https://issuetracker.unity3d.com/issues/il2cpp-android-ios-player-crash-when-system-dot-io-dot-directory-dot-getfiles-is-called-during-file-deletion-on-another-thread))
    
*   IL2CPP: Marshalled a null value in a delegate field as a null delegate. ([UUM-29202](https://issuetracker.unity3d.com/issues/crashes-when-invoking-astruct-callback))
    
*   License: Fixed an issue where the Editor quits when activating ULF license and the license already exists. ([UUM-31031](https://issuetracker.unity3d.com/issues/editor-quits-during-license-activation-serial-mismatch))
    
*   Linux: Fixed memory corruption caused crash from libstdc++ basic\_string due to symbol conflicts from different '.so'. ([UUM-21782](https://issuetracker.unity3d.com/issues/linux-stringbuilder-marshalling-causes-runtime-free-invalid-pointer-abort-signal-crash-on-il2cpp-build))
    
*   Mono: Removed throw from attribute setters generated by profile stubber. ([UUM-18689](https://issuetracker.unity3d.com/issues/il2cpp-using-a-service-locator-to-retrieve-a-static-list-of-classes-doesnt-work-with-il2cpp-in-a-built-player))
    
*   Mono: Removed `!sig->is_inflated` assert from icall wrapper generator. ([UUM-27888](https://issuetracker.unity3d.com/issues/crash-on-condition-sig-is-inflated-and-and-sig-has-type-parameters-not-met-when-a-function-pointer-is-used-in-a-generic-method))
    
*   Package Manager: Fixed all delayed fields when editing a package in the inspector. ([UUM-19658](https://issuetracker.unity3d.com/issues/the-error-invalid-expected-a-semver-compatible-value-is-thrown-when-adding-a-dependency-in-the-inspector-with-letters-in-the-version-name))
    
*   Shadergraph: Addressed error feedback on import of graphs with invalid or missing targets, allowing them to be modified and saved. \[SGB-166\]\[SGB-167\]
    
*   Shadergraph: Addressed issue where duplicate serialized blackboard category children would in subgraphs would brick the ShaderGraph editor. \[SGB-378\]
    
*   Shadergraph: Addressed issue where missing targets were not handled on import. \[SGB-1\]
    
*   Shadergraph: Addressed various issues with the Swizzle node. \[SGB-159\]
    
*   Shadergraph: Fixed issue where custom interpolator previews would provide erroneous results when connecting through a reroute node. \[SGB-89\]
    
*   Shadergraph: Fixed issue where reroute node would sometimes show the wrong color for its appropriate inputs. \[SGB-17\]
    
*   Shadergraph: Fixed issue where subgraph gradient blackboard properties could have naming conflicts with parent graphs. \[SGB-310\]
    
*   Shadergraph: Fixed issue where the Gradient Noise Node was causing implicit truncation warnings. \[SGB-469\]
    
*   Shadergraph: Fixed issue where the view position of the graph editor would sometimes be forgotten when swapping between two open shadergraph editor windows. \[SGB-377\]
    
*   Shaders: Added a profiler marker for dynamic variant loading. (UUM-31878)
    
*   Shaders: Added macros for passing textures (Cube, 2DArray, and CubeArray) around without samplers. ([UUM-31858](https://issuetracker.unity3d.com/issues/unity-args-tex2darray-nosampler-doesnt-exist))
    
*   Shaders: Disabled shader compilation with debug symbols from using a non-existent file name. (UUM-31851)
    
*   Shaders: Enabled using real pass names when compiling shaders for mesh data optimisation. (UUM-15298)
    
*   Shaders: Fixed a rare crash when destroying shaders. (UUM-27361)
    
*   SRP Core: Fixed Decal Projector Editor fields so they are now saved when editing a prefab. ([UUM-29105](https://issuetracker.unity3d.com/issues/changes-made-to-decal-project-prefab-in-the-inspector-are-not-saved))
    
*   Universal RP: Fixed an issue where instantiating and destroying cameras, with Volume Update Mode set to ViaScripting, would allocate each time. ([UUM-22213](https://issuetracker.unity3d.com/issues/urp-instantiating-and-destroying-camera-with-update-mode-set-to-via-scripting-causes-memory-leak))
    
*   Version Control: - Fixed blurry icons in the Unity Version Control window and toolbar button  
    
    *   Fixed Pending Changes tab not always opening its selected item's location in Project window  
        
    *   Fixed "Checked-out (changed)" status icon not showing up on Pending Changes tab  
        
    *   Fixed issue that prevented new packages from being installed unless user enters play mode.
*   VFX Graph: Exposure weight slider was not hidden when a shadergraph was assigned to an output context. (UUM-4753)
    
*   VFX Graph: Fixed an error raised in the console when undoing shader assignment in the Mesh output node. ([UUM-16367](https://issuetracker.unity3d.com/issues/undoing-actions-when-sahder-is-assigned-to-output-mesh-results-in-errrors-thrown-to-the-console))
    
*   VFX Graph: Fixed an issue that read alive from source attribute was always returning true. ([UUM-8698](https://issuetracker.unity3d.com/issues/cant-inherit-the-alive-value-from-the-spawner-context))
    
*   VFX Graph: Fixed errors in the console when undoing changes from gizmo in some specific conditions. ([UUM-21929](https://issuetracker.unity3d.com/issues/vfx-errors-are-thrown-to-the-console-when-undoing-operation-after-editing-exposed-gizmos))
    
*   VFX Graph: The VFX component inspector had an unpaired `EditorGUI.BeginChangeCheck` that was breaking the state of `GUI.changed` ([UUM-15919](https://issuetracker.unity3d.com/issues/vfx-editorgui-dot-beginchangecheck-and-editorgui-dot-endchangecheck-not-working-with-visual-effect-editor))
    
*   Windows: Fixed quoting of the command line arguments. ([UUM-21600](https://issuetracker.unity3d.com/issues/commandline-receives-different-commands-when-passing-through-system-dot-environment-dot-commandline-method))

### Known Issues in 2021.3.22f1

*   Asset - Database: Script recompiles in Play Mode when Script Changes While Playing option is set to Recompile After Finished Playing and Auto refresh is set to enabled. ([UUM-20409](https://issuetracker.unity3d.com/issues/script-recompiles-in-play-mode-when-script-changes-while-playing-option-is-set-to-recompile-after-finished-playing-and-auto-refresh-is-set-to-enabled))
    
*   iOS: Rendering freezes when the orientation is changed ([UUM-9480](https://issuetracker.unity3d.com/issues/ios-rendering-freezes-when-the-orientation-is-changed))
    
*   Linux: Crash on GUIView::IsVSyncEnabled when saving a preset ([UUM-29750](https://issuetracker.unity3d.com/issues/linux-crash-on-guiview-isvsyncenabled-when-saving-a-preset))
    
*   MacOS: \[2D Platformer Microgame\] 2D Platformer Microgame Project crash on **cxxabiv1::**aligned\_malloc\_with\_fallback when pinching out or in on the trackpad during “Zoom in and out” step ([UUM-20720](https://issuetracker.unity3d.com/issues/m1-2d-platformer-microgame-2d-platformer-microgame-project-crash-on-cxxabiv1-aligned-malloc-with-fallback-when-pinching-out-or-in-on-the-trackpad-during-zoom-in-and-out-step))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   RP Foundation: "Resources.FindObjectsOfTypeAll(typeof(Material)).Length" increases every time when entering/exiting Play Mode ([UUM-27587](https://issuetracker.unity3d.com/issues/resources-dot-findobjectsoftypeall-typeof-material-dot-length-increases-every-time-when-entering-slash-exiting-play-mode))
    
*   Scene Management: Crash on Transform::CheckStructure when manually opening a scene ([UUM-31129](https://issuetracker.unity3d.com/issues/crash-on-transform-checkstructure-when-manually-opening-a-scene))
    

### 2021.3.22f1 Release Notes

#### Fixes

*   2D: - Fixed an issue where in large Sprite Libraries the inspector would fail to load Sprite previews. ([DANB-367](https://issuetracker.unity3d.com/issues/sprites-start-to-flicker-in-the-inspector-of-the-sprite-library-asset-when-expanding-the-inspector))
    
*   2D: - \[com.unity.2d.animation\] Fixed an issue where "System.ArgumentException" thrown when opening sprite Prefab with Script. ([DANB-335](https://issuetracker.unity3d.com/issues/system-dot-argumentexception-thrown-when-opening-sprite-prefab-with-script))
    
*   2D: - \[com.unity.2d.animation\] Fixed an issue where IKEditorManager updates even when there are no active IK Manager 2Ds in the Scene. ([DANB-344](https://issuetracker.unity3d.com/issues/ikeditormanager-dot-initialize-is-called-when-the-editorapplication-dot-hierarchychanged-event-is-invoked))
    
*   2D: - \[com.unity.2d.animation\] Fixed an issue where IKGizmos will throw an exception in the editor when IKSolver has an unassigned Solver in its list. (DANB-370)
    
*   2D: - \[com.unity.2d.animation\] Fixed an issue where undo the addition of a Sprite Skin component would crash the editor. ([DANB-201](https://issuetracker.unity3d.com/issues/crash-on-transform-gettransformaccess-when-undoing-the-action-of-adding-sprite-skin-to-an-object))
    
*   2D: - \[com.unity.2d.animation\] Fixed an issue where undoing vertex painting results in a displaced mesh. ([DANB-309](https://issuetracker.unity3d.com/issues/2d-using-undo-in-the-skinning-editor-after-moving-bones-and-geometry-with-the-weight-brush-disfigures-the-sprite))
    
*   2D: - \[com.unity.2d.animation\] Fixed SpriteResolver does not animation with animation clip when upgrading from 2020.3. (DANB-374)
    
*   2D: - \[com.unity.2d.spriteshape\] Fix case where Error "A Native Collection has not been disposed, resulting in a memory leak" occurs in Play Mode. ([DANB-296](https://issuetracker.unity3d.com/issues/error-a-native-collection-has-not-been-disposed-resulting-in-a-memory-leak-occurs-in-play-mode-when-a-gameobject-has-the-sprite-shape-controller-component-and-is-a-child-of-an-inactive-parent))
    
*   2D: - \[com.unity.2d.spriteshape\] Fix case where BezierUtility.BezierPoint function parameters are not in the right order. ([DANB-239](https://issuetracker.unity3d.com/issues/bezierutility-dot-bezierpoint-function-parameters-are-not-in-the-right-order))
    
*   2D: - \[com.unity.2d.tilemap.extras\]\[GameObjectBrush\] Align rotation and flip to 2D View in Editor.
    
*   2D: - \[com.unity.2d.tilemap.extras\]\[GameObjectBrush\] Fix placement of GameObjects for Hexagon Layouts with Anchor.
    
*   2D: - \[com.unity.2d.tilemap.extras\]\[RandomBrush\] Use default color and transform when painting over with RandomBrush.
    
*   2D: Fixed a crash when a user loads a Tilemap with a TilemapCollider2D and CompositeCollider2D with an invalid Sprite. ([UUM-29132](https://issuetracker.unity3d.com/issues/crash-on-tilemapcollider2d-generatepathsfromsprite-when-opening-specific-project))
    
*   Apple TV: Fixed a crash when closing the hardware keyboard. ([UUM-26712](https://issuetracker.unity3d.com/issues/tvos-crash-when-closing-the-on-screen-keyboard-with-tvos-version-15-dot-0))
    
*   Asset Pipeline: Fixed a case of Missing Script errors that could occur after leaving safe mode.
    
*   Asset Pipeline: Removed use of auto keyword in LMDB library. (UUM-29394)
    
*   DX12: Fixed a crash due to copying sampler descriptors. (UUM-29343)
    
*   Editor: Detect asset corruption before uploading to accelerator. ([UUM-26502](https://issuetracker.unity3d.com/issues/asset-corruption-when-using-the-accelerator-cache-server))
    
*   Editor: Disabled depth resolve if the camera doesn't have a depth buffer. (UUM-22019)
    
*   Editor: Enabled Gradle file search to use RegEx when looking for Play library dependencies, which identifies dependencies included with both double or single quotes. (UUM-29110)
    
*   Editor: Enabled shader global values to be taken into account when deciding what to rebake. (UUM-27392)
    
*   Editor: Fixed "Target minimum iOS Version" requirement. ([UUM-29044](https://issuetracker.unity3d.com/issues/wrong-target-minimum-ios-version-is-set-in-a-newly-created-project-if-the-required-version-is-12))
    
*   Editor: Fixed a rare Editor crash when using accelerator for shader cache. ([UUM-27645](https://issuetracker.unity3d.com/issues/crash-during-project-build-when-accessing-remote-shader-cache))
    
*   Editor: Fixed an OS key binding exception in ShortcutManager. ([UUM-4125](https://issuetracker.unity3d.com/issues/windows-keys-show-up-with-incorrect-keycodes-and-throw-errors-when-attempting-to-reassign-shortcuts-to-them))
    
*   Editor: Fixed freeform light tessellation for Light2D. ([UUM-9674](https://issuetracker.unity3d.com/issues/freeform-light2d-lighting-is-incorrect-when-moving-around-nodes))
    
*   Editor: Fixed handling msaa resolve in Frame Debugger when connected to Meta Quest over display link. ([UUM-1552](https://issuetracker.unity3d.com/issues/xr-quest-2-using-the-frame-debugger-camera-dot-render-commands-are-displayed-in-red-and-black-when-msaa-is-activated))
    
*   Editor: Fixed issue when importing FBX files where memory usage grows exponentially with the amount of clips present in the file. ([UUM-22047](https://issuetracker.unity3d.com/issues/unity-editor-not-responding-and-uses-up-all-the-memory-while-opening-project))
    
*   Editor: Fixed ReorderableList element culling when drawing with GUI rotation or scaling applied. ([UUM-10761](https://issuetracker.unity3d.com/issues/ui-doesnt-render-list-contents-when-using-guiutility-dot-scalearoundpivot))
    
*   Editor: Fixed the editor crash while switching avatar from generic to humanoid. ([UUM-22716](https://issuetracker.unity3d.com/issues/linux-crash-on-guiview-sendlayoutevent-guistate-and-when-changing-animation-type-to-humanoid))
    
*   Editor: GameObjects from 31st layer are rendered when Camera.cullingMask is set to 'Everything'. ([UUM-2698](https://issuetracker.unity3d.com/issues/gameobjects-from-31st-layer-are-not-rendered-when-camera-dot-cullingmask-is-set-to-everything))
    
*   Editor: Only change file status flags with chflags on OSX if the requested flags differ from actual. (UUM-26616)
    
*   Editor: The color picker can now select the proper color on a secondary monitor on macOS ([UUM-2501](https://issuetracker.unity3d.com/issues/cant-select-color-from-editor-with-color-picker-when-unity-editor-is-on-secondary-monitor))
    
*   GI: Fixed corrupted probes on scenes without a lighting data asset when running the editor with -nographics. ([UUM-16874](https://issuetracker.unity3d.com/issues/linear-color-space-always-renders-fullbright-when-target-platform-is-uwp))
    
*   Graphics: Fixed failing editor mode test on M1 trying to create a PVRTC texture smaller than the minimum required size. (UUM-3791)
    
*   Graphics: Product name will now be used as application name when creating Vulkan instance. ([UUM-25486](https://issuetracker.unity3d.com/issues/there-is-no-option-to-change-the-string-being-passed-when-unity-passes-the-string-to-the-vkcreateinstance-function))
    
*   Graphics: VSync doesn't turn off when changing the quality in the Player from "High Fidelity" to "Performant". ([UUM-17522](https://issuetracker.unity3d.com/issues/vsync-doesnt-turn-off-when-changing-the-quality-in-the-player-from-high-fidelity-to-performant))
    
*   Linux: Fixed the Mouse position so it is now correct when playing the build on a multiple monitor setup in full screen mode. ([UUM-26497](https://issuetracker.unity3d.com/issues/linux-mouse-position-is-incorrect-when-playing-build-on-a-multiple-monitor-setup-in-full-screen-mode))
    
*   Networking: Fixed an issue that could prevent UDP sockets from being created on Windows when TDI filters were installed.
    
*   Scene/Game View: Fixed selected child GameObjects not rendering gizmos when the root GameObject is not also selected. ([UUM-22208](https://issuetracker.unity3d.com/issues/collider-gizmos-are-not-visible-when-a-child-gameobject-is-selected-and-parent-gameobject-is-outside-the-view))
    
*   Shaders: Fix material keywords cleared when setting the exact same list of keywords ([UUM-27639](https://issuetracker.unity3d.com/issues/setting-the-material-dot-shaderkeywords-field-causes-the-field-to-become-empty-when-the-new-shader-keywords-are-the-same-as-the-existing-ones))
    
*   TLS: Cumulative TLS update.  
    Fixed invalid verification results reported in some cases when there is a TLS handshake failure.  
    Fixed an issue where opening multiple TLS connections with different lifetimes might affect the ability to produce log output after one of the first connections is closed.  
    Improved TLS errors reported by Unity Web Request.
    
*   uGUI: "NullReferenceException" error is thrown when entering the Play Mode with >=2 open Inspectors and Canvas GameObject is selected. ([UUM-1510](https://issuetracker.unity3d.com/issues/nullreferenceexception-error-is-thrown-when-entering-the-play-mode-with-equals-2-open-inspectors-and-canvas-gameobject-is-selected))
    
*   uGUI: Instantiating a Selectable under a CanvasGroup sets the correct interactable state. ([UUM-27611](https://issuetracker.unity3d.com/issues/the-button-is-interactable-when-instantiated-into-a-non-interactable-canvas-group))
    
*   UI Elements: Added "-unity-slice-scale" USS property to UI Builder and updated drag step for some style fields  
    Also updated dragger manipulators for the following UI Builder property inspectors (default drag step updated from 1.0px (old value) to 0.1px (new value):  
    
    *   TextShadow's Blur Radius, Offset X and Y fields  
        
    *   Slice Scale field. ([UUM-15680](https://issuetracker.unity3d.com/issues/ui-builder-the-border-of-visualelement-is-not-created-when-slicing-a-pixel-art-sprite))
*   UI Toolkit: Users can set the ScrollView's mouse wheel scroll size (thus its speed) with the Mouse Wheel Scroll Size attribute, regardless of its vertical and horizontal page sizes. ([UUM-18554](https://issuetracker.unity3d.com/issues/slow-scroll-view-scrolling-when-entering-play-mode-and-in-builds))
    
*   Universal RP: Fixed soft shadow filtering quality when using large empty shadow atlas. Use allocated atlas size instead of requested size. ([UUM-10520](https://issuetracker.unity3d.com/issues/urp-shadows-are-jagged-when-shadow-atlas-resolution-is-set-to-4096))
    
*   URP: Fixed incorrect Depth for Camera Stacks. ([UUM-24943](https://issuetracker.unity3d.com/issues/ios-ui-camera-stacking-is-not-working-on-some-ios-devices))
    
*   VFX Graph: Added support for multiple subgraphs drag&drop. ([UUM-15236](https://issuetracker.unity3d.com/issues/multiple-subgraphs-cannot-be-dragged-to-the-system))
    
*   VFX Graph: Fixed a crash when drag & dropping a vfx on another vfx with a circular dependency. ([UUM-14670](https://issuetracker.unity3d.com/issues/vfx-crash-on-serializablemanagedref-getscripttype-when-drag-and-dropping-subgraph-to-the-system))
    
*   VFX Graph: Fixed the `Dispose()` method of `MeshToSDFBaker` leading to memory leaks ([UUM-25814](https://issuetracker.unity3d.com/issues/sdf-baking-causes-memory-to-be-allocated-that-isnt-deallocated-when-in-play-mode-and-in-builds))
    
*   VFX Graph: GPU Event weren't always safe. (UUM-25065)
    
*   WebGL: Fixed FMOD console errors when a scene is reloaded. (UUM-19241)
    
*   WebGL: Fixed playback of mp3 audio files loaded via UnityWebRequest on Safari ([UUM-25389](https://issuetracker.unity3d.com/issues/webgl-audio-source-has-no-sound-if-the-audio-clip-was-downloaded-via-webrequest-on-ios-devices))
    
*   Windows: Fixed IME text input not being reported appropriately when users clicks away while using an IME, with the input system. The characters would be reported multiple times. (UUM-24734)

### Known Issues in 2021.3.21f1

*   Asset - Database: Script recompiles in Play Mode when Script Changes While Playing option is set to Recompile After Finished Playing and Auto refresh is set to enabled. ([UUM-20409](https://issuetracker.unity3d.com/issues/script-recompiles-in-play-mode-when-script-changes-while-playing-option-is-set-to-recompile-after-finished-playing-and-auto-refresh-is-set-to-enabled))
    
*   Linux: Crash on GUIView::IsVSyncEnabled when saving a preset ([UUM-29750](https://issuetracker.unity3d.com/issues/linux-crash-on-guiview-isvsyncenabled-when-saving-a-preset))
    
*   MacOS: \[2D Platformer Microgame\] 2D Platformer Microgame Project crash on **cxxabiv1::**aligned\_malloc\_with\_fallback when pinching out or in on the trackpad during “Zoom in and out” step ([UUM-20720](https://issuetracker.unity3d.com/issues/m1-2d-platformer-microgame-2d-platformer-microgame-project-crash-on-cxxabiv1-aligned-malloc-with-fallback-when-pinching-out-or-in-on-the-trackpad-during-zoom-in-and-out-step))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   RP Foundation: "Resources.FindObjectsOfTypeAll(typeof(Material)).Length" increases every time when entering/exiting Play Mode ([UUM-27587](https://issuetracker.unity3d.com/issues/resources-dot-findobjectsoftypeall-typeof-material-dot-length-increases-every-time-when-entering-slash-exiting-play-mode))
    
*   Visual Effects: SDF Baking causes memory to be allocated that isn't deallocated when in Play Mode and in Builds ([UUM-25814](https://issuetracker.unity3d.com/issues/sdf-baking-causes-memory-to-be-allocated-that-isnt-deallocated-when-in-play-mode-and-in-builds))
    

### 2021.3.21f1 Release Notes

#### Improvements

*   2D: Improved the performance of creating a large number of Tile assets with the Tile Palette window.
    
*   2D: Improved the performance of opening the Tile Palette window when the Tile Palette references a large number of Tile assets. (UUM-26849)
    
*   Package Manager: Extended support for specifying optional path and revision to Git URLs in SCP format.
    

#### Changes

*   Package Manager: Renamed Web3 category filter in Package Manager Window for My Assets to Decentralization.

#### Fixes

*   2D: Fixed the Tile Palette repainting a position when doing a mouse drag at the same position. (UUM-27588)
    
*   AI: Fixed the inaccurate shape of NavMeshObstacles that prevent agents from avoiding them properly. This only applies to Windows builds. ([UUM-9814](https://issuetracker.unity3d.com/issues/windows-agent-moves-into-obstacles-when-moving-towards-the-destination-in-builds))
    
*   Android: Fixed Screen.SetResolution when using split-screen and Screen.orientation changes. ([UUM-19019](https://issuetracker.unity3d.com/issues/android-screen-dot-setresolution-doesnt-work-in-split-view-when-setting-screen-orientation-different-from-the-orientation-of-the-device))
    
*   Android: Unity will no longer wrap native crashes into java exceptions on Android, as has been the case, and will correctly forward signals to the previous handlers.
    
*   Asset Bundles: Fixed issue where empty folders remain in the cache when the max storage space is exceeded. ([UUM-27439](https://issuetracker.unity3d.com/issues/cache-folders-remain-empty-after-discarding-the-cached-bundle))
    
*   Core: Fixed Transform.GetLossyScale() returning inaccurate results (only in Windows player non developpement builds). (UUM-25239)
    
*   DX12: Fixed for crash when RenderDoc is attached to a scene with an invalid pipeline state. ([UUM-22222](https://issuetracker.unity3d.com/issues/crash-on-d3d12getinterface-when-opening-the-project))
    
*   Editor: Avoid breaking SRP Batcher shadow batch when different "per material" texture. ([UUM-11166](https://issuetracker.unity3d.com/issues/srp-batcher-cant-batch-draw-calls-during-mainlightshadow-pass-when-readtexturealpha-is-enabled))
    
*   Editor: Fixed a crash where destroying a component's GameObject in the Awake function of a script with ExecuteInEditMode would incorrectly try to apply serialized object changes. ([UUM-21915](https://issuetracker.unity3d.com/issues/crash-on-modulemetadatabindings-getmoduleincludesettingforobject-when-enabling-gameobject))
    
*   Editor: Fixed an issue so that Light Probes are affected by back-facing triangles when baking with the GPU Lightmapper. (UUM-7699)
    
*   Editor: Fixed an issue with the initialization of raytracing which could fail during certain frames. (UUM-26885)
    
*   GI: Fixed an issue where lightmaps would be swapped when entering playmode when the "Reload Scene" option is disabled. ([UUM-21437](https://issuetracker.unity3d.com/issues/multiscene-lightmaps-are-swapped-when-entering-the-play-mode-for-the-first-time-after-loading-a-scene-when-reload-scene-is-disabled))
    
*   Graphics: Added error message when enabling restricted keywords on a Material. ([UUM-3576](https://issuetracker.unity3d.com/issues/crash-on-vkgetinstanceprocaddr-and-drawbuffersbatchmodeenabling-with-keyword-instancing-on-when-using-vulkan-opengles-and-metal))
    
*   Graphics: Added GetVisiblePositions to TrailRenderer. ([UUM-21893](https://issuetracker.unity3d.com/issues/trailrenderer-dot-getpositions-returns-invisible-points))
    
*   Graphics: Fixed a Particle System rendering corruption. ([UUM-21106](https://issuetracker.unity3d.com/issues/android-vulkan-visualisation-corruption-occurs-when-rendering-particles-to-render-texture))
    
*   Graphics: Fixed glitches on macOS when the rendering path is set to deferred. ([UUM-21567](https://issuetracker.unity3d.com/issues/m1-glitches-and-graphical-artifacts-are-appearing-when-rendering-path-is-set-to-deferred-using-the-built-in-render-pipeline))
    
*   IL2CPP: Enabled display of the name of each thread in native and third party profilers. (UUM-21136)
    
*   IL2CPP: Fixed a potential .cpp file name collision when two assembly names differ only by a number at the end of their name. ([UUM-27951](https://issuetracker.unity3d.com/issues/il2cpp-build-can-fail-when-2-assembly-definitions-have-similar-names))
    
*   IL2CPP: Fixed a race condition when creating generic class metadata. (UUM-26516)
    
*   IL2CPP: Fixed IL2CPP build failure when using Unbox instruction with generic by reference return type. ([UUM-5942](https://issuetracker.unity3d.com/issues/il2cpp-build-fails-when-using-an-assembly-renamed-via-sentrys-assembly-alias-tool))
    
*   IL2CPP: Projects created prior to 2021.3 and opened in 2021.3 or newer could have their Managed Stripping Level incorrectly migrated to the new default value of Minimal when the old default of Low should have been retained. (UUM-19512)
    
*   Linux: Fixed the Linux Editor so it no longer ignores a SIGTERM signal. ([UUM-24705](https://issuetracker.unity3d.com/issues/linux-editor-ignores-sigterm-signal-when-using-command-kill))
    
*   macOS: The macOS Player no longer contains an empty area gap on each screen vertical side when rendering fullscreen on Macs with a notch. (UUM-12632)
    
*   Mobile: Shaders with normals are rendered correctly when sampling pixels with mixed shader evaluation on iOS and Android builds. ([UUM-22766](https://issuetracker.unity3d.com/issues/material-is-displayed-incorrectly-when-it-uses-a-normal-map-with-a-mobile-build-target))
    
*   Networking: UnityWebRequest: Fixed a possible crash when texture download receives bogus data that does not decode. ([UUM-28816](https://issuetracker.unity3d.com/issues/downloadhandlertexture-crashes-if-it-downloads-invalid-texture-data))
    
*   Package Manager: Fixed an issue where a project with a large number of git dependencies would have resolution errors with error code 429 (Too Many Requests). The number of concurrent requests is six by default, but it can be changed by setting the `UPM_GIT_MAX_CONCURRENT_COMMANDS` environment variable. ([UUM-6049](https://issuetracker.unity3d.com/issues/rpc-failed-http-429-curl-22-the-requested-url-returned-error-429-error-message-appears-when-executing-git-commands))
    
*   Package Manager: Fixed an issue which prevented starting UPM when a `package.json` file containing `"type": "module"` was present on any of the ancestor directories. (UUM-18512)
    
*   Package Manager: Fixed the issue where local and git packages are not visible in `Unity Registry` and `My Registries`. ([UUM-20549](https://issuetracker.unity3d.com/issues/package-is-removed-from-the-scoped-registry-when-installing-the-same-package-from-a-local-disk))
    
*   Prefabs: Fixed prefab mode not sorting renderer components accordingly. ([UUM-3458](https://issuetracker.unity3d.com/issues/order-in-layer-does-not-work-when-previewing-in-prefab-mode))
    
*   Scene/Game View: Fixed Gizmo Icons not showing. ([UUM-27823](https://issuetracker.unity3d.com/issues/icon-of-empty-gameobject-disappears-when-selected))
    
*   Scene/Game View: Fixed Grid Size field snapping to minimum grid size when trying to enter a value below one. ([UUM-24640](https://issuetracker.unity3d.com/issues/grid-size-field-snapping-to-lowest-possible-value-when-the-number-begins-with-zero))
    
*   Serialization: Enabled `SerializedObject.Update` to now change the cache for `hasMultipleDifferentValues` if the first C# object has changed in memory in a multi-object selection scenario. (UUM-19688)
    
*   Shaders: Fixed multi\_compile\_particles to work together with built-in lighting variants. Requires shader re-import. (UUM-6037)
    
*   uGUI: Fixed "MissingReferenceException" when disabling and enabling "Send Navigation Events" through the EventSystem component Properties window. ([UUM-27822](https://issuetracker.unity3d.com/issues/missingreferenceexception-thrown-when-disabling-and-enabling-send-navigation-events-through-component-properties-window))
    
*   uGUI: Fixed imprecision when rotating using the Rect tool. ([UUM-3386](https://issuetracker.unity3d.com/issues/large-ish-float-error-margins-when-using-the-rect-tool-to-rotate-a-3d-object))
    
*   UI Toolkit: Fixed PanelRaycaster NullReferenceException when active in a scene with no EventSystem or BaseInputModule components. ([UUM-19168](https://issuetracker.unity3d.com/issues/forma-render-nullreferenceexception-in-unityengine-dot-uielements-dot-panelraycaster-dot-raycast-during-runtime))
    
*   UI Toolkit: UI Builder: Exception is no longer thrown when the user tries to enter a negative value for the Fixed Item Height attribute of a ListView, TreeView, etc. ([UUM-11324](https://issuetracker.unity3d.com/issues/argumentoutofrangeexception-value-needs-to-be-positive-for-virtualization-is-thrown-when-adjusting-fixed-item-height-into-the-negatives))
    
*   URP: Fixed XR vsync is disabled when focus is lost. (UUM-16846)
    
*   VFX Graph: Added missing DepthNormal pass for Unlit & Unify SSAO integration with Unlit for URP. ([UUM-19559](https://issuetracker.unity3d.com/issues/vfx-graph-opaque-unlit-output-dont-write-to-depth))
    
*   VFX Graph: Fixed an unsafe deletion of VFXParticleSystem which can lead to a crash while deleting VisualEffect. (UUM-9851)
    
*   VFX Graph: Fixed NRE when the Vector2 is configured as a range, it was preventing Decal output context creation. ([UUM-27114](https://issuetracker.unity3d.com/issues/vfx-graph-does-not-open-when-it-contains-the-output-particle-hdrp-lit-decal-node))
    
*   Video: Fixed crashes when changing the source URL on some specific devices. ([UUM-29011](https://issuetracker.unity3d.com/issues/android-application-crashes-when-changing-the-source-url-of-a-video-player-in-android-v2))
    
*   Video: Fixed error when adding file:// to point at a local file in the VideoPlayer on Android. ([UUM-16166](https://issuetracker.unity3d.com/issues/videoplayer-dot-url-on-android-does-not-work-with-file-uri-scheme-when-using-vp8-slash-webm-file))
    
*   Video: Multi-display rendering is displaying the first camera's view on both displays instead of displaying both camera's views when used with a mobile device. ([UUM-13587](https://issuetracker.unity3d.com/issues/multi-display-rendering-is-displaying-the-first-cameras-view-on-both-displays-instead-of-displaying-both-cameras-views-when-used-with-a-mobile-device))

### Known Issues in 2021.3.20f1

*   Asset - Database: Script recompiles in Play Mode when Script Changes While Playing option is set to Recompile After Finished Playing and Auto refresh is set to enabled. ([UUM-20409](https://issuetracker.unity3d.com/issues/script-recompiles-in-play-mode-when-script-changes-while-playing-option-is-set-to-recompile-after-finished-playing-and-auto-refresh-is-set-to-enabled))
    
*   MacOS: Crash on \_\_pthread\_kill when multi-clicking on "Build and Publish" in the "LEGO Microgame" project ([UUM-22236](https://issuetracker.unity3d.com/issues/crash-on-pthread-kill-when-multi-clicking-on-build-and-publish-in-the-lego-microgame-project))
    
*   MacOS: \[2D Platformer Microgame\] 2D Platformer Microgame Project crash on **cxxabiv1::**aligned\_malloc\_with\_fallback when pinching out or in on the trackpad during “Zoom in and out” step ([UUM-20720](https://issuetracker.unity3d.com/issues/m1-2d-platformer-microgame-2d-platformer-microgame-project-crash-on-cxxabiv1-aligned-malloc-with-fallback-when-pinching-out-or-in-on-the-trackpad-during-zoom-in-and-out-step))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Shader System: Crash during project build when accessing Remote Shader Cache ([UUM-27645](https://issuetracker.unity3d.com/issues/crash-during-project-build-when-accessing-remote-shader-cache))
    
*   Visual Effects: SDF Baking causes memory to be allocated that isn't deallocated when in Play Mode and in Builds ([UUM-25814](https://issuetracker.unity3d.com/issues/sdf-baking-causes-memory-to-be-allocated-that-isnt-deallocated-when-in-play-mode-and-in-builds))
    

### 2021.3.20f1 Release Notes

#### Improvements

*   Editor: Improved performance of Transform.Find() API especially when working with large numbers of children.

#### Changes

*   Version Control: Updated branding from "Plastic SCM" to "Unity Version Control"  
    Improved offline experience by disabling the plugin when there is no internet connection

#### Fixes

*   2D: Store directory path instead of file path as the last used asset path when doing a drag and drop to create a Tile Asset ([UUM-25250](https://issuetracker.unity3d.com/issues/tile-palette-drag-and-dropping-multiple-sprites-to-tile-palette-auto-selects-last-asset-to-create-tile-assets))
    
*   Android: Build will fail, if custom asset pack does not have a valid structure. ([UUM-25501](https://issuetracker.unity3d.com/issues/android-aab-build-fails-when-using-asset-bundles))
    
*   Android: Fixed an issue where `Network.OperationalStatus` would always return Unknown for Android. ([UUM-19683](https://issuetracker.unity3d.com/issues/android-network-dot-operationalstatus-method-returns-unknown-status-for-all-network-interfaces-when-observing-their-operational-state))
    
*   Android: Fixed the Time.deltaTime values so they are now stable on Android devices. ([UUM-10244](https://issuetracker.unity3d.com/issues/android-time-dot-deltatime-values-arent-stable-on-specific-devices))
    
*   Asset Pipeline: Fixed indeterministic output for any asset containing script types. ([UUM-22077](https://issuetracker.unity3d.com/issues/inconsistent-assetdatabase-dot-getdependencyhash-value-returned-for-unchanged-source-files-when-using-a-custom-scriptedimporter))
    
*   Build System: Fixed a BuildPipeline issue for the Android platform and MacStandalone builds which asks for a name and directory, despite having the last saved location details. This is triggered by using Ctrl+B (Windows) or Cmd+B (macOS). ([UUM-19897](https://issuetracker.unity3d.com/issues/build-and-run-asks-for-a-name-and-directory-when-it-was-previously-provided))
    
*   Editor: Fixed a regression that changed the default behaviour of animators on disabled. (UUM-27229)
    
*   Editor: Fixed an issue copying hideflags to the cloned object when instantiating a GameObject. (UUM-22863)
    
*   Editor: Fixed component added twice when dragging script asset on inspector window from project window ([UUM-26276](https://issuetracker.unity3d.com/issues/monobehaviour-dragged-and-dropped-to-the-gameobject-ends-up-adding-twice))
    
*   Editor: Fixed Crash on GUIView::ProcessInputEvent when switching Editor layout ([UUM-12892](https://issuetracker.unity3d.com/issues/crash-on-guiview-processinputevent-when-switching-editor-layout-after-luna-package-import))
    
*   Editor: Fixed drag and drop crashes the editor if the window is docked. ([UUM-23241](https://issuetracker.unity3d.com/issues/linux-editor-crashes-at-gdk-window-get-frame-extents-when-dragging-and-dropping-an-asset-in-a-custom-editor-window))
    
*   Editor: Fixed error when opening the "Select Preset" window while having a user defined Preset class assets ([UUM-11334](https://issuetracker.unity3d.com/issues/nullreferenceexception-is-thrown-when-opening-the-input-manager-select-preset-window))
    
*   Editor: Fixed Overlays not preserving enabled state through domain reloads. ([UUM-20070](https://issuetracker.unity3d.com/issues/hidden-overlays-are-reappearing-after-relaunching-the-unity-editor))
    
*   Editor: Fixed Slowdown spikes when moving an object in the scene caused by the PropertyDatabase. ([UUM-22631](https://issuetracker.unity3d.com/issues/search-slowdown-spikes-when-moving-an-object-in-the-scene-caused-by-the-propertydatabase))
    
*   Editor: Fixed the size of the editor window being smaller than the wrongly set default ([UUM-24686](https://issuetracker.unity3d.com/issues/linux-editorwindow-is-empty-when-created-with-the-utility-set-to-true))
    
*   Editor: Fixed Unity Event callback list calculating its height incorrectly ([UUM-9380](https://issuetracker.unity3d.com/issues/crash-on-serializedproperty-isvalid-when-selecting-multiple-scriptableobjects))
    
*   Editor: The Focused Inspector window cannot be opened for multiple different Assets via the Inspector window ([UUM-19504](https://issuetracker.unity3d.com/issues/the-focused-inspector-window-cannot-be-opened-for-multiple-different-assets-via-the-inspector-window))
    
*   Editor: Unsaved changes made to assets are now preserved when renaming an asset while using Perforce ([UUM-17896](https://issuetracker.unity3d.com/issues/changes-made-to-assets-are-not-saved-when-renaming-the-asset-while-using-perforce-2))
    
*   Editor: Using "Synchronous" flag with search expressions hangs Unity (UUM-14546)
    
*   GI: Fixed the help link at the top of the Lighting Window. ([UUM-25787](https://issuetracker.unity3d.com/issues/the-wrong-documentation-page-is-opened-when-clicking-the-help-icon-in-the-lighting-window))
    
*   IL2CPP: Emitted code that compiles for array element access from null in a non-development player build. ([UUM-597](https://issuetracker.unity3d.com/issues/il2cpp-unity-fails-to-build-when-using-faulty-function-with-an-element-being-called-from-null-array))
    
*   IL2CPP: Enabled proper handling of the unbox opcode when the result is used across IL basic blocks. ([UUM-21101](https://issuetracker.unity3d.com/issues/il2cpp-build-fails-when-a-project-is-using-ikvm-dot-dll-files))
    
*   IL2CPP: Fixed a compile error when you enable bitcode for an Android build. ([UUM-25113](https://issuetracker.unity3d.com/issues/an-undefined-symbol-error-is-thrown-when-building-with-the-fembed-bitcode-flag))
    
*   IL2CPP: Fixed the InvalidCastException being thrown when you serialize jagged arrays using BinaryFormatter. ([UUM-23156](https://issuetracker.unity3d.com/issues/il2cpp-invalidcastexception-is-thrown-when-serializing-jagged-arrays-using-binaryformatter))
    
*   IL2CPP: Fixed UnintializedDataAccessException when processing a function pointer that has a function pointer as a parameter. ([UUM-9030](https://issuetracker.unity3d.com/issues/il2cpp-not-correctly-handling-function-pointers-that-have-function-pointer-parameters-leads-to-build-failure))
    
*   Kernel: Fixed broken RECORD\_ALLOCATION\_SITES functionalit. (UUM-26702)
    
*   Kernel: Fixed crash resulting from UnityDefaultAllocator not tracking all allocations. (UUM-23090)
    
*   Kernel: Fixed potential crash at app shutdown. (UUM-26528)
    
*   macOS: Fixed Display systemWidth and systemHeight being wrong until window is moved to another display ([UUM-501](https://issuetracker.unity3d.com/issues/macos-returned-systemwidth-and-systemheight-are-half-of-the-correct-values-when-using-display-dot-main))
    
*   Mono: Enabled proper handling of the unbox opcode when the result is used across IL basic blocks. ([UUM-21101](https://issuetracker.unity3d.com/issues/il2cpp-build-fails-when-a-project-is-using-ikvm-dot-dll-files))
    
*   Mono: Fixed a crash when using ConditionalWeakTable. ([UUM-25411](https://issuetracker.unity3d.com/issues/crashes-on-garbagecollector-collectincremental-when-entering-the-play-mode))
    
*   Package Manager: Packages are deleted after changing the **My Assets** cache location to non-default when the asset is updated in Package Manager. ([UUM-25376](https://issuetracker.unity3d.com/issues/packages-are-deleted-after-changing-the-my-assets-cache-location-to-non-default-when-the-asset-is-updated-in-package-manager))
    
*   Prefabs: Disabled IMGUI ReorderableList elements when previewing overridden values PrefabMode InContext. ([UUM-13618](https://issuetracker.unity3d.com/issues/prefab-list-contains-the-wrong-number-of-elements-when-opening-it-through-a-prefab-variant))
    
*   Scripting: Fixed possible Editor hang while it waits for AssemblyUpdater when importing assemblies ([UUM-7944](https://issuetracker.unity3d.com/issues/apiupdater-reaches-a-timeout-while-updating-assemblies))
    
*   Shaders: Fixed asset bundle backwards compatibility regression on material keywords. (UUM-26498)
    
*   SRP Core: Fixed a Render Graph bug where culled passes would be delegated to releasing a resource, resulting in unwanted leaking. (UUM-20800)
    
*   uGUI: Fixed CanvasRenderer color reset on Clear ([UUM-3527](https://issuetracker.unity3d.com/issues/color-set-through-canvasrenderer-dot-setcolor-is-reset-when-canvasrenderer-becomes-inactive))
    
*   UI Toolkit: Fixed the ListView itemsRemoved event being invoked after the items were removed from the serializedObjectList. They are now removed after the callback. ([UUM-10786](https://issuetracker.unity3d.com/issues/argumentoutofrangeexception-errors-in-the-console-when-removing-items-from-a-scriptableobjects-listview))
    
*   Universal RP: Fixed a missing keyword in ParticlesSimpleLit for Lightmap shadow mixing. ([UUM-26403](https://issuetracker.unity3d.com/issues/urp-particle-simplelit-is-missing-number-pragma-multi-compile-lightmap-shadow-mixing))
    
*   Universal RP: Fixed an issue so that deferred rendering now works correctly in builds with Accurate GBuffer Normals enabled. ([UUM-25112](https://issuetracker.unity3d.com/issues/nothing-is-rendered-in-the-built-urp-project-when-deferred-rendering-is-selected-and-accurate-g-buffer-normals-are-enabled))
    
*   URP: 2D - Fixes 2D Sprite Light & Freeform Light fast normal map quality setting to correctly use normal map (UUM-4613)
    
*   URP: 2D - Fixes a bug with ShadowCaster2D's shadow mesh bounds which was causing shadows to disappear ([UUM-19090](https://issuetracker.unity3d.com/issues/urp-2d-shadow-disappears-even-though-light-is-in-range-of-the-sprite-when-using-light-2d))
    
*   VFX Graph: Fixed enum fields could be cropped when text is too long (UUM-4420)
    
*   Windows: Fixed a potential crash during Windows Player cleanup. ([UUM-25383](https://issuetracker.unity3d.com/issues/crash-on-screenmanagerwin-recommitcursorlock-when-screenmanager-pointer-is-used))
    
*   Windows: Fixed Build to source folder when the project build dir is deleted. (UUM-25240)

### Known Issues in 2021.3.19f1

*   Asset - Database: Script recompiles in Play Mode when Script Changes While Playing option is set to Recompile After Finished Playing and Auto refresh is set to enabled. ([UUM-20409](https://issuetracker.unity3d.com/issues/script-recompiles-in-play-mode-when-script-changes-while-playing-option-is-set-to-recompile-after-finished-playing-and-auto-refresh-is-set-to-enabled))
    
*   MacOS: Crash on \_\_pthread\_kill when multi-clicking on "Build and Publish" in the "LEGO Microgame" project ([UUM-22236](https://issuetracker.unity3d.com/issues/crash-on-pthread-kill-when-multi-clicking-on-build-and-publish-in-the-lego-microgame-project))
    
*   MacOS: \[2D Platformer Microgame\] 2D Platformer Microgame Project crash on **cxxabiv1::**aligned\_malloc\_with\_fallback when pinching out or in on the trackpad during “Zoom in and out” step ([UUM-20720](https://issuetracker.unity3d.com/issues/m1-2d-platformer-microgame-2d-platformer-microgame-project-crash-on-cxxabiv1-aligned-malloc-with-fallback-when-pinching-out-or-in-on-the-trackpad-during-zoom-in-and-out-step))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Profiling: \[URP\] Memory leak when in Play Mode ([UUM-19089](https://issuetracker.unity3d.com/issues/urp-memory-leak-when-in-play-mode))
    
*   Universal RP: Nothing is rendered in the built URP project when Deferred rendering is selected and Accurate G-buffer normals are enabled ([UUM-25112](https://issuetracker.unity3d.com/issues/nothing-is-rendered-in-the-built-urp-project-when-deferred-rendering-is-selected-and-accurate-g-buffer-normals-are-enabled))
    
*   Visual Effects: SDF Baking causes memory to be allocated that isn't deallocated when in Play Mode and in Builds ([UUM-25814](https://issuetracker.unity3d.com/issues/sdf-baking-causes-memory-to-be-allocated-that-isnt-deallocated-when-in-play-mode-and-in-builds))
    

### 2021.3.19f1 Release Notes

#### Features

*   Package Manager: Added Web3 as a Filter Category in My Assets.

#### Improvements

*   IL2CPP: Improved error message when the GenericSharingVisitor encounters an opcode that it cannot handle.
    
*   Shadergraph: The asset postprocessor for shader graph now only performs the majority of its work when a shader-related asset has been changed.
    

#### API Changes

*   Apple TV: Added: Identifier for 3rd generation Apple TV 4K.
    
*   iOS: Added: Identifiers for iPad models released in 2022.
    

#### Changes

*   Editor: Updated the documentation for AudioClip.GetData. Clarified the usage of the API for all streamed clips and made a note on the return value of AudioClip.GetData which is currently undocumented. ([UUM-363](https://issuetracker.unity3d.com/issues/cannot-get-data-from-streamed-samples-when-using-pcm-read-callbacks))

#### Fixes

*   2D: Fixed an issue where the Name/FileIds in a Sprite meta file would get reordered when an importer setting is changed. ([UUM-22494](https://issuetracker.unity3d.com/issues/texture-version-control-importing-certain-textures-with-multiple-sprites-cause-arbitrary-changes-in-namefileidtable-mapping-in-meta-file))
    
*   2D: Fixed issue where Tiles are "double painted" when a user does a mouse drag when painting on a Tilemap. (UUM-25164)
    
*   Android: Fixed crash if Java proxy is invoked at the same time as Unity is quit. (UUM-15968)
    
*   Android: Fixed permissions request hang in pre-marshmellow (Android 6).
    
*   Asset Bundles: Fixed issue where "Failed to decompress data" error occurs when loading bundle. (UUM-22990)
    
*   Asset Bundles: Fixed issue where "Failed to decompress data" error occurs when loading bundle. ([UUM-6639](https://issuetracker.unity3d.com/issues/assetbundle-is-invalid-and-failed-to-decompress-data-errors-appear-after-exporting-and-importing-specific-asset-bundles))
    
*   Build Pipeline: Improved error message, and remove possibility of crash, when a MonoBehaviour or ScriptableObject is being built that does not have a MonoScript. ([UUM-21886](https://issuetracker.unity3d.com/issues/unity-editor-crashes-on-collectallserializereferencetypesandpersistentcalltargets-when-building-a-project-for-standalone-player))
    
*   Build Pipeline: Switching between Desktop Standalone and Dedicated Server platforms in the Build Settings window should now cause scripts to recompile. (UUM-22125)
    
*   Core: Asset import workers will not inherit open handles from the main editor causing trouble rebinding network sockets. (UUM-939)
    
*   DX12: Fixed a crash observed in e.g. HDRP sample project. ([UUM-20176](https://issuetracker.unity3d.com/issues/hdrp-template-standalone-player-crashes-after-a-few-seconds))
    
*   Editor: Dragging a component to the bottom of the inspector will now properly move that component to the end. ([UUM-18711](https://issuetracker.unity3d.com/issues/inspector-component-isnt-placed-at-the-bottom-when-releasing-mouse-outside-of-the-blue-highlight))
    
*   Editor: Dropped warning about mismatching mipmap limits when using a region-based CopyTexture. ([UUM-21771](https://issuetracker.unity3d.com/issues/unnecessary-amounts-of-warnings-are-logged-when-using-graphics-dot-copytexture))
    
*   Editor: Enabled the **New Scene** window to now show proper search results when a scene template is pinned. ([UUM-15393](https://issuetracker.unity3d.com/issues/search-results-become-incorrect-after-pin-slash-unpin-functionality-use-in-new-scene-window))
    
*   Editor: Extracted potential Editor-only dependencies and marked those as Reference instead of Clone. ([UUM-3666](https://issuetracker.unity3d.com/issues/scene-templates-script-gizmos-are-added-as-dependencies-and-are-cloned-by-default-1))
    
*   Editor: Fixed a build performance regression caused by shader variant prefiltering overhead. ([UUM-23173](https://issuetracker.unity3d.com/issues/shader-prefiltering-takes-a-long-time-to-query-mono-attributes-on-hdrp))
    
*   Editor: Fixed an Editor crash when rendering with UsePass or Fallback via SRP batcher. ([UUM-19898](https://issuetracker.unity3d.com/issues/unity-editor-crashes-on-scriptablebatchrenderer-applyshaderpass-after-editing-shaders-and-entering-play-mode))
    
*   Editor: Fixed an Editor crash when you try to build a project with corrupt compute shaders. ([UUM-25488](https://issuetracker.unity3d.com/issues/crash-on-the-unknown-line-when-building-a-specific-project))
    
*   Editor: Fixed Camera.stereoEnabled when SRP is used and fixed the Camera.stereoSeparation value.
    
*   Editor: Fixed case where SetParent allowed setting transforms as parents when they are persistent. ([UUM-12399](https://issuetracker.unity3d.com/issues/crash-on-rebuildtransformhierarchy-when-setting-a-transform-parent-to-assetbundle))
    
*   Editor: Fixed Mac Editor crash on sprite Drag & Drop. ([UUM-20950](https://issuetracker.unity3d.com/issues/crash-on-pthread-kill-when-dragging-sprites-into-the-scene-view))
    
*   Editor: Fixed multi select + click so it now works in dependency list. (UUM-20649)
    
*   Editor: Fixed pin position. ([UUM-15301](https://issuetracker.unity3d.com/issues/pin-in-new-scene-dialog-option-position-migrates-with-inspector-window-resizing))
    
*   Editor: Fixed potential crash when a scene with a component without a GameObject is loaded. ([UUM-1291](https://issuetracker.unity3d.com/issues/crash-when-opening-a-specific-scene))
    
*   Editor: Fixed shader graph's preview window when using deferred rendering in URP. ([UUM-11582](https://issuetracker.unity3d.com/issues/shader-graph-preview-window-is-empty-when-using-deferred-rendering-path))
    
*   Editor: Fixed showing the dependencies of scene template when there is a single dependency. ([UUM-2524](https://issuetracker.unity3d.com/issues/scene-templates-dependencies-are-not-shown-if-theres-only-one-dependency))
    
*   Editor: Fixed the scrollbar in the Description field in the new scene dialog. ([UUM-15359](https://issuetracker.unity3d.com/issues/new-scene-template-details-section-misses-a-scrollbar))
    
*   Editor: Fixed the URL for the Scene Template documentation. ([UUM-15355](https://issuetracker.unity3d.com/issues/documentation-page-is-not-displayed-for-the-user-when-he-clicks-on-open-reference-for-scenetemplateasset-question-mark))
    
*   Editor: Fixed the URL for the Scene Template pipeline documentation. ([UUM-15399](https://issuetracker.unity3d.com/issues/wrong-documentation-page-is-displayed-for-the-scene-template-pipeline-help-icon))
    
*   Editor: Fixed typo in error message on SkinnedMeshRenderer. ([UUM-13268](https://issuetracker.unity3d.com/issues/mesh-error-message-about-mesh-is-missing-useful-info))
    
*   Editor: Fixed UsePass and Fallback rendering sometimes broken in Editor when using SRP batcher. ([UUM-18980](https://issuetracker.unity3d.com/issues/sphere-gameobject-doesnt-get-rendered-when-using-unlit-dot-unlit-usepass-shader))
    
*   Editor: Gradient's location value could not be edited for rgb swatches using the keyboard. (UUM-6350)
    
*   Editor: Removed the ability to apply components marked with HideFlags.DontSaveInEditor to Prefab. ([UUM-21110](https://issuetracker.unity3d.com/issues/hideflags-dot-dontsave-hideflags-dot-noteditable-component-on-a-gameobject-still-allows-applying-that-component-to-a-prefab-when-there-is-a-check-if-it-is-already-on-the-gameobject))
    
*   Editor: Video: Fixed crash when changing the source URL of a video player in Android. ([UUM-20661](https://issuetracker.unity3d.com/issues/android-application-crashes-when-changing-the-source-url-of-a-video-player-in-android))
    
*   Editor: \[SpeedTree\]: Fixed crash on UpdateSharedDataSubMeshVertexRange when importing a SpeedTree file. ([UUM-25371](https://issuetracker.unity3d.com/issues/crash-on-updateshareddatasubmeshvertexrange-when-importing-a-speedtree-file))
    
*   GI: Added support for GPU lightmapper on Intel Arc 750 GPUs. (UUM-21746)
    
*   GI: Fixed only one GPU being available to select as the "GPU Baking Device" when multiple identical GPUs are installed. ([UUM-15155](https://issuetracker.unity3d.com/issues/only-one-gpu-is-available-to-select-as-the-gpu-baking-device-when-two-identical-gpus-are-installed-on-a-computer))
    
*   Graphics: Enabled `Mesh.RecalculateTangents()` to ensure that the tangent attribute has the correct format (Float32) and dimension (4) when called. ([UUM-19137](https://issuetracker.unity3d.com/issues/crash-on-mesh-recalculatetangents-when-recalculating-tangents))
    
*   Graphics: Fixed editor crash when entering play mode with Oculus Link using Vulkan. ([UUM-19728](https://issuetracker.unity3d.com/issues/vulkan-quest-editor-crashes-when-entering-play-mode-with-oculus-link))
    
*   Graphics: Fixed micro splat terrain texture cannot be loaded. ([UUM-3571](https://issuetracker.unity3d.com/issues/using-graphics-dot-copytexture-or-setpixeldata-with-pvrtc-texture-array-as-the-destination-will-fail-on-3-lowest-mipmap-levels))
    
*   Graphics: Throw an ArgumentNullException if null is passed in as a parameter to Unwrapping.GeneratePerTriangleUV. ([UUM-4614](https://issuetracker.unity3d.com/issues/crash-on-unwrapping-custom-generatepertriangleuvimpl-injected-when-passing-null-to-unwrapping-dot-generatesecondaryuvset))
    
*   IL2CPP: Fixed an issue that did not allow access to special folders in Windows Store apps. ([UUM-17611](https://issuetracker.unity3d.com/issues/unable-to-access-knownfolders-dot-objects3d-folder-using-system-dot-io-api-when-deployed-on-hololens-2))
    
*   IL2CPP: Fixed `Monitor.IsEntered` returning true when the monitor is entered on a different thread from the current thread. ([UUM-22329](https://issuetracker.unity3d.com/issues/monitor-dot-isentered-checks-if-any-thread-holds-the-lock-when-using-il2cpp))
    
*   IL2CPP: Improved performance of awaiting async operations on Windows. (UUM-20917)
    
*   iOS: Fixed iOS wrong orientation output when in split view mode. ([UUM-17545](https://issuetracker.unity3d.com/issues/ios-screen-dot-orientation-reports-wrong-device-orientation-when-rotating-a-split-view-supported-ios-device-multiple-times))
    
*   iOS: Restored the possibility for ViewController to control status bar appearance. ([UUM-6389](https://issuetracker.unity3d.com/issues/ios-disabling-status-bar-hidden-on-devices-without-a-notch-is-not-working))
    
*   macOS: Enabled VSync now works correctly when moving the Editor window between screens with different refresh rates. ([UUM-9097](https://issuetracker.unity3d.com/issues/apple-silicon-editor-game-view-still-running-with-120-fps-with-promotion-when-vsync-is-turned-on-external-60hz-monitor))
    
*   Mobile: Fixed the touch reset in device simulator when unity remote is disconnected. ([UUM-6667](https://issuetracker.unity3d.com/issues/touch-input-is-reset-in-device-simulator-when-unity-remote-is-killed))
    
*   Package Manager: Added security anchor to the Scoped Registry's "Read more" link in project Settings. (UUM-25262)
    
*   Package Manager: Fixed a bug where importing .unitypackage with project settings into a new project would show an error in the console. (UUM-20736)
    
*   Particles: Removed erroneous grabpass when using Particle Standard Surface Shader. It should only be triggered when using the Distortion effect. (UUM-12916)
    
*   Physics: Fixed a rare crash resizing the array of kinematic ccd contact managers when many kinematic ccd bodies were exiting the overlapping state. ([UUM-23140](https://issuetracker.unity3d.com/issues/physics-build-crashes-in-unityengine-dot-physics-simulate-internal-injected))
    
*   Scripting: Fixed a crash triggered when AssemblyHelper.ExtractAllClassesThatAreUserExtendedScripts failed to retrieve MovedFromAttribute data. ([UUM-21911](https://issuetracker.unity3d.com/issues/crash-on-scripting-cpp-string-for-when-opening-the-project))
    
*   Scripting: Fixed an issue where the API updater was not able to apply changes to internal packages when the project controlled by Perforce. (UUM-16373)
    
*   Shaders: Fixed an issue that shaders will now reimport correctly when installing a package that only has shader include files. (UUM-16415)
    
*   Shaders: Shaders will now reimport correctly when adding a missing include file. ([UUM-26017](https://issuetracker.unity3d.com/issues/adding-previously-missing-shader-include-does-not-reimport-dependent-shader-1))
    
*   Terrain: Fixed a crash on "QueryComponentByType" when entering Play Mode if setting "useInstancing" to true in "DetailPrototype". ([UUM-17546](https://issuetracker.unity3d.com/issues/crash-on-querycomponentbytype-when-entering-play-mode-if-setting-useinstancing-to-true-in-detailprototype))
    
*   uGUI: Added the slider's direction property not marking the scene dirty once this is changed when in prefab's isolation/context mode. ([UUM-20875](https://issuetracker.unity3d.com/issues/changes-made-to-direction-in-slider-controller-prefab-are-not-saved))
    
*   uGUI: Enabled Physics2DRaycast to now use SortingGroups when determining the sorted order of its results. ([UUM-19833](https://issuetracker.unity3d.com/issues/when-raycasting-with-the-physics2draycaster-function-on-overlapped-ui-elements-the-selection-order-is-not-determined-by-the-order-in-which-they-are-rendered))
    
*   UI Elements: Fixed an issue with the GenericDropdownMenu that prevented the items from receiving input when it's reused. ([UUM-21001](https://issuetracker.unity3d.com/issues/the-callbacks-for-attachtopanelevent-and-detachfrompanelevent-are-unregistered-when-the-ondetachfrompanel-is-called))
    
*   UI Toolkit: Fixed an issue where the UI Builder would export "none" instead of "initial" when setting a font to null. ([UUM-16426](https://issuetracker.unity3d.com/issues/warning-warning-expected-but-found-none-is-thrown-when-setting-font-asset-to-none-in-ui-builder-window))
    
*   UI Toolkit: Fixed bug caused by not rounding the computed text size correctly which caused newline character to appear in specific layout. ([UUM-4169](https://issuetracker.unity3d.com/issues/ui-toolkit-labels-width-is-not-extended-causing-additional-empty-lines-when-using-specific-resolutions))
    
*   UI Toolkit: Fixed long selectors names in UI Builder. ([UUM-17304](https://issuetracker.unity3d.com/issues/ui-builder-selector-names-that-contain-more-than-24-symbols-are-not-fully-visible-in-the-stylesheets-window-of-the-ui-builder))
    
*   UI Toolkit: Fixed PropertyField.BindProperty(SerializedProperty) fails to clear the previously bound property when a new one is bounded. ([UUM-4165](https://issuetracker.unity3d.com/issues/propertyfield-dot-bindproperty-serializedproperty-fails-to-clear-the-previously-bound-property-when-a-new-one-is-bounded))
    
*   UI Toolkit: Fixed ScrollView continuing to scroll after ScrollTo was called. ([UUM-12584](https://issuetracker.unity3d.com/issues/scrollview-keeps-scrolling-after-scrollto-method-triggers))
    
*   UI Toolkit: Fixed ScrollView scrollbar input issues when using touch. ([UUM-17804](https://issuetracker.unity3d.com/issues/mobile-the-scrollbar-jumps-around-and-reverses-scroll-direction-when-using-touch-input-and-interacting-with-a-dropdown))
    
*   UI Toolkit: Fixed stuck preview when right clicking and dragging in UI Builder. ([UUM-3465](https://issuetracker.unity3d.com/issues/ui-builder-right-clicking-while-dragging-a-visual-element-can-get-the-visual-element-stuck))
    
*   Universal RP: Fixed an issue where specular color was not matching behaviour in Legacy and HDRP. ([UUM-15867](https://issuetracker.unity3d.com/issues/urp-specular-color-behavior-does-not-match-legacy-or-hdrp-1))
    
*   VFX Graph: Fixed an exception while using Unlit ShaderGraph with VFX. (UUM-8053)
    
*   VFX Graph: Fixed an issue causing unexpected sorting on some VFX output while using the new SG integration. (UUM-12152)
    
*   VFX Graph: Fixed an issue where Alpha Clipping had an unexpected behavior in editor when used in MaterialOverride with SG integration, . (UUM-552)
    
*   Video: Enabled URLs without extensions to now better be supported by the VideoPlayer. ([UUM-15705](https://issuetracker.unity3d.com/issues/linux-crash-on-nss-database-lookup-when-connecting-to-video-source-url))
    
*   Windows: Fixed for incorrect display names of certain subset of keys. ([UUM-22694](https://issuetracker.unity3d.com/issues/input-system-arrow-keys-are-displayed-as-num-when-using-arrowkey-dot-displaynames))

### Known Issues in 2021.3.18f1

*   2D: \[URP\] Memory leak when in Play Mode ([UUM-19089](https://issuetracker.unity3d.com/issues/urp-memory-leak-when-in-play-mode))
    
*   Asset - Database: Script recompiles in Play Mode when Script Changes While Playing option is set to Recompile After Finished Playing and Auto refresh is set to enabled. ([UUM-20409](https://issuetracker.unity3d.com/issues/script-recompiles-in-play-mode-when-script-changes-while-playing-option-is-set-to-recompile-after-finished-playing-and-auto-refresh-is-set-to-enabled))
    
*   MacOS: Crash on \_\_pthread\_kill when multi-clicking on "Build and Publish" in the "LEGO Microgame" project ([UUM-22236](https://issuetracker.unity3d.com/issues/crash-on-pthread-kill-when-multi-clicking-on-build-and-publish-in-the-lego-microgame-project))
    
*   MacOS: \[2D Platformer Microgame\] 2D Platformer Microgame Project crash on **cxxabiv1::**aligned\_malloc\_with\_fallback when pinching out or in on the trackpad during “Zoom in and out” step ([UUM-20720](https://issuetracker.unity3d.com/issues/m1-2d-platformer-microgame-2d-platformer-microgame-project-crash-on-cxxabiv1-aligned-malloc-with-fallback-when-pinching-out-or-in-on-the-trackpad-during-zoom-in-and-out-step))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Serialization: Serialized field values are lost when switching between branches using Git ([UUM-12454](https://issuetracker.unity3d.com/issues/serialized-field-values-are-lost-when-switching-between-branches-using-git))
    
*   Universal RP: Rendering artifacts with custom shader when using Vulkan for Android and DirectX for the Editor ([UUM-20624](https://issuetracker.unity3d.com/issues/rendering-artifacts-with-custom-shader-when-using-vulkan-for-android-and-directx-for-the-editor))
    
*   Visual Effects: \[VFX Graph\] Opaque Unlit Output don't write to Depth ([UUM-19559](https://issuetracker.unity3d.com/issues/vfx-graph-opaque-unlit-output-dont-write-to-depth))
    

### 2021.3.18f1 Release Notes

#### Features

*   Android: Added build\_fingerprint information to android builds.

#### Improvements

*   Editor: Reduced time to rebuild the CreateAsset(...) menu during a domain reload, it previously was scaling badly for projects with many assemblies.
    
*   Multiplayer: Added Netcode for GameObjects 1.2.0.
    
*   Networking: Clarified error message in the logs when attempting to build a dedicated server player without having that platform's corresponding Dedicated Server Build support module installed. (UUM-22128)
    
*   Particles: Don't call OnParticleTrigger when there are no trigger module events to report. (Optimization). ([UUM-19111](https://issuetracker.unity3d.com/issues/onparticletrigger-is-called-every-frame-when-all-of-the-trigger-module-conditions-are-set-to-ignore-or-any-other-value))
    

#### API Changes

*   Scripting: Added: New Object.FindFirstObjectByType() and Object.FindAnyObjectByType() functions added as potentially faster alternatives to Object.FindObjectOfType(). These new functions let you decide whether you must have the first (lowest InstanceID) object found or if any instance is adequate. In the latter case the function can be many times faster as no internal sorting is required. See the scripting documentation for both functions for more details.
    
*   Scripting: Added: New Object.FindObjectsByType() function added as a potentially faster alternative to Object.FindObjectsOfType(). This new function gives users the choice whether or not to perform the expensive sorting by InstanceID on the returned collection of objects rather than having it always performed wasting time when unnecessary. See the scripting documentation for Object.FindObjectsByType() and Object.FindObjectsOfType() for more details.
    
*   Version Control: Removed: Removed Collab and its dependency from the package.
    

#### Changes

*   2D: Com.unity.template.2d - Remove com.unity.ide.vscode from template because it is deprecated.
    
*   2D: Com.unity.template.universal-2d - Remove com.unity.ide.vscode from template because it is deprecated.
    

#### Fixes

*   Android: Fixed build failing when app bundle option is enabled and output file has no extension. ([UUM-10941](https://issuetracker.unity3d.com/issues/android-build-fails-when-building-using-a-script-and-build-app-bundle-google-play-is-enabled))
    
*   Android: Fixed mapping file output failure when destination folder doesn't exist. ([UUM-9368](https://issuetracker.unity3d.com/issues/android-building-for-android-fails-on-processing-mapping-file-if-output-folder-did-not-exist-prior-to-build))
    
*   Android: Free persistent surface view when it's no longer used after activity resume. (UUM-2481)
    
*   Android: PermissionCallbacks.DeniedAndDontAskAgain is no longer invoked on Android 11 and later. Use Denied instead on all versions. ([UUM-20936](https://issuetracker.unity3d.com/issues/wrong-callback-after-swipe-away-the-permission-dialog))
    
*   Android: Warn user if both template file and disabled template file exists in project. ([UUM-19338](https://issuetracker.unity3d.com/issues/android-gradle-template-isnt-selectable-when-the-folder-contains-both-the-enabled-and-disabled-extensions-of-the-template))
    
*   Asset Pipeline: Asset Pipeline: Asset Import: Elided asset import paths using ellipsis on the import dialogue if the path length exceeds maximum text width. (UUM-3657)
    
*   Editor: Camera relative culling options have been added to the Graphics section in Project Settings. This will potentially alleviate light popping issues due to lack of precision when the objects or lights are far from the origin. Enabling the camera relative culling setting for lights will potentially introduces issues for objects or lights that are far from the camera origin. ([UUM-7551](https://issuetracker.unity3d.com/issues/spot-light-flickers-when-when-its-far-from-the-origin-point))
    
*   Editor: Fixed a memory leak which would manifest when loading then unloading scenes additively. ([UUM-18684](https://issuetracker.unity3d.com/issues/memory-usage-slowly-rises-overtime-when-lightprobes-dot-tetrahedralize-is-enabled))
    
*   Editor: Fixed a problem where a failed Unity Linker invocation may cause subsequent builds to fail with "Sequence contains no elements". (UUM-18372)
    
*   Editor: Fixed duplicate `EditorApplication.update` delegates being registered when changing editor layout. ([UUM-12847](https://issuetracker.unity3d.com/issues/the-reset-all-layouts-button-adds-3-duplicate-delegates-to-editorapplication-dot-update-when-reload-domain-is-disabled))
    
*   Editor: Fixed OnValidate callback is called twice when entering Prefab Mode in Context. ([UUM-17190](https://issuetracker.unity3d.com/issues/onvalidate-callback-is-called-twice-when-entering-prefab-mode))
    
*   Editor: Fixed Profiler samples in the VFX category to contribute towards the Rendering Category instead of Others. (UUM-2166)
    
*   Editor: SpeedTree: Materials selection GUI is now enabled for Mesh Renderer components in the Inspector window. (UUM-22569)
    
*   GI: Fixed issue where baking a single reflection probe could result in the wrong cubemap being associated with the wrong probe. ([UUM-20194](https://issuetracker.unity3d.com/issues/new-cubemap-is-inserted-at-the-end-of-the-array-when-baking-an-individual-probe))
    
*   Graphics: Avoid memory corruption when async readback destination NativeArray is too small. Instead the readback fails. ([UUM-12422](https://issuetracker.unity3d.com/issues/android-build-with-vulkan-crashes-when-trying-to-invoke-asyncgpureadback))
    
*   Graphics: Fixed Texture2D.UpdateExternalTexture not working on Vulkan. ([UUM-20405](https://issuetracker.unity3d.com/issues/windows-vulkan-scrambled-texture-objects-are-rendered-when-setting-one-with-texture2d-dot-updateexternaltexture))
    
*   HDRP: Enabled evaluation of stacked area lights in the path tracer. (UUM-18897)
    
*   HDRP: Fixed an issue where calling `HDCamera.Reset()` would not reset internal frame count of individual sky and cloud renderers. ([UUM-19077](https://issuetracker.unity3d.com/issues/hdrp-skybox-stops-updating-for-elapsed-time-when-hdcamera-dot-reset-is-called))
    
*   HDRP: Fixed an issue with new scene being created with bad directional light. (UUM-8321)
    
*   HDRP: Fixed enabling raytracing in the HDRP asset if resources are in a bad state. (UUM-18728)
    
*   HDRP: Fixed forward materials with motion vectors rendered twice.
    
*   HDRP: Fixed motion blur issues caused on fast movements. ([UUM-19339](https://issuetracker.unity3d.com/issues/hdrp-motion-blur-produces-artifacts-in-the-template))
    
*   HDRP: Fixed performance when using low quality shadows.
    
*   HDRP: Fixed stripping on shadergraph depth prepass. (UUM-17613)
    
*   HDRP: Fixed volumetric clouds disappearing. (UUM-20244)
    
*   IL2CPP: Enabled the marshaling offset to compute properly for the first field in an explicit layout type when that field has a non-zero offset. ([UUM-19622](https://issuetracker.unity3d.com/issues/marshal-dot-offsetof-returns-invalid-value-in-il2cpp-for-misaligned-fields-on-macos))
    
*   IL2CPP: Removed caching of assemblies when probing directories in the linker. (UUM-17887)
    
*   Mono: Added use of a relative path to the gdiplus dynamic library in the dllmap entry in the config file. ([UUM-20719](https://issuetracker.unity3d.com/issues/mono-the-gdiplus-dll-mapping-has-the-bokken-machine-path-in-monobleedingedge-slash-etc-slash-mono-slash-config))
    
*   Mono: Fixed an issue where the internal debugger would refuse connections after performing multiple switches between release and debug editor runtime optimizations. ([UUM-16704](https://issuetracker.unity3d.com/issues/unity-debugger-does-not-work-with-visual-studio-when-switching-between-debug-and-release-mode))
    
*   Particles: Fixed erroneous error message: "all(sheetIndexNormalized >= 0.0f) && all(sheetIndexNormalized <= 1.0f)". (UUM-23304)
    
*   Physics 2D: Fixed a bug where a Rigidbody2D without interpolation using MovePosition per-frame could result in a memory leak.
    
*   Profiler: Fixed saving and loading of Profiler Data when the frame range contains frames that have been gathered from different different targets (e.g. from Playmode and from a built Player). Previously saved .data files with such data are irreparably corrupted and will crash on opening. This fix only applies to data saved from this version onwards. ([UUM-14767](https://issuetracker.unity3d.com/issues/crash-on-recursiveadjustchartforgroupchange-when-loading-data-from-a-custom-module))
    
*   Scene/Game View: Fixed overlapped UI elements not being picked based on the order they are rendered. ([UUM-18939](https://issuetracker.unity3d.com/issues/parent-canvas-is-selected-when-clicking-on-the-child-ugui-element))
    
*   Serialization: Fixed issue where de-serializing Prefab containing a SerializeReference which has been refactored not handles MovedFrom. Improved AssetDatabase script type dependency so that if a missing SerializeReference instance type, re-appears importers depending on it will be trigerred. ([UUM-6733](https://issuetracker.unity3d.com/issues/movedfrom-attribute-doesnt-work-on-prefab-overrides))
    
*   Shaders: Fixed a crash when loading shaders that are incompatible with the current hardware due to resource limits. ([UUM-21964](https://issuetracker.unity3d.com/issues/ios-player-crashes-on-unitygfxdeviceworker-when-a-specific-prefab-is-in-the-scene))
    
*   Shaders: RenderingCommandBuffer.EnableKeyword(material, keyword) now properly affects rendering. (UUM-21676)
    
*   UI: Fixed a crash could occur when the inspector window is rendering the header in IMGUI (case 1359247).
    
*   UI Toolkit: Fixed dynamic-transform offset occurring at large coordinates. ([UUM-20442](https://issuetracker.unity3d.com/issues/handle-of-a-slider-is-misaligned-when-using-usagehints-dot-dynamictransform-if-the-select-platform-is-ios-or-android))
    
*   UI Toolkit: Fixed elements disappearing when changing both the border radius and padding at the same time. ([UUM-4160](https://issuetracker.unity3d.com/issues/uir-toggling-a-style-that-contains-border-radius-and-margin-slash-padding-causes-some-elements-to-disappear))
    
*   UI Toolkit: Fixed the UI Debugger text highlight when using the search field. ([UUM-1887](https://issuetracker.unity3d.com/issues/backport-search-results-not-highlighted-when-searching-in-ui-toolkit-debugger))
    
*   Universal RP: Added functionality to stop clearing depth when using Overlay Camera. (UUM-4967)
    
*   Universal RP: Disabled depth priming on GLES when MSAA is enabled. (UUM-2519)
    
*   Universal RP: Disabled depth priming when baking reflection probes. ([UUM-12397](https://issuetracker.unity3d.com/issues/shadows-get-messed-up-when-using-screen-space-shadows))
    
*   Universal RP: Fixed ComplexLit mixed lighting by matching ComplexLit shader keywords with the Lit shader. ([UUM-18553](https://issuetracker.unity3d.com/issues/directional-light-does-not-affect-game-objects-with-complex-lit-shaders-when-the-light-mode-is-set-to-mixed))
    
*   WebGL: Fixed Unity integration test PowerPreferenceTests.cs failing to build. (UUM-15704)
    
*   Windows: Fixed building to Windows using IL2CPP scripting backend when running on a Windows ARM64 machine.

### Known Issues in 2021.3.17f1

*   2D: \[URP\] Memory leak when in Play Mode ([UUM-19089](https://issuetracker.unity3d.com/issues/urp-memory-leak-when-in-play-mode))
    
*   IMGUI Framework: Array values aren't changed when altering them in a custom EditorWindow ([UUM-15645](https://issuetracker.unity3d.com/issues/array-values-arent-changed-when-altering-them-in-a-custom-editorwindow))
    
*   MacOS: Crash on \_\_pthread\_kill when dragging Sprites into the Scene view ([UUM-20950](https://issuetracker.unity3d.com/issues/crash-on-pthread-kill-when-dragging-sprites-into-the-scene-view))
    
*   MacOS: Crash on \_\_pthread\_kill when multi-clicking on "Build and Publish" in the "LEGO Microgame" project ([UUM-22236](https://issuetracker.unity3d.com/issues/crash-on-pthread-kill-when-multi-clicking-on-build-and-publish-in-the-lego-microgame-project))
    
*   MacOS: \[2D Platformer Microgame\] 2D Platformer Microgame Project crash on **cxxabiv1::**aligned\_malloc\_with\_fallback when pinching out or in on the trackpad during “Zoom in and out” step ([UUM-20720](https://issuetracker.unity3d.com/issues/m1-2d-platformer-microgame-2d-platformer-microgame-project-crash-on-cxxabiv1-aligned-malloc-with-fallback-when-pinching-out-or-in-on-the-trackpad-during-zoom-in-and-out-step))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Video: \[Android\] Application crashes when changing the source URL of a video player in Android ([UUM-20661](https://issuetracker.unity3d.com/issues/android-application-crashes-when-changing-the-source-url-of-a-video-player-in-android))
    
*   Visual Effects: \[VFX Graph\] Opaque Unlit Output don't write to Depth ([UUM-19559](https://issuetracker.unity3d.com/issues/vfx-graph-opaque-unlit-output-dont-write-to-depth))
    

### 2021.3.17f1 Release Notes

#### Features

*   Visual Scripting: Added confirmation popup when resetting assemblies/types in project settings.
    
*   Visual Scripting: Added confirmation popup when resetting project settings and editor preferences.
    
*   Visual Scripting: Added Sticky Note for ScriptGraph and StateGraph.
    
*   Visual Scripting: Nodes may now have a button which triggers a custom action in their inspector description.
    
*   Visual Scripting: Nodes whose type cannot be found are now temporarily converted to dummy nodes until either their original type is defined again or the user replaces them.
    
*   Visual Scripting: Support for parameter renaming in code used by API nodes.
    

#### Improvements

*   Animation: Improved performance of AnimatorOverrideController.ApplyOverrides(). ([UUM-14753](https://issuetracker.unity3d.com/issues/significant-impact-on-performance-when-using-animator-override-controller))
    
*   Asset Import: Reduced the overhead of asset importing by limiting the number of copies of internal parameter structs.
    
*   GI: Added a toggle for automatic recalculation of environment lighting in the Workflow section of the Lighting window. (UUM-13907)
    
*   Package: Updated version of com.unity.learn.iet-framework to 3.1.1.
    
*   Package: Updated version of com.unity.learn.iet-framework.authoring to 1.2.1.
    
*   VFX Graph: Added a toggle in both VFX preferences in VFX Graph view to allow shader debug symbols with generated shaders. (UUM-19517)
    

#### API Changes

*   Core: Added: Use these methods for improved performance when operating on both positions and rotations at the same time.  
    Transform.GetLocalPositionAndRotation()  
    Transform.GetPositionAndRotation()  
    TransformAccess.GetLocalPositionAndRotation()  
    TransformAccess.GetPositionAndRotation()  
    TransformAccess.SetLocalPositionAndRotation()  
    TransformAccess.SetPositionAndRotation()

#### Changes

*   Editor: Updated the Unity FBX SDK bindings to version 4.1.2. which update Autodesk FBX SDK to 2020.3.2.
    
*   Visual Scripting: AOTStubs are now generated for all nodes regardless of whether they represent a runtime or editor member. ([UVSB-2381](https://issuetracker.unity3d.com/issues/aot-stub-generator-ignores-assemblies-that-reference-unity-editor))
    
*   Visual Scripting: Increased zoom out distance in graphs.
    
*   XR: Updated com.unity.xr.openxr package version to 1.6.0.
    
*   XR: Updated XR Core Utilities to 2.0.1.
    

#### Fixes

*   Fixed Autodesk FBX and SketchUp SDK vulnerabilities. ([UNITY-SEC-JAN-2023-1](https://unity.com/security/jan-2023-01))
    
*   2D: Added proper manual URL for GridSelection. ([UUM-20223](https://issuetracker.unity3d.com/issues/open-reference-for-grid-selection-help-button-opens-non-existing-page))
    
*   2D: Fixed Case where there is Sprite Atlas warning in console when loading sprite in playmode. ([UUM-18521](https://issuetracker.unity3d.com/issues/2d-sprite-atlas-sprite-atlas-warning-in-console-when-loading-sprite-in-playmode))
    
*   2D: Fixed collider shapes for a TilemapCollider2D when rotated Tiles are used with a collider offset.
    
*   2D: Fixed crash when there is an invalid Sprite on a Tilemap and a TilemapRenderer tries to bind the invalid Sprite to a Sprite Atlas. (UUM-19275)
    
*   2D: Fixed rendering of GameObjects in a Tile Palette window when a Scriptable Render Pipeline is used. ([UUM-22035](https://issuetracker.unity3d.com/issues/tile-palette-preview-window-shows-pink-material))
    
*   2D: Fixed sorting of Tiles in a TilemapRenderer when the Sprites of the Tiles in the TilemapRenderer come from different Texture sources and Sprites with large vertex/index counts are rendered first due to batching. (UUM-18345)
    
*   2D: Fixed Sprite Mode field is empty upon changing Texture Type to Sprite in TextureImporter. ([UUM-16278](https://issuetracker.unity3d.com/issues/default-texture-settings-are-not-set-when-importing-image))
    
*   2D: Removed hiding tint in Sprites/Default shader. ([UUM-19330](https://issuetracker.unity3d.com/issues/changing-the-color-for-material-is-not-available-if-shader-is-set-to-sprites-slash-default))
    
*   2D: \[com.unity.2d.psdimporter\] Fixed an issue where an error would be shown when selecting Import Mode: Merged.
    
*   2D: \[com.unity.2d.psdimporter\] Fixed an issue where the amount of alpha removed from layers would not be re-applied as final position offset of the layers.
    
*   2D: \[com.unity.2d.psdimporter\] Fixed an issue where the editor would crash when importing .psd/.psb files with their layers outside of the document canvas. ([DANB-285](https://issuetracker.unity3d.com/issues/crash-on-dualthreadallocator-trydeallocate-when-opening-the-project))
    
*   2D: \[com.unity.2d.psdimporter\] Fixed an issue where the generated GameObjects would be laid out differently from how they appear in the DCC tool. ([DANB-298](https://issuetracker.unity3d.com/issues/sprite-layout-is-incorrect-when-importing-a-psb-file))
    
*   2D: \[com.unity.2d.tilemap.extras\]\[GameObjectBrush\] Fix placement of GameObjects when Cell Gap is set.
    
*   2D: \[com.unity.2d.tilemap.extras\]\[GridInformation\] Implement IEquatable for GridInformationKey.
    
*   2D: \[com.unity.2d.tilemap.extras\]\[PrefabRandomBrush\] Fix possible NullReferenceException in PrefabRandomBrush.
    
*   AI: Fixed a blocked passage due to seemingly valid polygons after an obstacle carved the NavMesh nearby. ([UUM-8240](https://issuetracker.unity3d.com/issues/navmesh-navmeshobstacle-placed-near-the-edge-of-a-navmesh-causes-isolated-polygons-where-navmeshagents-can-get-stuck))
    
*   Android: Fixed error 'Source directory '....'. is not a directory when Symlink Sources option is on. ([UUM-884](https://issuetracker.unity3d.com/issues/backport-android-error-unitylibrary-compiledebugkotlin-in-the-android-studio-when-project-exported-with-symlink-sources-en))
    
*   Asset Pipeline: Fixed an issue where the standalone profiler could crash or emit errors when the script domain reloads in the editor. ([UUM-19179](https://issuetracker.unity3d.com/issues/edit-mode-recording-standalone-profiler-crashes-on-stopassetimportingv2internal-when-reloading-the-domain))
    
*   Audio: Updated FMOD's FLAC from version 1.2.1 to 1.3.4. This fixes an issue identified by our application security team. (UUM-400)
    
*   Build Pipeline: Fixed static batching sorting to ensure deterministic build results. (UUM-11427)
    
*   DX12: Fixed stalls in asynchronous scene loading with a large number of reflection probes. (UUM-20766)
    
*   Editor: Ensure scene view outline render uses the attributed main texture property name rather than the default name. ([UUM-20416](https://issuetracker.unity3d.com/issues/dot-dot-dot-doesnt-have-a-texture-property-maintex-error-when-using-gizmos-with-maintexture-attribute))
    
*   Editor: Fixed a bug on Chrome on iOS where the WebGL canvas cannot regain focus after losing it. ([UUM-1166](https://issuetracker.unity3d.com/issues/ios-chrome-ui-button-stops-working-after-opening-new-tab-and-going-back-to-unity-project-tab))
    
*   Editor: Fixed a crash when a window is closed during EditorWindow.OnLostFocus. ([UUM-12434](https://issuetracker.unity3d.com/issues/error-slash-crash-when-editorwindow-dot-close-is-called-in-editorwindow-dot-onlostfocus))
    
*   Editor: Fixed a deadlock that can occur when MasterTextureLimit is changed while a texture has an in-progress upload request. (UUM-16491)
    
*   Editor: Fixed API for users sending analytics as json formatted strings.
    
*   Editor: Fixed camera roll animations import. ([UUM-15444](https://issuetracker.unity3d.com/issues/camera-lookatconstraint-keyframes-are-not-imported-in-the-animation-when-importing-fbx-file-from-3ds-max))
    
*   Editor: Fixed character encoding for error messages in the Unity Accelerator. ([UUM-16372](https://issuetracker.unity3d.com/issues/tcpprotobufclient-error-is-displayed-in-random-symbols-when-the-os-is-set-to-use-a-non-latin-alphabet-language))
    
*   Editor: Fixed crash issue with very large project import when the amount of descriptors grows unusually high. ([UUM-20186](https://issuetracker.unity3d.com/issues/crash-on-gfxtaskexecutord3d12-addrequiredresourcebarriers-when-opening-the-project))
    
*   Editor: Fixed crash/validation error when loading old Vulkan shaders from asset bundles.
    
*   Editor: Fixed documentation links for Script Graph and State Graphs assets. ([UVSB-2422](https://issuetracker.unity3d.com/issues/documentation-page-is-not-displayed-for-the-user-when-he-clicks-on-scriptgraphasset-and-stategraphasset-question-marks))
    
*   Editor: Fixed Editor crash when calling API's to show modal dialogs while -drawRect is in progress. ([UUM-2293](https://issuetracker.unity3d.com/issues/crash-on-pthread-kill-when-editorutility-dot-openfolderpanel-is-executed))
    
*   Editor: Fixed EditorWindow maximum size calculations when using a display not at integer scaling. ([UUM-12808](https://issuetracker.unity3d.com/issues/windows-custom-editorwindow-height-is-6-pixels-longer-than-the-maxsize-slash-minsize-when-its-set-to-the-biggest-slash-smallest-size))
    
*   Editor: Fixed for scene hierarchy order change when entering Play mode in the Mobile Template. (UUM-13298)
    
*   Editor: Fixed Highlighter.Highlight does not disappear when the highlighted element disappears from view. ([UUM-3535](https://issuetracker.unity3d.com/issues/highlighter-dot-highlight-does-not-disappear-when-the-highlighted-element-disappears-from-view))
    
*   Editor: Fixed issue on Windows where modal dialogs can get the Editor stuck if they are launched from a window that closes itself. ([UUM-21096](https://issuetracker.unity3d.com/issues/the-unity-editor-becomes-unresponsive-when-a-modal-window-loses-focus-and-an-aux-window-exists))
    
*   Editor: Fixed issue where mouse up and mouse down events were reported twice in OnGUI when using the Device Simulator. ([UUM-14340](https://issuetracker.unity3d.com/issues/in-device-simulator-ongui-events-are-called-twice))
    
*   Editor: Fixed null reference exception in the FreeCamera component when there is no keyboard. (UUM-17801)
    
*   Editor: Fixed sub graphs being shown with broken connections on first load as of Unity 2021.2. ([UVSB-2345](https://issuetracker.unity3d.com/issues/visual-script-graph-with-non-embed-subgraph-gets-corrupted-node-links-when-reopening-project-after-removing-artifacts-folder))
    
*   Editor: Fixed t:prefab in AssetProvider only yields files ending in .prefab (no fbx or obj anymore). ([UUM-18200](https://issuetracker.unity3d.com/issues/advanced-search-hierarchy-window-doesnt-present-the-search-results-when-opening-a-scene-and-search-field-isnt-empty))
    
*   Editor: Fixed that on Mac when hovering over arrow in the Hierarchy to open Prefab in Prefab Mode the tooltip displays shortcut as "Alt" and not "Option". ([UUM-15760](https://issuetracker.unity3d.com/issues/macos-in-hierarchy-hovering-over-arrow-to-open-prefab-in-prefab-view-tooltip-displays-shortcut-to-alt-and-not-command))
    
*   Editor: Fixed unexpected rendering when Fragment Normal uses Object Space. (UUM-10045)
    
*   Editor: Metal no longer crash when using shader referencing POSITION with mesh missing this attr. ([UUM-20796](https://issuetracker.unity3d.com/issues/m1-silicon-crash-on-mtlgetenvcase-when-opening-the-project))
    
*   Editor: OpenSSL updated to 1.1.1s to address. (UUM-18983)
    
*   Editor: Some gamepad inputs were being mapped to keyboard keys on 2021.3 for Android, causing the input scheme to be keyboard when it should be gamepad. This mapping has been removed. ([UUM-20119](https://issuetracker.unity3d.com/issues/android-playerinput-dot-currentcontrolscheme-displays-keyboard-inputcontrolscheme-when-pressing-gamepads-rb-lb-or-view-buttons))
    
*   Graphics: Added error message when capturing a screenshot into a RenderTexture but passing null for argument. (UUM-7004)
    
*   Graphics: Fixed a ReadPixels issue. (UUM-2998)
    
*   Graphics: Fixed an issue so that entering playmode with disabled compositor no longer breaks all its layers. ([UUM-11633](https://issuetracker.unity3d.com/issues/hdrp-entering-playmode-with-disabled-compositor-breaks-all-its-layers))
    
*   Graphics: Fixed an issue with inspecting a RenderTexture with DepthAuto / ShadowMap as the Color Format so it no longer breaks the inspector. (UUM-11764)
    
*   Graphics: Fixed crash in depth resolve when using HDR render textures. ([UUM-2316](https://issuetracker.unity3d.com/issues/crash-on-gfxdeviced3d11base-resolvedepthintotexture-when-using-hdr-enabled-rendertextures))
    
*   Graphics: Fixed for incorrect values in ReadPixel for some graphics formats on DirectX. ([UUM-15344](https://issuetracker.unity3d.com/issues/incorrect-values-in-readpixel-for-some-16bit-graphicsformat-when-on-windows))
    
*   Graphics: Fixed problems with 16-bit floats on iOS with URP. (UUM-14877)
    
*   Graphics: Fixed ShaderUtil API to properly fetch data from the SerializedShader and the RuntimeShader. (UUM-10163)
    
*   Graphics: Fixed `GraphicsFenceType` so it is now set correctly from `CommandBuffer.CreateGraphicsFence`. ([UUM-11450](https://issuetracker.unity3d.com/issues/editor-can-not-determine-if-graphicsfence-has-passed-when-using-commandbuffer))
    
*   Graphics: Graphics: Fixed crash by preventing race condition when opening app from floating icon state on Android. ([UUM-576](https://issuetracker.unity3d.com/issues/android-crash-with-signal-11-when-opening-app-from-floating-icon-state))
    
*   HDRP: Added clarification on HDR Output not supporting Scene View. ([UUM-16184](https://issuetracker.unity3d.com/issues/hdrp-hdr-documentation-missing-info-about-supported-views))
    
*   HDRP: Fixed a black screen issue with master builds on HDRP. (UUM-17388)
    
*   HDRP: Fixed a number of outdated reference to "HDRP Default Settings" in the UI. (UUM-11494)
    
*   HDRP: Fixed ambient probe for volumetric clouds.
    
*   HDRP: Fixed an issue with Bloom and Depth of Field in game view when filtering in the hierarchy. (UUM-17739)
    
*   HDRP: Fixed an issue with low resolution depth of field producing a cropped result in some scenarios. ([UUM-11354](https://issuetracker.unity3d.com/issues/hdrp-dof-in-half-or-quarter-resolution-results-in-cropped-frame))
    
*   HDRP: Fixed black dots when clouds rendered in local mode. ([UUM-11651](https://issuetracker.unity3d.com/issues/flickering-black-pixels-in-the-game-view-when-volumetric-clouds-with-local-clouds-are-enabled-in-an-hdrp-project))
    
*   HDRP: Fixed black line in ray traced reflections. (UUM-11379)
    
*   HDRP: Fixed color grading so it no longer outputs negative colors. (UUM-11110)
    
*   HDRP: Fixed custom pass scaling issues with dynamic resolution. ([UUM-10882](https://issuetracker.unity3d.com/issues/dynamic-resolution-broken-with-custom-pass-3))
    
*   HDRP: Fixed decal material validation after saving. ([UUM-12750](https://issuetracker.unity3d.com/issues/decalmeshforwardemissive-and-decalprojectorforwardemissive-are-re-enabled-when-saving-project-for-the-first-time))
    
*   HDRP: Fixed embedding the config package when it's not a direct dependency. ([UUM-8012](https://issuetracker.unity3d.com/issues/hdrp-error-thrown-on-clicking-the-embed-configuration-editable-package-button-in-the-hdrp-wizard-window-1))
    
*   HDRP: Fixed exposure of recorded frames with path tracing and auto exposure. (UUM-14985)
    
*   HDRP: Fixed graphics issues with sky and fog in game view when filtering objects in the hierarchy. ([UUM-11952](https://issuetracker.unity3d.com/issues/hdrp-visual-glitching-appear-in-game-view-after-selecting-a-gameobject-from-hierarchy-searching-results-whilst-fog-volume-override-is-enabled))
    
*   HDRP: Fixed Layer List is not duplicated when duplicating a LayeredLit Material. ([UUM-11123](https://issuetracker.unity3d.com/issues/layer-list-is-not-duplicated-when-duplicating-a-layeredlit-material))
    
*   HDRP: Fixed minor bug in the shadow ray culling for the cone spot light. (UUM-9708)
    
*   HDRP: Fixed missing limitation in path tracing documentation regarding Local Volumetric Fog. (UUM-13354)
    
*   HDRP: Fixed missing tag on decal shader properties.
    
*   HDRP: Fixed Missing tooltip for Screen Weight Distance in Screen Space Refraction Override. (UUM-16930)
    
*   HDRP: Fixed mouse position in debug menu with scaled screens in editor. (UUM-16880)
    
*   HDRP: Fixed null reference error in the rendering debugger when no camera is available. (UUM-18189)
    
*   HDRP: Fixed performance when volumetric fog is disabled. (UUM-14318)
    
*   HDRP: Fixed range of spill removal parameter in graphics compositor UI. ([UUM-11634](https://issuetracker.unity3d.com/issues/hdrp-compositors-chroma-spill-rmoval-spills-magenta-over-the-layer))
    
*   HDRP: Fixed Ray Tracing Mixed Mode Collisions. (UUM-14613)
    
*   HDRP: Fixed scene depth node not working in the Decal ShaderGraph material type. ([UUM-8237](https://issuetracker.unity3d.com/issues/scene-depth-node-doesnt-return-a-proper-depth-value-when-used-in-a-decal-shadergraph))
    
*   HDRP: Fixed shadergraph using derivatives and Raytracing Quality keyword. ([UUM-8358](https://issuetracker.unity3d.com/issues/nodes-using-derivatives-are-not-stripped-out-in-raytracing-even-when-using-the-raytracing-quality-keyword))
    
*   HDRP: Fixed shadows in transparent unlit shadow matte. (UUM-12284)
    
*   HDRP: Fixed slight change of color in background when changing scene hierarchy. (UUM-14324)
    
*   HDRP: Fixed Text alignment in Transparency Inputs section. (UUM-17208)
    
*   HDRP: Fixed texture wrapping of cloud layer. ([UUM-15591](https://issuetracker.unity3d.com/issues/lowering-cloud-layer-channel-opacity-beyond-a-certain-threshold-results-in-graphical-artifact))
    
*   HDRP: Fixed the fallback section so it now disappears when hiding the additional data. (UUM-16780)
    
*   HDRP: Fixed the indirect diffuse lighting in ray tracing so it now always works properly. (UUM-14083)
    
*   HDRP: Fixed the ray tracing reflection denoiser being partially broken. ([UUM-10443](https://issuetracker.unity3d.com/issues/ray-tracing-reflection-denoiser-is-partially-broken))
    
*   HDRP: Fixed the ray tracing shadow denoiser s it no longer produces leaks at the edge of spotlight shadows. (UUM-17794)
    
*   HDRP: Fixed transmission on directional lights. ([UUM-15003](https://issuetracker.unity3d.com/issues/hdrp-transmission-from-directional-light-on-thick-object-mode-is-rendered-even-when-object-is-in-shadow))
    
*   HDRP: Fixed unnecessary loss of precision when all post processing are disabled. ([UUM-13277](https://issuetracker.unity3d.com/issues/different-results-when-disabling-post-processing-effects-individually-and-disabling-post-processing-completely-on-the-camera-1))
    
*   HDRP: Fixed volumetric cloud incorrectly display in lighting debug mode.
    
*   HDRP: Fixed zfighting artifacts for ray tracing. (UUM-7668)
    
*   HDRP: Improved the motion and receiver rejection tooltips for RTGI and RTAO. ([UUM-13152](https://issuetracker.unity3d.com/issues/hdrp-receiver-motion-rejection-raytraced-ssgi-tooltip-improvement))
    
*   HDRP: Removed misleading part of a LensFlare tooltip. (UUM-13946)
    
*   HDRP: Removed unused voluimetric clouds volume component on new scenes templates. ([UUM-11451](https://issuetracker.unity3d.com/issues/hdrp-new-scene-templates-created-with-unused-volumetric-clouds-component))
    
*   HDRP: Removed unwanted RTAO effect on indirect specular lighting. (UUM-8772)
    
*   HDRP: Renamed IOR output in Eye shadergraph for clarification. ([UUM-15849](https://issuetracker.unity3d.com/issues/hdrp-rename-ior-input-port))
    
*   HDRP: Worked around exception when enabling raytracing when resources for raytracing have not been built. (UUM-9570)
    
*   IL2CPP: Enabled properly forwarding declare generic value type pointer arguments. (UUM-19689)
    
*   IMGUI: Removed **Resolve of invalid GC handle** error occurring when exiting Play mode. ([UUM-14969](https://issuetracker.unity3d.com/issues/2020-dot-3-resolve-of-invalid-gc-handle-error-occurs-when-exiting-play-mode-after-creating-a-tilemap))
    
*   iOS: Fixed a hang on startup on iOS 16 when linking to UnityFramework. ([UUM-16259](https://issuetracker.unity3d.com/issues/ios-player-crashes-on-ios-16-devices-when-unityframework-dot-framework-is-added-in-link-binary-with-libraries))
    
*   Linux: Fixed `SystemInfo.batteryStatus` and `SystemInfo.batteryLevel` so that they now work on Linux. ([UUM-16083](https://issuetracker.unity3d.com/issues/linux-systeminfo-dot-batterystatus-slash-systeminfo-dot-batterylevel-doesnt-work-on-a-linux-laptop))
    
*   Mono: Updated the Brotli compression library to version 1.0.9 to correct [https://github.com/advisories/GHSA-5v8v-66v8-mwm7](https://github.com/advisories/GHSA-5v8v-66v8-mwm7). (UUM-15721)
    
*   Networking: Fixed race condition between DownloadHandlerTexture and Resources.UnloadUnusedAssets, sometimes cause premature destruction of the texture. (UUM-18044)
    
*   Package Manager: Package documentation links pointing to private Github URLs can now be opened in browser for non-Unity packages. Additionally, for all packages in general, opening local documentation will fall back on the README file if a documentation.md file cannot be found. ([UUM-8337](https://issuetracker.unity3d.com/issues/documentationurl-and-changelogurl-is-ignored-when-package-is-located-in-private-repositorie))
    
*   Particles: Fixed crash caused by Particle EmissionModule::Transfer handling of bursts array. (UUM-8886)
    
*   Physics 2D: Fixed an issue so that RelativeJoint2D angularOffset uses Degrees and not Radians. ([UUM-19333](https://issuetracker.unity3d.com/issues/angular-offset-for-relative-joint-2d-displays-degrees-despite-utilizing-radians-in-the-inspector-after-altering-angular-offset-in-a-script))
    
*   Physics 2D: Fixed an issue when using the 2D Physics Multithreaded solver so that contact processing time no longer increases over time under certain circumstances. (D2D-4284)
    
*   Physics 2D: Fixed an issue where a contact normal would be inversed leading to Collider2D.IsTouching incorrectly filtering the collision normal angle. ([UUM-15726](https://issuetracker.unity3d.com/issues/wrong-collision-normals-with-composite-tillemap-collider))
    
*   Prefabs: Fixed the import process so that only transform remains after importing a broken file, if a Prefab file is found to contain multiple transforms due to external merge tool or manual edit error. **Note:** Import prioritization of `RectTransform` over `Transform` remains unchanged. ([UUM-14898](https://issuetracker.unity3d.com/issues/crash-on-gameobjecthierarchyproperty-getcolorcode-when-dragging-prefab-with-tmp-script-to-hierarchy-or-scene-window))
    
*   Profiler: Fixed profiler connection allocations tracking under the ProfilerConnection entry in Memory Profiler. ([UUM-16465](https://issuetracker.unity3d.com/issues/android-progressive-memory-consumption-on-android-when-application-is-left-to-idle))
    
*   Profiler: Fixed rendering of certain character sets in CPU Profiler Timeline view. ([UUM-16513](https://issuetracker.unity3d.com/issues/profiler-does-not-support-characters-when-utf8-encoding-is-used))
    
*   Profiler: GPU module's sample hierarchy no longer uses CPU data after a recompilation when there is an active selection. ([UUM-20083](https://issuetracker.unity3d.com/issues/gpu-usage-hierarchy-columns-in-the-profiler-window-change-when-scripts-are-recompiled))
    
*   Profiler: Restore Defaults will now also re-enable all default modules and reset chart preferences. ([UUM-11329](https://issuetracker.unity3d.com/issues/profilers-restore-defaults-button-doesnt-reset-the-list-of-modules-back-to-default))
    
*   Scripting: Removed warning for obsolete platforms when added plugins to plugin folders that contains both obsolete and non-obsolete platforms. ([UUM-12246](https://issuetracker.unity3d.com/issues/cannot-set-deprecated-build-target-osxintel-warning-appears-when-setting-pluginimporters-compatible-platform-to-osx))
    
*   Shadergraph: Fixed Shader Graph BiRP Target so it now works correctly with point lights and transparent objects. ([UUM-9823](https://issuetracker.unity3d.com/issues/an-object-does-not-receive-lighting-from-point-light-when-shader-graph-material-is-applied))
    
*   Shaders: Fixed a crash in Shader Prefiltering when the Render Pipeline assets contain circular data references. ([UUM-19976](https://issuetracker.unity3d.com/issues/crash-during-build-process-shaderkeywordfilter-dot-settingsnode-dot-gatherfilterdata))
    
*   Shaders: Fixed a crash when building variants when a package is unloaded and re-loaded. ([UUM-20693](https://issuetracker.unity3d.com/issues/crash-on-joinimpl-core-basic-string-char-core-stringstoragedefault-when-installing-hdrp-package-after-removing-it))
    
*   Shaders: Fixed an incorrect error message when using instanced rendering and replacement shaders. (UUM-20961)
    
*   Shaders: Fixed shader graph incorrectly stripping variants for BiRP shaders that weren't built with shader graph. ([UUM-14800](https://issuetracker.unity3d.com/issues/standard-shader-with-cutout-mode-doesnt-work-in-the-player-when-shader-graph-is-installed-with-built-in-render-pipeline))
    
*   Shaders: Preparing variants for compilation dialog now shows the name of the shader being processed. ([UUM-22015](https://issuetracker.unity3d.com/issues/variant-preparation-does-not-show-the-name-of-the-shader))
    
*   SRP Core: Fixed ColorCurves volume leaking Texture2D objects under certain circumstances. (UUM-16602)
    
*   Terrain: Terrain is not affected by Environmental Lighting when Draw Instanced is turned on. ([UUM-11754](https://issuetracker.unity3d.com/issues/terrain-is-not-affected-by-environmental-lighting-when-draw-instanced-is-turned-on))
    
*   UI: Fixed missing tooltip for "Screen Weight Distance" in Screen Space Refraction override. (UUM-12116)
    
*   UI Toolkit: Fixed :active default style overwritten by :hover:enabled. ([UUM-19845](https://issuetracker.unity3d.com/issues/button-in-the-ui-toolkit-samples-window-doesnt-change-the-color-when-being-pressed))
    
*   UI Toolkit: Fixed an issue where the Progress Bar's title attribute would not reset inside the UI Builder. ([UUM-21345](https://issuetracker.unity3d.com/issues/ui-builder-progressbar-title-field-isnt-updated-when-setting-the-value-to-an-empty-string))
    
*   UI Toolkit: Fixed an issue where the UI Builder would log a cryptic error when trying to save a uxml document outside of the project. It will now inform the user that the operation failed. ([UUM-20711](https://issuetracker.unity3d.com/issues/improve-error-message-when-saving-out-side-of-project))
    
*   UI Toolkit: Fixed image element so it no longer ignores UV rect when a sprite was used. ([UUM-18362](https://issuetracker.unity3d.com/issues/image-ignores-the-uv-rect-parameter-when-a-sprite-is-used))
    
*   UI Toolkit: Fixed incorrect width calculated for Labels with style tags. (UUM-8428)
    
*   UI Toolkit: Fixed layout of Image element so it now works with a flipped UV rect. ([UUM-17729](https://issuetracker.unity3d.com/issues/an-image-is-not-displayed-upside-down-when-width-and-height-are-not-specified))
    
*   UI Toolkit: Fixed support for compound assignment operators for UI Toolkit numeric fields (IntegerField, LongField, FloatField, DoubleField). ([UUM-3471](https://issuetracker.unity3d.com/issues/uitoolkit-math-assignment-operators-done-in-a-numeric-field-dont-return-the-expression-result))
    
*   UI Toolkit: Improved UI Toolkit so that flipped UVs are now properly handled by scale modes of the Image element. ([UUM-17136](https://issuetracker.unity3d.com/issues/the-image-is-not-displayed-in-a-window-when-the-image-y-axis-is-flipped))
    
*   Universal RP: Fixed a missing keyword in ParticleLit for Lightmap shadow mixing. ([UUM-18601](https://issuetracker.unity3d.com/issues/urp-particle-lit-is-missing-number-pragma-multi-compile-lightmap-shadow-mixing))
    
*   Universal RP: Fixed projection flip inversion. ([UUM-13634](https://issuetracker.unity3d.com/issues/gameobject-light-reflection-is-inverted-when-in-play-mode-or-player))
    
*   Universal Windows Platform: Fixed mouse wheel events on UWP. ([UUM-19092](https://issuetracker.unity3d.com/issues/scrolling-with-the-mouse-is-logged-as-a-mousedown-event-when-the-project-is-deployed-on-uwp))
    
*   URP: Fixed 2D game view flickering when using URP Pixel Perfect and Cinemachine Pixel Perfect Extension. (UUM-20343)
    
*   URP: Fixed errors related to the lack of support of native shadow maps on WebGL1. (UUM-2270)
    
*   VFX Graph: Fixed an issue that vertex Color was black while using new shader graph integration on planar primitive output. ([UUM-12866](https://issuetracker.unity3d.com/issues/vfx-graph-missing-vertexcolor-initialization-with-output-quad))
    
*   VFX Graph: Fixed an issue with the out of range exception on GPU when multiple spawn context are plugged to the same initialize system. ([UUM-8351](https://issuetracker.unity3d.com/issues/vfx-oom-on-gpu-causing-unexpected-behavior-with-multiple-spawner))
    
*   VFX Graph: Forbid drag and drop of material from project browser to VFX component in scene. ([UUM-14790](https://issuetracker.unity3d.com/issues/vfx-dragging-regular-material-onto-a-vfx-graph-will-override-its-own-material))
    
*   Video: Fixed Video Player crash/malfunction on Android versions less than 9. ([UUM-1843](https://issuetracker.unity3d.com/issues/backport-android-videoplayer-videos-are-not-played-from-url-on-specific-devices))
    
*   Video: VideoPlayer.width and height return 0 instead of expected values. ([UUM-1899](https://issuetracker.unity3d.com/issues/backport-macos-videoplayer-dot-width-and-height-returns-0-when-videoplayer-dot-texture-dot-width-and-height-returns-expected-values))
    
*   Visual Scripting: Detected and fixed parameter renames for nodes that support a default parameter for each of their inputs. ([UVSB-1885](https://issuetracker.unity3d.com/issues/bolt-update-random-range-node-set-users-values-to-min0-and-max0))
    
*   Visual Scripting: Fixed a problem that was preventing link.xml creation when building for Mono backend. ([UVSB-2348](https://issuetracker.unity3d.com/issues/serialization-errors-are-thrown-in-the-player-when-managed-stripping-level-is-set-to-high))
    
*   Visual Scripting: Fixed graphs being corrupted on deserialization if containing a node whose type cannot be found. ([UVSB-2332](https://issuetracker.unity3d.com/issues/script-graph-cannot-be-opened-and-failed-to-deserialize-behaviour-dot-error-is-logged-after-deleting-a-custom-node-script))
    
*   Visual Scripting: Fixed Visual Scripting settings now only save to disk when modified.
    
*   Visual Scripting: Fixed `Gradient.mode` serialization. This fix is available for Unity 2021.3.9f1 or newer. ([UVSB-2356](https://issuetracker.unity3d.com/issues/blend-gradient-mode-is-changed-to-fixed-if-using-visual-scripting-serializer-when-entering-play-mode))
    
*   Visual Scripting: Moved Events/MessageListeners files to a Listeners folder to avoid to exceed some OS path limit.
    
*   WebGL: Fixed a bug where Firefox would hang at 90% while loading. ([UUM-1155](https://issuetracker.unity3d.com/issues/webgl-player-stops-loading-at-90-percent-in-firefox-when-browser-loses-focus))
    
*   WebGL: Fixed error handling of AudioContext.resume(). (UUM-17803)
    
*   XR: Fixed crash on Quest when using MSAA and moving out of the guardian during startup. (UUM-20525)
    
*   XR: Updated XR Interaction Toolkit to 2.2.0.

### Known Issues in 2021.3.16f1

*   Asset - Database: Crash on GameObject::ActivateAwakeRecursivelyInternal when opening project ([UUM-17633](https://issuetracker.unity3d.com/issues/crash-on-gameobject-activateawakerecursivelyinternal-when-opening-project))
    
*   IMGUI Framework: Array values aren't changed when altering them in a custom EditorWindow ([UUM-15645](https://issuetracker.unity3d.com/issues/array-values-arent-changed-when-altering-them-in-a-custom-editorwindow))
    
*   MacOS: Crash on \_\_pthread\_kill when dragging Sprites into the Scene view ([UUM-20950](https://issuetracker.unity3d.com/issues/crash-on-pthread-kill-when-dragging-sprites-into-the-scene-view))
    
*   MacOS: Crash on \_\_pthread\_kill when EditorUtility.OpenFolderPanel is executed ([UUM-2293](https://issuetracker.unity3d.com/issues/crash-on-pthread-kill-when-editorutility-dot-openfolderpanel-is-executed))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Shader System: GameObjects doesn't get rendered when using "Unlit.Unlit\_UsePass" Shader ([UUM-18980](https://issuetracker.unity3d.com/issues/sphere-gameobject-doesnt-get-rendered-when-using-unlit-dot-unlit-usepass-shader))
    
*   Universal RP: \[URP\] Memory leak when in Play Mode ([UUM-19089](https://issuetracker.unity3d.com/issues/urp-memory-leak-when-in-play-mode))
    
*   Visual Effects: \[VFX Graph\] Opaque Unlit Output don't write to Depth ([UUM-19559](https://issuetracker.unity3d.com/issues/vfx-graph-opaque-unlit-output-dont-write-to-depth))
    

### 2021.3.16f1 Release Notes

#### Features

*   TextMeshPro: Added support for Color Glyphs and extracting OpenType font features.

#### Improvements

*   2D: Improved performance of TilemapCollider2D. (UUM-6046)
    
*   Animation: Reduced the time required to load AnimationClip instances.
    
*   Editor: Improved performance of Handles.DrawAAPolyLine.
    
*   Editor: Improved performance of rendering the Project Settings. It would previously repeatedly query all objects loaded into the editor, which meant that operations that load assets into memory (entering playmode) would make the Project Settings unusable slow.
    
*   Graphics: Increased the maximum Async Upload Buffer Size to 2047 MB and updated docs.
    
*   Profiler: Reduced the performance cost of drawing charts in the profiler.
    
*   Shaders: Improved performance of ShaderKeywordSet.IsEnabled(LocalKeyword) and ShaderUtil.PassHasKeyword(...).
    
*   Video: Report error only when the user uses MediaFoundation directly.
    

#### Changes

*   Text: Upgraded freetype to 2.12.1. (UUM-6502)
    
*   Universal RP: Shader parameters used by additional lights are now removed when additional lights are disabled in URP Assets.
    

#### Fixes

*   2D: Fixed Stencil so it now works when rendering sprites with GPU instancing on. ([UUM-15295](https://issuetracker.unity3d.com/issues/sprite-is-not-clipped-using-the-stencil-when-the-material-has-enable-gpu-instancing-enabled))
    
*   Android: Fixed issue where "Multithreaded Rendering" is getting disabled after a few Player builds when it should be enabled according to Player Settings. (UUM-18385)
    
*   Animation: Fixed issue where, for some playable graphs, the animated displacement of the animated game object would keep accumulating when the game object was disabled and enabled. The original behaviour can be restored with the keepAnimatorStateOnDisable variable. ([UUM-3486](https://issuetracker.unity3d.com/issues/playables-lose-the-animator-state-when-disabling-a-gameobject-with-playables-attached-to-an-animator))
    
*   Editor: Fix serious Editor performance issue when running on macOS Ventura. (UUM-19011)
    
*   Editor: Fixed a crash that sometimes occurs when the Windows Editor is closed. ([UUM-19899](https://issuetracker.unity3d.com/issues/crash-on-mainmessageloop-when-changing-input-systems))
    
*   Editor: Fixed exception incorrectly reporting object already in pool when equal instances of classes implementing IEquatable<T> are released to ObjectPool. (UUM-8083)
    
*   Editor: Fixed for special characters not displaying as expected in built application names on Android. ([UUM-12251](https://issuetracker.unity3d.com/issues/some-special-characters-in-product-name-arent-displayed-after-building-app-to-the-android-device))
    
*   Editor: Fixed SystemInfo.batteryStatus and SystemInfo.batteryLevel does not work on Linux Laptops ([UUM-16083](https://issuetracker.unity3d.com/issues/linux-systeminfo-dot-batterystatus-slash-systeminfo-dot-batterylevel-doesnt-work-on-a-linux-laptop))
    
*   Editor: Making sure context view context can't be duplicated, copied or cut. ([UUM-2655](https://issuetracker.unity3d.com/issues/prefab-opened-in-context-can-have-its-root-duplicated-creating-uninteractable-gameobjects-that-dont-get-saved-with-the-prefab-1))
    
*   Editor: Prevent too many open files error when uploading to Accelerator. ([UUM-19028](https://issuetracker.unity3d.com/issues/case-1389792-too-many-files-open))
    
*   Editor: Prevent user errors in when using WorldToLocal after setting Itransform.Scale with a z scale of 0. (UUM-18782)
    
*   Editor: Removed Exported define from SearchService to avoid domain reload. (UUM-18922)
    
*   GI: Added the range property to the Light Explorer window.
    
*   GI: Fixed an issue where Enlighten RTGI schedules material updates indefinitely when animating the emission color of an emissive mesh renderer. ([UUM-10037](https://issuetracker.unity3d.com/issues/enlighten-rtgi-ticks-indefinitely-after-the-emissive-color-of-a-renderer-has-been-updated-via-animation))
    
*   GI: Fixed lightprobes getting direct lighting in subtractive mode. ([UUM-1344](https://issuetracker.unity3d.com/issues/mixed-point-slash-spot-lights-with-shadows-disabled-are-baking-direct-light-into-light-probes-on-subtractive-lighting))
    
*   Graphics: Added safe-guards to prevent GetPixels / GetPixels32 crashes in cases where C# array creation would fail.
    
*   Graphics: Ensure LineRenderers and TrailRenderers with only 2 points don't vanish, if the points are close together. ([UUM-887](https://issuetracker.unity3d.com/issues/backport-linerenderer-is-not-drawn-if-the-length-is-0-dot-003162-or-less))
    
*   Graphics: Fixed a bug where ReadPixels would fail for textures larger than 2 GB.
    
*   Graphics: Fixed Async SSR on D3D12. (UUM-3342)
    
*   Graphics: Fixed cubemap uploads failing on Vulkan, D3D11 and D3D12 for cubemaps larger than 2 GB.
    
*   Graphics: Fixed GetPixelData / SetPixelData failing for textures larger than 2 GB. Added safe-guards to prevent NativeArray length overflows for the former API.
    
*   Graphics: Fixed LoadRawTextureData failing when the input NativeArray contained more than 2 GB of data. Added safe-guards to GetRawTextureData. (prevent NativeArray length overflow and C# array creation failure).
    
*   Graphics: Fixed RenderTexture assets not accepting texture dimensions greater than 20000 in UI, even though they currently can already go up to 32768 in script if the graphics capabilities allow for it.
    
*   Graphics: Fixed the Read/Write texture import setting becoming grayed out when "Max Size" was greater than 8192, regardless of actual texture dimensions or size. Replaced with an info box when enabling "Read/Write" that triggers if Unity detects a >512MB texture.
    
*   Graphics: Fixed Unity Graphics Buffer interface for Vulkan for non-compute targets.
    
*   Graphics: Fixed Vulkan validation error when using DrawProcedural with quad primitives. (UUM-18502)
    
*   Graphics: Texture 3D Preview (Volume / SDF mode) now becomes disabled if Unity detects a potential driver hang risk. Fixed an assert incorrectly being triggered when inspecting external Texture 3Ds.
    
*   HDRP: Fixed scalarization issues on Gamecore.
    
*   IL2CPP: Avoid a possible race condition when the garbage collector is enabled or disabled that could cause it to become permanently disabled. (UUM-16300)
    
*   IL2CPP: Enabled constrained calls on stackalloc'd buffers. (UUM-14341)
    
*   IL2CPP: Fixed crash on startup when scripting debugging is enabled. ([UUM-18685](https://issuetracker.unity3d.com/issues/build-crashes-on-il2cpp-vm-class-getvirtualmethod-when-building-and-running-a-project-using-il2cpp-scripting-backend))
    
*   IL2CPP: Fixed handling of numeric conversion IL opcodes in generic code when **Faster (smaller) builds** is enabled. ([UUM-15402](https://issuetracker.unity3d.com/issues/treeview-is-infinitely-populating-items-when-using-il2cpp-build))
    
*   IL2CPP: Fixed Monitor.Wait with zero timeout so it now returns false. ([UUM-18188](https://issuetracker.unity3d.com/issues/monitor-dot-wait-returns-false-when-running-tests-with-il2cpp))
    
*   IL2CPP: Fixed occasional missing stack traces in Debug.Log on Windows 10. ([UUM-12672](https://issuetracker.unity3d.com/issues/multithreaded-builds-sometimes-dont-print-the-stack-trace-when-using-il2cpp-scripting-backend))
    
*   IL2CPP: Fixed stackalloc to return null for zero length requests. ([UUM-15533](https://issuetracker.unity3d.com/issues/stackalloc-int-0-returns-incorrect-result-when-the-project-is-built-with-il2cpp))
    
*   IL2CPP: Removed an uncommon parameter name collision in generated C++ code. ([UUM-14587](https://issuetracker.unity3d.com/issues/il2cpp-generates-parameters-with-the-same-name-when-building-on-android))
    
*   IL2CPP: Support casts from arrays to interfaces of their reduced type (e.g. int\[\] -> IEnumerable<uint>). (UUM-16304)
    
*   Linux: Fixed **Shift+alpha** keys so that they are now recognized on certain keyboard layouts. ([UUM-19010](https://issuetracker.unity3d.com/issues/input-dot-getkey-doesnt-read-all-shift-plus-alpha-keys-non-us-keyboard-layouts))
    
*   Mono: Fixed JIT assert on arm with large return structs. (UUM-18498)
    
*   Particles: Fixed errors when baking a particle mesh after calling mesh->Clear(false). ([UUM-8489](https://issuetracker.unity3d.com/issues/particlesystemrenderer-bakemesh-method-throws-out-of-bounds-arguments-error-when-invoked))
    
*   Particles: Fixed SetParticles API sometimes failing to emit the correct number of particles. ([UUM-17027](https://issuetracker.unity3d.com/issues/particlesystem-does-not-add-all-particles-when-a-large-number-of-particle-systems-exist-in-a-scene))
    
*   Particles: Orbital velocity curves must all use the same mode. Display an error and don't crash, if this is not the case. ([UUM-8679](https://issuetracker.unity3d.com/issues/crash-on-evaluateslow-when-running-particle-system))
    
*   Scripting: When switching to UWP it doesn't add NET\_STANDARD\_2\_0 define, it adds NET\_4\_6 instead. ([UUM-1694](https://issuetracker.unity3d.com/issues/backport-uwp-not-adding-net-standard-2-0-define))
    
*   Serialization: When performing an undo on an object that uses SerializeReference reuse existing C# objects, instead of recreating them. ([UUM-651](https://issuetracker.unity3d.com/issues/serialized-references-are-recreated-when-modifiying-any-field-and-then-doing-ctrl-plus-z))
    
*   Services: Marking UserInfo apis as obsolete.
    
*   SRP Core: Fixed Volume component UI layout issue for TextureParameter. ([UUM-13801](https://issuetracker.unity3d.com/issues/the-dirt-texture-property-text-has-a-lot-of-padding-and-causes-difficulties-when-trying-to-access-its-texture-select-field-in-the-volume-components-bloom-section))
    
*   Terrain: Added support for ASTC 4x4 and BC7, and warning to the Terrain inspector when details atlas is uncompressed. (UUM-19973)
    
*   UI Toolkit: Fixed an exception when searching in the Debugger and UI element has a null name. ([UUM-18683](https://issuetracker.unity3d.com/issues/uitoolkit-nullreferenceexception-is-thrown-when-searching-in-the-debugger-and-ui-element-has-a-null-name))
    
*   UI Toolkit: Fixed display issue when resizing parent of Visual Element with negative scale. ([UUM-18196](https://issuetracker.unity3d.com/issues/y-flipped-visual-element-has-a-gap-between-its-parent-when-its-resized))
    
*   UI Toolkit: Fixed for 2021.3.X: "Double-click to create a new USS selector" text appears if hovering on Style Class List selectors of Controls internal elements. ([UUM-3469](https://issuetracker.unity3d.com/issues/double-click-to-create-a-new-uss-selector-text-appears-if-hovering-on-style-class-list-selectors-of-controls-internal-elements))
    
*   UI Toolkit: Fixed objects in UI Builder are changing their actual size when zooming in and out. ([UUM-15833](https://issuetracker.unity3d.com/issues/objects-in-ui-builder-are-changing-their-actual-size-when-zooming-in-and-out))
    
*   UI Toolkit: Fixed playmode tint not applied to text color. ([UUM-7215](https://issuetracker.unity3d.com/issues/label-with-dynamic-color-is-not-getting-playmode-tint-in-the-ui-builder-window))
    
*   UI Toolkit: Fixed scale 0 to 1 transition bug. ([UUM-4171](https://issuetracker.unity3d.com/issues/ui-toolkit-child-buttons-and-text-fields-background-disappear-when-parent-has-transition-to-scale-toggled-between-1-and-0))
    
*   UI Toolkit: Fixed TextValueField allocation when setting the same value. ([UUM-8156](https://issuetracker.unity3d.com/issues/this-dot-valuetostring-this-dot-rawvalue-is-called-every-time-when-setting-floatfield-dot-value-to-the-same-value))
    
*   UI Toolkit: Fixed the old theme not being removed from the list of documentElement's stylesheet when changing the current theme. ([UUM-11196](https://issuetracker.unity3d.com/issues/ui-builder-leaks-defaultcommondark-inter-dot-uss-stylesheet-into-ui-documents))
    
*   Universal RP: Fixed an issue with slower build-times caused by large Additional Light Shadows arrays in URP Shaders. ([UUM-17405](https://issuetracker.unity3d.com/issues/shader-compilation-time-is-higher-in-2021-dot-3-than-in-2020-dot-3))
    
*   URP: Fixed a bug where lights with different blend styles may have missing shadows. ([UUM-1872](https://issuetracker.unity3d.com/issues/shadows-are-rendered-from-one-light-source-when-using-two-2d-lights-with-different-blend-styles))
    
*   VFX Graph: Fixed an issue to avoid unnessary allocations in the SDF Baker by using Mesh Buffer API. ([UUM-2285](https://issuetracker.unity3d.com/issues/sdf-baking-causes-memory-usage-to-continually-rise-when-entering-play-mode-1))
    
*   VFX Graph: Fixed bounds padding being ignored. ([UUM-15655](https://issuetracker.unity3d.com/issues/vfx-graph-bounds-padding-not-working))
    
*   VFX Graph: Fixed robustness issues with Collision with SDF. (UUM-4803)
    
*   VFX Graph: Fixed the **Preserve Specular Lighting** mode on non-Shader Graph lit outputs. ([UUM-13778](https://issuetracker.unity3d.com/issues/hdrp-vfx-pixels-removed-by-alpha-still-receive-specular-when-preserve-specular-lighting-is-enabled))
    
*   VFX Graph: Removed unexpected GC.Alloc while accessing to `state.vfxEventAttribute` in \[VFXSpawnerCallbacks\]([https://docs.unity3d.com/ScriptReference/VFX.VFXSpawnerCallbacks.OnUpdate.html\\](https://docs.unity3d.com/ScriptReference/VFX.VFXSpawnerCallbacks.OnUpdate.html\)). ([UUM-14769](https://issuetracker.unity3d.com/issues/vfx-unexpected-garbage-from-spawnoverdistance))
    
*   VFX Graph: Removed unneeded nodes in Ribbon template. ([UUM-15443](https://issuetracker.unity3d.com/issues/vfx-graph-ribbon-system-contains-extra-nodes-and-contexts))
    
*   Video: Video is displayed with one frame delay when videoPlayer.Play() is called. ([UUM-15543](https://issuetracker.unity3d.com/issues/video-is-displayed-with-one-frame-delay-when-videoplayer-dot-play-is-called-1))
    
*   Web: Added missing file to WebGL build. ([UUM-17658](https://issuetracker.unity3d.com/issues/project-fails-with-unityeditor-dot-buildplayerwindow-plus-buildmethodexception-when-building-for-the-webgl-platform))
    
*   XR: Fixed VR run in background focus issue.

### Known Issues in 2021.3.15f1

*   Linux: Editor crashes at "DisconnectGtkSignal(void_, GtkCallbackResponse (_)(), void\*)" when opening floating windows ([UUM-11724](https://issuetracker.unity3d.com/issues/linux-editor-crashes-at-burst-signal-handler-when-opening-floating-windows))
    
*   MacOS: Crash on \_\_pthread\_kill when EditorUtility.OpenFolderPanel is executed ([UUM-2293](https://issuetracker.unity3d.com/issues/crash-on-pthread-kill-when-editorutility-dot-openfolderpanel-is-executed))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   MacOS: \[M1\]\[Rosseta\] Editor crashes on mono\_arch\_patch\_callsite when entering the Play Mode ([UUM-10411](https://issuetracker.unity3d.com/issues/m1-rosseta-editor-crashes-on-mono-arch-patch-callsite-when-entering-the-play-mode))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Shader System: GameObjects doesn't get rendered when using "Unlit.Unlit\_UsePass" Shader ([UUM-18980](https://issuetracker.unity3d.com/issues/sphere-gameobject-doesnt-get-rendered-when-using-unlit-dot-unlit-usepass-shader))
    
*   Universal RP: \[URP\] Memory leak when in Play Mode ([UUM-19089](https://issuetracker.unity3d.com/issues/urp-memory-leak-when-in-play-mode))
    
*   Visual Effects: \[VFX Graph\] Opaque Unlit Output don't write to Depth ([UUM-19559](https://issuetracker.unity3d.com/issues/vfx-graph-opaque-unlit-output-dont-write-to-depth))
    

### 2021.3.15f1 Release Notes

#### Features

*   Editor: Added Enable PlayMode Tooltips toggle to preferences.

#### Improvements

*   2D: \[com.unity.2d.animation\] Improved the Auto Geometry generation speed.
    
*   2D: \[com.unity.2d.pixelperfect\] Added URP Pixel Perfect Camera converter.
    
*   2D: \[com.unity.2d.pixelperfect\] Hide duplicate Pixel Perfect menus if URP Package is installed.
    
*   Animation: Optimized AnimationClip size calculation reducing asset load time in the Editor.
    
*   Graphics: Added support for late latch debug mode to help verify late latch functionality. ([UUM-16844](https://issuetracker.unity3d.com/issues/late-latch-debug-mode-functionality-is-missing))
    
*   Tests: Improved stability of Selecting\_Deleted\_ParticleSystemForceField\_Preset\_In\_PlayMode\_Doesnot\_Throw\_Exception test.
    
*   Version Control: Added offline mode toggle for smoother offline experience.
    

#### API Changes

*   UI Toolkit: Added: Added 2 Value constructor for TransformOrigin. (UUM-903)

#### Changes

*   XR: The Oculus XR Plugin package has been updated to 3.2.2.
    
*   XR: Updated the verified version of AR Foundation related packages to 4.2.7.
    

#### Fixes

*   2D: Fixed error when a Tile asset with an instanced GameObject is removed from the Tilemap during a Collider2D.OnCollision\*\*\*2D event. (UUM-15455)
    
*   2D: \[com.unity.2d.animation\] Fixed a case where new bones are not selected after pasting them in the Skinning Editor and an exception is thrown.
    
*   2D: \[com.unity.2d.animation\] Fixed a case where the auto weight generation would associate incorrect bones to vertices. ([DANB-22](https://issuetracker.unity3d.com/issues/automatic-weight-generation-for-2d-rigs-in-the-skinning-editor-assigns-weights-to-the-incorrect-bones-in-unity-2021))
    
*   2D: \[com.unity.2d.animation\] Fixed an issue where the Sprite Skin editor would throw an exception if Sprite Renderer doesn't have a Sprite assigned to it.
    
*   2D: \[com.unity.2d.animation\] Fixed IK Manager 2D's inspector slow downs.
    
*   2D: \[com.unity.2d.animation\] The visibility tab now scrolls to the selected bone in the Skinning editor.
    
*   Android: Do not move files in custom asset packs to src/main/assets, preserve the directory structure as it is. (UUM-15109)
    
*   Asset Bundles: Fixed issue where empty folders remain in the cache. ([UUM-15702](https://issuetracker.unity3d.com/issues/empty-folders-are-left-when-the-cache-is-cleaned))
    
*   Asset Pipeline: Fixed spritesheet and other previews not being updated in project browser sometimes. (UUM-2811)
    
*   Editor: Enabling shader keyword pre-filtering so that build process does not have to enumerate through full shader variant space. This fixes the issue of URP builds even with warm shader cache taking really long time. This fix does not reduce the time spent on actually compiling shaders. ([UUM-3711](https://issuetracker.unity3d.com/issues/shader-variant-build-preparation-does-not-scale))
    
*   Editor: Fixed "SerializedProperty m\_Enabled has disappeared!" error arpeared in console while undoying switching scripts in debug inspector. ([UUM-4170](https://issuetracker.unity3d.com/issues/serializedproperty-m-enabled-has-disappeared-error-arpeared-in-console-while-undoying-switching-scripts-in-debug-inspector))
    
*   Editor: Fixed a crash due to an integer overflow when calculating the required buffer size to store compressed mesh index data. ([UUM-1036](https://issuetracker.unity3d.com/issues/crash-when-changing-large-assets-mesh-compression))
    
*   Editor: Fixed a Crash/Freeze when using Handles.DrawGizmos in OnDrawGizmos. ([UUM-15008](https://issuetracker.unity3d.com/issues/crash-slash-freeze-when-using-handles-dot-drawgizmos-in-ondrawgizmos))
    
*   Editor: Fixed an issue where AssetDatabase.FindAssets would return invalid results when specifying multiple search folders. ([UUM-19314](https://issuetracker.unity3d.com/issues/probuilder-srp-wrong-material-assigned-to-probuilder-shape-upon-creation))
    
*   Editor: Fixed ArgumentOutOfRangeException errors in the ModelImporter Inspector when the imported FBX file contains objects with empty names. ([UUM-3177](https://issuetracker.unity3d.com/issues/argumentoutofrangeexception-startindex-cannot-be-less-than-zero-is-thrown-when-importing-the-fbx-model))
    
*   Editor: Fixed colorpicker functionality. (UUM-17499)
    
*   Editor: Fixed issue where textures are not generated when Naming option in Import Settings of an FBX file is changed to "From Model's Material". ([UUM-3640](https://issuetracker.unity3d.com/issues/textures-are-not-generated-when-naming-option-in-import-settings-of-an-fbx-file-is-changed-to-from-models-material-1))
    
*   Editor: Fixed issue with Selection Wire not rendering. ([UUM-19139](https://issuetracker.unity3d.com/issues/wire-is-not-visible-on-a-selected-gameobject-in-scene-view-when-selection-wire-is-enabled))
    
*   Editor: Fixed material copy/paste so it now copies all properties. ([UUM-6041](https://issuetracker.unity3d.com/issues/the-actions-copy-slash-paste-material-properties-do-not-copy-texture-tiling-and-offset-properties))
    
*   Editor: Fixed near planeSize.y in CameraEditorUtils. ([UUM-7797](https://issuetracker.unity3d.com/issues/incorrect-near-planesize-dot-y-calculation-at-cameraeditorutils-dot-cs))
    
*   Editor: Fixed tile palette drop-down flickering (UUM-8307)
    
*   Editor: Fixed undo bug. Enabled fixed unstable test. Disabled calling dynamic\_pptr\_cast with pointer to pointer - this caused a hard to find runtime error which could have been caught at compile time. (UUM-19070)
    
*   Graphics: Bug in mip bias setting on DX11 fixed. ([UUM-879](https://issuetracker.unity3d.com/issues/backport-repeat-texture-wrap-mode-set-through-textureimporter-in-assetpostprocessor-behaves-like-clamp-when-mipmapbias-is-set))
    
*   Graphics: Fixed closesthit, anyhit or intersection shaders in .raytrace files causing a GPU hang. Log an error when these shader types are present in a .raytrace file since they are not currently supported. ([UUM-10113](https://issuetracker.unity3d.com/issues/editor-crashes-when-ray-tracing-shaders-are-not-compiled-properly))
    
*   Graphics: Fixed DrawMeshNow with Metal when changing mesh vertex data. ([UUM-9782](https://issuetracker.unity3d.com/issues/drawmeshnow-is-not-drawing-mesh-immediately))
    
*   Graphics: Fixed for depth submission crash when no MSAA is enabled (Quest 2). ([UUM-13249](https://issuetracker.unity3d.com/issues/graphics-crash-when-submitting-depth-with-no-msaa))
    
*   Graphics: Fixed mapped index debug error when rendering null geometry. (UUM-11997)
    
*   Graphics: Improved use of ClearUnsupportedSettings for the depth texture of a RenderTexture  
    [https://jira.unity3d.com/browse/UUM-16758](https://jira.unity3d.com/browse/UUM-16758). ([UUM-16533](https://issuetracker.unity3d.com/issues/android-depth-texture-isnt-rendered-when-using-opengles3-graphics-api))
    
*   Graphics: Prevented a crash on some platforms when the mesh buffers do not exist on a MeshRenderer. ([UUM-4150](https://issuetracker.unity3d.com/issues/android-instantiating-a-mesh-with-r-slash-w-disabled-causes-crash))
    
*   HDRP: Re-enabled XR tests for 004-CloudsFlaresDecals and 005-DistortCloudsParallax. ([UUM-1894](https://issuetracker.unity3d.com/issues/hdrp-xr-unity-crashes-when-entering-play-mode-while-openxr-render-mode-is-set-to-multi-pass-and-there-is-terrain-in-the-scene))
    
*   iOS: Added support for the Swift Remote Packages in XCode project API. Added PBXProject API to add to references to them, namely AddRemotePackageReferenceAtBranch, AddRemotePackageReferenceAtRevision, AddRemotePackageReferenceAtVersion, AddRemotePackageReferenceAtVersionUpToNextMajor, AddRemotePackageReferenceAtVersionUpToNextMinor, AddRemotePackageReferenceWithVersionRange. Also added way to add framework from the remote package with AddRemotePackageFrameworkToProject. (UUM-15082)
    
*   iOS: Fixed crash on warming up shader variants with procedural instancing. (UUM-10114)
    
*   Kernel: Fixed issue with establishing adb forwarding on android 10,11,12 (used to direct connect editor with device thru USB cable). (UUM-13304)
    
*   Kernel: Moved "Sending message header failed (0)" into internal logs to not spams developers. ([UUM-2612](https://issuetracker.unity3d.com/issues/android-profiler-sending-message-header-failed-0-warning-message-outputted-when-switching-profiler-connections))
    
*   License: Make Unity build deterministic when using floating licenses. ([UUM-18489](https://issuetracker.unity3d.com/issues/unity-builds-not-deterministic-when-using-a-different-machine-or-a-floating-license))
    
*   Linux: Fixed Multi Display mouse/touch input so it now correctly registers on Linux Standalone player. (UUM-1569)
    
*   macOS: Fixed new InputSystem mouse position not being updated after resolution change. ([UUM-10519](https://issuetracker.unity3d.com/issues/mouse-position-is-not-updated-when-screen-resolution-is-changed))
    
*   macOS: Removed developer placeholder text from progress dialog. (UUM-18221)
    
*   Particles: Fixed cycles and frame over time to work together correctly in the Texture Sheet Animation module. ([UUM-2192](https://issuetracker.unity3d.com/issues/backport-texturesheetanimation-loops-through-all-frames-when-cycles-is-set-to-2-or-more-and-frameovertime-upper-frame-limit-is))
    
*   Particles: Fixed particle bounds issue. ([UUM-869](https://issuetracker.unity3d.com/issues/backport-particle-system-flickers-slash-disappears-when-using-custom-simulation-space))
    
*   Physics: Fixed a crash that happened when resetting the mass properties of a disabled articulation body. ([UUM-13188](https://issuetracker.unity3d.com/issues/unity-crashes-on-articulationbody-custom-resetcenterofmass-when-disabling-an-articulation-body))
    
*   Profiler: Fixed ProfilerMarker initialization and usage in Release players. (UUM-9541)
    
*   Scene/Game View: Fixed "Auto-hide Gizmos" preference not remember state on application restart. ([UUM-7848](https://issuetracker.unity3d.com/issues/auto-hide-gizmos-preference-is-not-saved-when-reopening-the-project))
    
*   Scene/Game View: Fixed an issue where `Handles.DrawAAPolyLine` would throw an error if the passed colors array and points array were of differing lengths. ([UUM-19287](https://issuetracker.unity3d.com/issues/handles-dot-dodrawaapolyline-throws-an-error-number-of-colors-and-number-of-points-must-be-the-same-when-evaluating-positions))
    
*   Scene/Game View: Fixed Material Validation colors in the Scene View not updating when preference is modified. ([UUM-5087](https://issuetracker.unity3d.com/issues/colors-in-global-illumination-and-material-validation-scene-view-draw-mode-panels-are-not-updated-when-changed-in-preferences))
    
*   Scene/Game View: Fixed the Rect Tool center handle not drawing in the correct position during a resize event. ([UUM-17618](https://issuetracker.unity3d.com/issues/gameobject-center-indicator-is-offset-whilst-resizing-gameobject-to-the-point-where-center-indicator-is-no-longer-visible))
    
*   Scripting: Editor could crash when going out of SafeMode, when DomainReloadTimings was enabled. ([UUM-18885](https://issuetracker.unity3d.com/issues/crash-after-fixing-the-cause-of-the-safe-mode-and-returning-to-the-editor))
    
*   Shaders: Fixed a null pointer dereference with `ShaderVariantCollection` API. ([UUM-16058](https://issuetracker.unity3d.com/issues/unity-editor-crashes-on-keywords-localkeywordstate-localkeywordstate-when-a-shader-is-null))
    
*   Shaders: Fixed a warning log error when calling EnableKeyword on RenderingCommandBuffer. (UUM-16918)
    
*   Shaders: Fixed asset bundles with shaders not loading correctly on newer versions of Unity. ([UUM-17421](https://issuetracker.unity3d.com/issues/assertion-failed-on-expression-m-bufferstobind-shadertype-bind-dot-buffer-equals-equals-null-is-thrown-when-entering-the-play-mode))
    
*   Shaders: Fixed reflection probe rendering silently being skipped when the required shader is not found in the player. ([UUM-12628](https://issuetracker.unity3d.com/issues/realtime-reflections-silently-fail-when-hidden-slash-cube-star-shaders-arent-included))
    
*   Shaders: Fixed Texture and Vector material properties not supporting displaying tooltips. ([UUM-5691](https://issuetracker.unity3d.com/issues/tooltip-doesnt-appear-when-hovering-over-a-materials-property-in-the-inspector))
    
*   Terrain: Mixed light baking with Shadowmask on URP with TerrainLit shader doesn't work as intended when using Deferred rendering. ([UUM-3897](https://issuetracker.unity3d.com/issues/terrain-slash-urp-mixed-light-baking-with-shadowmask-on-urp-with-terrainlit-shader-doesnt-work-as-intended-when-using-deferred-rendering))
    
*   Terrain: Terrain shadows are not rendered when zooming out in Scene/Game View with Deferred Rendering enabled. ([UUM-1860](https://issuetracker.unity3d.com/issues/terrain-shadows-are-not-rendered-when-zooming-out-in-scene-slash-game-view-with-deferred-rendering-enabled))
    
*   UI Toolkit: Fixed an issue where the UI Builder would export asset references with `resource()` instead of `url()` when the asset path contained a folder with Resources in its name. ([UUM-14889](https://issuetracker.unity3d.com/issues/ui-toolkit-cant-use-image-store-in-gameresources-folder))
    
*   UI Toolkit: Fixed an issued where a bound EnumField was not created properly if the associated Enum type did not have a value of 0. ([UUM-11706](https://issuetracker.unity3d.com/issues/enumfield-throws-nullreferenceexception-error-when-the-enum-doesnt-have-the-default-value-of-0))
    
*   UI Toolkit: Fixed scale 0 to 1 transition bug. ([UUM-4171](https://issuetracker.unity3d.com/issues/ui-toolkit-child-buttons-and-text-fields-background-disappear-when-parent-has-transition-to-scale-toggled-between-1-and-0))
    
*   UI Toolkit: Fixed shader bug observable on macOS Ventura with AMD gpus that was causing Graphview (e.g. Shader Graph, VFX Editor) edges to be missing. ([UUM-19016](https://issuetracker.unity3d.com/issues/ventura-intel-shader-graph-nodes-connections-are-not-visible-when-using-macos-13-dot-0-ventura))
    
*   UI Toolkit: Fixed shader bug observable on macOS Ventura with AMD gpus that was causing UIToolkit elements to be missing, clipped or to display incorrectly. ([UUM-18978](https://issuetracker.unity3d.com/issues/labels-and-icons-are-missing-when-using-macos-13-dot-0-ventura))
    
*   UI Toolkit: Fixed VisualElement alignment issue in non-standard DPIs. ([UUM-11741](https://issuetracker.unity3d.com/issues/ui-toolkit-gaps-between-visualelements-with-grow-1-when-scaled-with-scale-with-screen-size))
    
*   UI Toolkit: Make sure clickable is not invoked when target VisualElement is not enabled. ([UUM-16476](https://issuetracker.unity3d.com/issues/button-still-processes-clicks-after-being-disabled-by-the-script))
    
*   UI Toolkit: The behavior when a dropdown is removed from the hierarchy is updated to prevent any visual element left in the hierarchy. ([UUM-11117](https://issuetracker.unity3d.com/issues/ui-toolkit-dropdown-menu-overlay-is-visible-after-exiting-play-mode))
    
*   UI Toolkit: UI Toolkit: Optimized the UI Builder to reduce overhead when dragging/resizing elements in the canvas. (UI Builder). (UUM-844)
    
*   Universal RP: Set default contribution to 0 for ColorLookup VolumeComponent, which makes the interpolation with the implicit default global volume behave as expected. ([UUM-12321](https://issuetracker.unity3d.com/issues/colors-majorly-change-when-the-volume-components-weight-property-value-changes-from-0-to-any-small-value))
    
*   Version Control: Fixed performance issue with FindWorkspaceForPath method called multiple times every frame  
    Fixed performance issue with UI.CooldownWindowDelayer.OnUpdate running on project without Plastic SCM workspace.
    
*   VFX Graph: Added a Visual Effect Graph to the scene did not take the default parent into account. ([UUM-11362](https://issuetracker.unity3d.com/issues/certain-gameobjects-ignore-the-default-parent-when-they-are-created))
    
*   VFX Graph: Fixed an issue that VisualEffect spawned behind the camera were always updated until visible and culled. ([UUM-6379](https://issuetracker.unity3d.com/issues/vfx-vfx-is-updated-if-spawned-behind-the-camera))
    
*   Video: Fixed getting buffer overflow warning when increasing playback speed on the VideoPlayer. ([UUM-1891](https://issuetracker.unity3d.com/issues/backport-videoplayer-buffer-overflow-warnings-when-we-start-playing-vp8-video-with-increased-playback-speed))
    
*   WebGL: Added streaming download of response body in UnityWebRequest. ([UUM-1149](https://issuetracker.unity3d.com/issues/unitywebrequest-buffers-http-response-in-webgl-player-and-sends-all-elements-at-once-instead-of-one-at-the-time))
    
*   Windows: Modified full stack traces so that when they are enabled on Windows, Unity will no longer try to resolve symbols from the symbol server. This prevents a potential stall the first time a stack trace is printed. ([UUM-11802](https://issuetracker.unity3d.com/issues/stackwalker-is-misconfigured-to-downloads-symbols-from-symbol-servers))
    
*   XR: Updated XR Interaction Toolkit to 2.0.4.

### Known Issues in 2021.3.14f1

*   Linux: Editor crashes at "DisconnectGtkSignal(void\*, GtkCallbackResponse (_)(), void_)" when opening floating windows ([UUM-11724](https://issuetracker.unity3d.com/issues/linux-editor-crashes-at-burst-signal-handler-when-opening-floating-windows))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   MacOS: \[M1\]\[Rosseta\] Editor crashes on mono\_arch\_patch\_callsite when entering the Play Mode ([UUM-10411](https://issuetracker.unity3d.com/issues/m1-rosseta-editor-crashes-on-mono-arch-patch-callsite-when-entering-the-play-mode))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Shader System: GameObjects doesn't get rendered when using "Unlit.Unlit\_UsePass" Shader ([UUM-18980](https://issuetracker.unity3d.com/issues/sphere-gameobject-doesnt-get-rendered-when-using-unlit-dot-unlit-usepass-shader))
    
*   Universal RP: Shader compilation time is higher in 2021.3 than in 2020.3 ([UUM-17405](https://issuetracker.unity3d.com/issues/shader-compilation-time-is-higher-in-2021-dot-3-than-in-2020-dot-3))
    
*   Visual Effects: \[VFX Graph\] Opaque Unlit Output don't write to Depth ([UUM-19559](https://issuetracker.unity3d.com/issues/vfx-graph-opaque-unlit-output-dont-write-to-depth))
    
*   Web Platform: Project fails with "UnityEditor.BuildPlayerWindow+BuildMethodException" when building for the WebGL platform ([UUM-17658](https://issuetracker.unity3d.com/issues/project-fails-with-unityeditor-dot-buildplayerwindow-plus-buildmethodexception-when-building-for-the-webgl-platform))
    

### 2021.3.14f1 Release Notes

#### Improvements

*   Animation: Further improvements to animation job performance (esp. some forms of IK).
    
*   Asset Import: Improved performance of asset imports in large projects.
    
*   Editor: Reduced the time taken by AssetDatabase.FindAssets when used with a custom filter, speeding up domain reloads and other editor operations that made the poor choice of calling this function in the first place.
    
*   Multiplayer: Added Netcode for GameObjects 1.1.0.
    
*   Profiler: Improved performance of rendering the CPU timeline view when viewing large captures.
    
*   Scripting: Always inline the Mathf Sign() script API function.
    
*   Scripting: Does not discard AssemblyUpdater output when no updates have been applied.
    
*   VFX Graph: Reduced the time taken by VFXGraph.CheckCompilationVersion that would previously potentially query all assets on every domain reload.
    

#### API Changes

*   Graphics: Added: Added SystemInfo.computeSubGroupSize API, allows users to query the size of the compute thread group that supports efficient memory sharing on the GPU.
    
*   Graphics: Added: Added SystemInfo.maxTexture3DSize API, allows users to query the largest 3D Texture size that the graphics hardware supports.
    
*   Graphics: Added: Added SystemInfo.maxTextureArraySlices API, allows users to query the maximum number of slices in a Texture array that the graphics hardware supports.
    

#### Changes

*   Graphics: Changed Graphics packages version from 12.1.7 to 12.1.8.
    
*   URP: Avoid using Depth32Stencil8 format on Android.
    

#### Fixes

*   2D: Fixed result of the Tilemap.GetCellCenterLocal/World API for a Hexagonal Grid and a large Tile Anchor offset.
    
*   Android: Fixed infinite loop when requesting for runtime permission that is automatically rejected by the OS. (UUM-15923)
    
*   Android: Fixed stacktrace on Chrome OS x86\_64. ([UUM-781](https://issuetracker.unity3d.com/issues/chromeos-only-a-few-frames-are-reported-in-logcats-stack-trace-when-using-x86-64-or-armv7-architectures-on-pixelbook))
    
*   Android: InputView is not clickable when isInputFieldHidden AND !mConsumeOutsideTouches. ([UUM-16292](https://issuetracker.unity3d.com/issues/android-keyboard-gets-hidden-when-the-input-field-area-is-clicked-and-touchscreenkeyboard-dot-hideinput-is-set-to-true))
    
*   DX12: Fixed single frame flicker which can occur when streaming textures. (UUM-15646)
    
*   Editor: Added iPhone 13 Pro, iPhone 13 Pro Max and Samsung Galaxy Z Flip3 to the device simulator. (UUM-655)
    
*   Editor: Don't remove full symbols from build location when making Linux installer package. (UUM-1828)
    
*   Editor: Fixed an issue where TextureImporter.GetPlatformTextureSettings would not perform fix-up on the platform string argument correctly. ([UUM-15361](https://issuetracker.unity3d.com/issues/unable-to-get-textureoverridesettings-from-buildpipeline-dot-getbuildtargetname-when-trying-to-pass-in-the-platform-string))
    
*   Editor: Fixed crash when using URP on some Adreno 6xx devices with shaders that use clip(). ([UUM-4367](https://issuetracker.unity3d.com/issues/crash-on-adreno-630-devices-when-using-shader-with-mixed-stencil))
    
*   Editor: Fixed crash while pausing progress if in playmode. ([UUM-14845](https://issuetracker.unity3d.com/issues/2021-dot-3-macos-crash-when-calling-progress-dot-pause-from-a-script))
    
*   Editor: Fixed debug canvas open in random user input key combinations. ([UUM-17026](https://issuetracker.unity3d.com/issues/linux-debug-canvas-gameobject-gets-added-to-the-scene-when-shift-plus-w-is-pressed-while-in-play-mode))
    
*   Editor: Fixed editor crashing when entering into play mode in LEGO tutorial. ([UUM-971](https://issuetracker.unity3d.com/issues/backport-linux-editor-crashes-at-gfxdevicegles-drawbuffersbatchmode-when-entering-play-mode-in-the-lego-tutorial))
    
*   Editor: Fixed EditorUtility.DisplayDialog layout after showing dialog with a long text. ([UUM-9447](https://issuetracker.unity3d.com/issues/macos-editorutility-dot-displaydialog-dialog-layout-gets-corrupted-after-displaying-a-17-plus-lines-477-plus-non-broken-characters-long-message))
    
*   Editor: Fixed inspector window black out after addComponent action from menu dropdown or shortcut. (UUM-1565)
    
*   Editor: Fixed issue where Camera and Lights animations are transferred to the wrong animation clip when importing a FBX file with multiple takes. ([UUM-13001](https://issuetracker.unity3d.com/issues/animations-attributes-get-corrupted-in-the-animation-window-when-opening-the-project-in-a-newer-version-of-unity))
    
*   Editor: Fixed scripted importer registration errors, when changing platform. ([UUM-14062](https://issuetracker.unity3d.com/issues/switching-target-platform-in-build-settings-throws-assetimporters-dot-scriptedimporter-errors))
    
*   Editor: Fixed Unity crashes in batch mode when using -vcsMode Perforce. ([UUM-17597](https://issuetracker.unity3d.com/issues/crash-when-running-editor-with-batch-mode-and-vcsmode-flags-1))
    
*   Editor: Fixed yamato test on 2021.3 by backporting a missing fix.
    
*   Editor: Re-introduce the recompile-after-finished-playing option. ([UUM-16168](https://issuetracker.unity3d.com/issues/recompile-after-finish-playmode-option-is-gone))
    
*   Editor: \[SpeedTree\] ExtraTexture texture is no longer marked sRGB (Color Data) when imported with a SpeedTree asset. (UUM-10912)
    
*   GI: Avoid unnecessary gfx fence when Enlighten Realtime GI is not enabled. (UUM-8035)
    
*   Graphics: Fixed BatchRendererGroup TempJob memory leak in special rendering situations like HDRP AOV rendering. ([UUM-16733](https://issuetracker.unity3d.com/issues/jobtempalloc-has-allocations-that-are-more-than-4-frames-old-warnings-are-thrown-when-using-aovrequest-and-batchrenderergroup))
    
*   Graphics: Fixed crash when creating a RenderTexture with dimensions exceeding the capabilities of the current graphics device. ([UUM-5459](https://issuetracker.unity3d.com/issues/backport-macos-crash-on-pthread-kill-when-render-texture-has-no-depth-buffer-and-dimension-is-3d))
    
*   Graphics: Fixed crash when loading a specific window layout on the Mac editor. ([UUM-11907](https://issuetracker.unity3d.com/issues/unity-2021-dot-3-slash-arf-5-dot-0-pre-dot-12-layout-specific-graphics-driver-crash-on-intel-macbook-pro))
    
*   Graphics: Fixed depth-only rendering to Texture2DArray not working on Metal. ([UUM-14488](https://issuetracker.unity3d.com/issues/texture2darray-depth-format-does-not-work-when-using-macos-with-an-m1-macbook))
    
*   Graphics: Fixed metal shader compilation error when using bit-shift operations to create the destination vector from the scalar source. ([UUM-16113](https://issuetracker.unity3d.com/issues/ios-macos-assertion-failed-errors-appear-when-using-bit-shift-operations))
    
*   IL2CPP: Corrected handle enums declared inside a generic type. (UUM-612)
    
*   IL2CPP: Corrected the behavior of the System.IO.Compression.ZipArchive API. ([UUM-14582](https://issuetracker.unity3d.com/issues/il2cpp-test-fails-when-writing-a-ziparchive-into-a-ziparchiveentry-within-a-parent-ziparchive))
    
*   IL2CPP: Fixed compilation error that occurred when a enum was passed by reference in a marshalling definition. ([UUM-11353](https://issuetracker.unity3d.com/issues/il2cpp-build-fails-when-enum-marshaling))
    
*   IL2CPP: Fixed crash in IL2CPP metadata code when loading a field RVA value. (UUM-17473)
    
*   IL2CPP: Fixed exception when calling Enum.CompareTo on enum with a System.Uint16 underling type. ([UUM-11944](https://issuetracker.unity3d.com/issues/il2cpp-object-must-be-the-same-type-as-the-enum-exception-is-thrown-when-using-sorteddictionary))
    
*   IL2CPP: Fixed sporadic ArgumentOutOfRangeException during code conversion. ([UUM-10403](https://issuetracker.unity3d.com/issues/error-il2cpp-error-for-type-system-dot-net-dot-webheadercollection-slash-rfcchar-is-thrown-when-building-on-webgl-platform))
    
*   IL2CPP: Fixed syntax error: ')' " when "Faster (smaller) builds" is selected on function pointer call with a return type but no parameters. ([UUM-14778](https://issuetracker.unity3d.com/issues/il2cpp-build-fails-with-error-c2059-syntax-error-when-faster-smaller-builds-is-selected))
    
*   IL2CPP: Implement the Assembly.Location property. (UUM-15152)
    
*   IL2CPP: Improved error messages for unsupported Process API methods. ([UUM-11147](https://issuetracker.unity3d.com/issues/player-crashes-when-processs-priority-is-set-to-high-and-using-il2cpp-scripting-backend))
    
*   iOS: Fixed unity view behavior when in "split view". ([UUM-9081](https://issuetracker.unity3d.com/issues/ios-players-resolution-changes-when-opening-a-scene-with-a-different-orientation-if-using-split-view))
    
*   Kernel: Fixed AssertOnRecursiveCall with tests. ([UUM-13234](https://issuetracker.unity3d.com/issues/assertonrecursivecall-dot-does-not-works))
    
*   Linux: Fixed CinemachineVirtualCamera Component's body's "ScreenY" and "ScreenX" values move towards 1.5 while pressing and moving the mouse. ([UUM-14611](https://issuetracker.unity3d.com/issues/linux-cinemachinevirtualcamera-components-bodys-screeny-and-screenx-values-move-towards-1-dot-5-while-pressing-and-moving-the-mouse))
    
*   Linux: Fixed crash on Linux inside profiler memory sampling function. ([UUM-11011](https://issuetracker.unity3d.com/issues/linux-memory-leak-in-play-mode-with-profiler-window-open))
    
*   Linux: Fixed diagnostic switches can not be set using command line arguments. (UUM-10269)
    
*   Linux: Fixed right mouse button pasting in packman. ([UUM-2304](https://issuetracker.unity3d.com/issues/linux-package-manager-doesnt-let-paste-text-when-using-right-click-paste))
    
*   Linux: Fixed Scene view Flythrough mode does not work when using a non-lating alphabet based keyboard layout. ([UUM-5302](https://issuetracker.unity3d.com/issues/linux-scene-view-flythrough-mode-doesnt-work-when-using-a-non-latin-alphabet-based-keyboard-layout))
    
*   Linux: Fixed scrolling with the scroll wheel is slower on builds when using the New Input System package on Linux Standalone. ([UUM-12564](https://issuetracker.unity3d.com/issues/linux-scrolling-with-the-scroll-wheel-is-slower-on-builds-when-using-the-new-input-system-package))
    
*   Linux: Fixed second cursor appearing when toggling between hardware and software cursor modes on Standalone player and Play Mode on Editor. ([UUM-1594](https://issuetracker.unity3d.com/issues/linux-second-cursor-appears-in-build-after-setting-cursor-visibility-to-false-and-true-while-using-cursormode-dot-forcesoftware))
    
*   Linux: Updated Simple DirectMedia Layer to 2.0.22. (UUM-6773)
    
*   Mono: Fixed Editor liveness crash when processing RealProxy classes. ([UUM-13031](https://issuetracker.unity3d.com/issues/crash-on-mono-traverse-objects-when-using-appdomain-dot-unload-and-trying-to-load-dll-file))
    
*   Mono: Fixed issue where DeflateStream would swallow exceptions instead of throwing them. ([UUM-17185](https://issuetracker.unity3d.com/issues/decompressing-deflatestream-swallows-exceptions-when-they-are-thrown-by-the-wrapped-stream))
    
*   Particles: Fixed invert culling api when used with Particle Systems. ([UUM-890](https://issuetracker.unity3d.com/issues/particle-system-effects-are-not-flipped-inside-out-when-using-the-gl-dot-invertculling-function))
    
*   Physics: Fixed ArticulationBody SetDriveTargets and SetDriveTargetVelocities methods checking List capacity instead of count and improved the error message. ([UUM-12713](https://issuetracker.unity3d.com/issues/supplied-list-capacity-is-being-checked-instead-of-count-when-calling-articulationbody-dot-setdrivertargets-slash-setdrivetargetvelocities))
    
*   Prefabs: Fixed Rect tool is enabled for root Prefab in Context mode. Now it behaves similar to the other Transform tools. ([UUM-16728](https://issuetracker.unity3d.com/issues/position-rotation-and-scale-of-prefabs-can-be-manipulated-in-context-using-the-rect-transform-tool))
    
*   Profiler: Fixed freeze caused when opening profiler data recorded on Editor versions 2019.4.28f1 and prior. ([UUM-2234](https://issuetracker.unity3d.com/issues/profiler-freezes-when-loading-profiler-data-that-was-saved-in-unity-2019-dot-4-28f1-or-earlier))
    
*   PS4: Fixed the Param File Package Category Setting not being correctly overridden when a custom param file override was set in the Player Settings. (UUM-17357)
    
*   Scripting: ApiUpdater could corrupt sources when updating attributes with parameters.
    
*   Serialization: Avoid crash and log error message when struct assigned to SerializeReference field. ([UUM-661](https://issuetracker.unity3d.com/issues/crash-on-mono-class-is-subclass-of-internal-when-having-iserializationcallbackreceivers-on-a-specific-struct))
    
*   Serialization: Fixed performance regression reading yaml objects containing large number of SerializeReference instances which were created prior to 2021.2. ([UUM-15130](https://issuetracker.unity3d.com/issues/serializereference-content-in-yaml-from-prior-to-2021-dot-2-takes-much-longer-to-load))
    
*   Serialization: Fixed regression where if a mesh was used in VFX and included in an AssetBundle there could be indeterminism in its streaming info offset field. ([UUM-12721](https://issuetracker.unity3d.com/issues/assetbundle-indeterminism-caused-by-mesh-streaming-info))
    
*   Shaders: Fixed a rare crash when opening a project with compute shaders. ([UUM-10259](https://issuetracker.unity3d.com/issues/crash-on-setcurrentmemoryowner-when-opening-the-project))
    
*   Shaders: Fixed an incorrect error when drawing an instanced mesh and async shader compilation was enabled. ([UUM-13174](https://issuetracker.unity3d.com/issues/drawmeshinstanced-does-not-support-dot-dot-dot-error-in-the-console-pops-up-when-the-shader-does-support-instanced-rendering))
    
*   Shaders: Fixed metal code generation for shaders using IBFE opcode. (UUM-2292)
    
*   Shaders: Fixed Shader Variant Collection UI not working correctly with shaders with stage-specific keywords. ([UUM-12220](https://issuetracker.unity3d.com/issues/some-shader-variants-dont-show-up-when-vertex-is-added-to-shader-code))
    
*   Shaders: Material.SetOverrideTag will now warn when trying to override LightMode. ([UUM-11988](https://issuetracker.unity3d.com/issues/material-dot-setoverridetag-setting-lightmode-tag-has-no-effect))
    
*   uGUI: Updated the Raycast Target property at runtime even if started as disabled. ([UUM-2221](https://issuetracker.unity3d.com/issues/backport-animated-image-property-raycast-target-does-not-function-when-disabled-before-entering-play-mode))
    
*   UI Toolkit: Fixed an issue where the dragger of a slider would become visually corrupted after toggling the showMixedValue property. ([UUM-13013](https://issuetracker.unity3d.com/issues/slider-handle-position-is-offset-when-sliders-showmixedvalue-value-is-changed))
    
*   UI Toolkit: Fixed invalid vertex count shown for UIToolkit draw calls in the frame debugger and the game view statistics. ([UUM-2725](https://issuetracker.unity3d.com/issues/uitoolkit-uitoolkit-accumulating-total-extra-vertices-and-draw-calls-when-objects-made-hidden-slash-visible))
    
*   UI Toolkit: Fixed rendering glitch on circles caused by incorrect geometry. (UUM-10297)
    
*   UI Toolkit: Fixed UI Toolkit throwing InvalidOperationExceptions when Input Manager isn't accessible. ([UUM-6611](https://issuetracker.unity3d.com/issues/backport-invalidoperationexception-gets-thrown-in-the-console-when-using-the-new-input-system))
    
*   UI Toolkit: Fixed visual artifact when border width is larger than border radius. (UUM-10298)
    
*   UI Toolkit: Fixed yoga bug when calculating margin in percentage to be relative to parent instead of current item. ([UUM-12999](https://issuetracker.unity3d.com/issues/a-button-gets-expanded-when-its-margins-are-set-in-percentage))
    
*   UI Toolkit: \[UI Builder\] ProgressBar Component is missing a field for setting the current value. ([UUM-496](https://issuetracker.unity3d.com/issues/ui-builder-progressbar-component-is-missing-a-field-for-setting-the-current-value-1))
    
*   Universal RP: Broken setters which could cause infinite loop in URP pipeline asset. ([UUM-18025](https://issuetracker.unity3d.com/issues/multiple-c4717-errors-in-unity-dot-renderpipelines-dot-universal-dot-runtime2-dot-cpp-when-deploying-the-uwp-solution))
    
*   Video: Fixed virtual camera not playing due to DevicePath missing. ([UUM-3367](https://issuetracker.unity3d.com/issues/could-not-find-specified-video-device-error-when-using-webcamtexture-with-obs-virtual-camera))
    
*   Video: VP8 Video Encoder bitrate corrected to use bps instead of kbps. (UUM-12918)
    
*   Video: \[WebGL\] Video Player updates to a previously sought frame when seeking a paused video. ([UUM-11808](https://issuetracker.unity3d.com/issues/webgl-video-player-updates-to-a-previously-sought-frame-when-seeking-a-paused-video))
    
*   Web: Updated UglifyJS from 2.7.5 to 3.17.0. (UUM-6914)
    
*   WebGL: Added warning that WebGL builds with the Linux Editor require glibc 2.27 or later (i.e. Ubuntu 18+). ([UUM-1156](https://issuetracker.unity3d.com/issues/give-error-when-building-webgl-on-centos7))
    
*   WebGL: Use glGetBufferSubData in AsyncGPUReadback Request for WebGL builds. ([UUM-7112](https://issuetracker.unity3d.com/issues/webgl-runtime-error-appeared-when-asyncgpureadback-dot-request-dot-dot-dot-is-called))
    
*   Windows: Fixed IL2CPP runtime compilation failing when building C++ code using Visual Studio 2022 17.4 or newer. ([UUM-17921](https://issuetracker.unity3d.com/issues/il2cpp-windows-builds-fails-when-using-vs-2022-17-dot-4-0-preview))

### Known Issues in 2021.3.13f1

*   Linux: Editor crashes at "DisconnectGtkSignal(void\*, GtkCallbackResponse (_)(), void_)" when opening floating windows ([UUM-11724](https://issuetracker.unity3d.com/issues/linux-editor-crashes-at-burst-signal-handler-when-opening-floating-windows))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Scene Hierarchy: Undo action is not registered when undoing GameObjects list order in the Hierarchy window ([UUM-16576](https://issuetracker.unity3d.com/issues/undo-action-is-not-registered-when-undoing-gameobjects-list-order-in-the-hierarchy-window))
    
*   Shader System: "Assertion failed on expression: 'm\_BuffersToBind\[shaderType\]\[bind\].buffer == NULL'" is thrown when entering the play mode ([UUM-17421](https://issuetracker.unity3d.com/issues/assertion-failed-on-expression-m-bufferstobind-shadertype-bind-dot-buffer-equals-equals-null-is-thrown-when-entering-the-play-mode))
    
*   Universal RP: Shader compilation time is higher in 2021.3 than in 2020.3 ([UUM-17405](https://issuetracker.unity3d.com/issues/shader-compilation-time-is-higher-in-2021-dot-3-than-in-2020-dot-3))
    
*   Web Platform: Project fails with "UnityEditor.BuildPlayerWindow+BuildMethodException" when building for the WebGL platform ([UUM-17658](https://issuetracker.unity3d.com/issues/project-fails-with-unityeditor-dot-buildplayerwindow-plus-buildmethodexception-when-building-for-the-webgl-platform))
    
*   XR SRP: Meta Quest performance loss between URP versions when built ([UUM-15608](https://issuetracker.unity3d.com/issues/meta-quest-performance-loss-between-urp-versions-when-built))
    

### 2021.3.13f1 Release Notes

#### Features

*   Input System: Backport for Windows Gaming Input implementation allowing 5+ xbox controllers at the time.

#### Improvements

*   Graphics: Improved AlphaIsTransparency API docs and tooltip. ([UUM-2364](https://issuetracker.unity3d.com/issues/color-artifacts-in-imported-textures-when-alpha-source-is-set-to-input-texture-alpha))
    
*   Multiplayer: Added Netcode for GameObjects 1.0.2.
    
*   Undo System: The Undo history now records the name of changed properties ("Modified Intensity") instead of just showing "Modified Property".
    

#### API Changes

*   URP: Added: Added public api and updated docs for Light2D shape properties.

#### Changes

*   Universal RP: Messages regarding reducing resolution for additional punctual lights are now only displayed in debug builds. ([UUM-10166](https://issuetracker.unity3d.com/issues/urp-reduced-additional-punctual-light-shadows-resolution-warnings-are-being-thrown-on-playmode-enter-slash-exit-1))
    
*   Version Control: Changed the "Go back to changeset" option in Changesets tab to "Revert to changeset"  
    Improved notification banner appearance.
    
*   XR: The Oculus XR Plugin package has been updated to 3.1.1.
    
*   XR: The Oculus XR Plugin package has been updated to 3.2.1 with support for Quest Pro.
    

#### Fixes

*   2D: Fixed Sprite Editor causes error when editing sprites in playmode. (UUM-12181)
    
*   2D: Updated API docs to reflect the behaviour of setting SpriteRenderer.size property. ([UUM-13795](https://issuetracker.unity3d.com/issues/targetrenderer-dot-size-returns-wrong-value-when-setting-targetrenderer-dot-sprite-to-null))
    
*   AI: Colliders set as trigger are excluded from NavMesh generation. ([UUM-10109](https://issuetracker.unity3d.com/issues/trigger-volumes-are-included-in-nav-mesh-generation-for-navmeshsurface-when-geometry-is-set-to-physics-colliders))
    
*   AI: Patches of the generated NavMesh were sometimes getting the area type from distant objects below due to their connection through a sloped wall. ([UUM-3457](https://issuetracker.unity3d.com/issues/navmesh-modifiers-influence-navmesh-areas-far-above-them-on-asset-edges-when-using-notwalkable-or-water-modifier))
    
*   Android: Fixed crash if Java proxy is invoked at the same time as Unity is quit. (UUM-15968)
    
*   Android: New Input System's Keyboard class will treat DPad Center button clicks as Key.Enter. Since that's hold the old input was treating them. ([UUM-882](https://issuetracker.unity3d.com/issues/backport-input-system-unity-does-not-register-amazon-fire-tv-remotes-d-pad-center-button-press))
    
*   Android: Used fixed instancing batch size on PowerVR GPUs on Android with OpenGL ES to avoid long compile times in shader warmup. ([UUM-739](https://issuetracker.unity3d.com/issues/shader-variants-causes-freeze-on-android-devices-with-powervr-gpu-when-gpu-instancing-is-enabled))
    
*   Asset Import: Fixed out of bounds exception on empty array access when importing SpeedTree billboards with no mesh data. (UUM-8950)
    
*   Audio: Fixed audio mixer groups not visible from the packages. ([UUM-369](https://issuetracker.unity3d.com/issues/audio-mixer-groups-are-not-displayed-in-object-picker-when-located-in-a-package))
    
*   Audio: Made preLoadAudioData a per platform setting instead of a global default setting. ([UUM-362](https://issuetracker.unity3d.com/issues/audioimporter-preload-audio-data-setting-is-showing-up-in-per-platform-settings-but-is-changed-for-every-platform))
    
*   Burst: Alongside update burst packages, burst will now correctly handle projects whose paths contain ;'s. (UUM-8322)
    
*   Editor: Ensure that only the manifest version and patches of that version are tagged as Release in Package Manager. (UUM-8938)
    
*   Editor: Ensured PropertyDatabase doesn't stay lock even if Unity crashes. (UUM-14553)
    
*   Editor: Fixed a case where `OnBecameVisible` could be invoked multiple times without a corresponding `OnBecameInvisible`. ([UUM-12133](https://issuetracker.unity3d.com/issues/duplicate-delegates-are-added-to-editorapplication-dot-update-after-maximizing-then-minimizing-the-game-or-scene-view))
    
*   Editor: Fixed a crash when stop a playable director and evaluating at the same time in a notification output. ([UUM-14640](https://issuetracker.unity3d.com/issues/crash-sigsev-in-playabledirector-dot-stop-nativecode-slash-directormanager-initializeclass))
    
*   Editor: Fixed deadlock scenario in shader compiler. (UUM-14040)
    
*   Editor: Fixed for dragging window across boundaries of multiple monitors. (UUM-8701)
    
*   Editor: Fixed gizmo rendering of a selected area in a Hexagonal Grid with a non-zero Z position.
    
*   Editor: Fixed lost references to AnimationClips when the ModelImporter clips settings are modified for the first time. ([UUM-2203](https://issuetracker.unity3d.com/issues/backport-assetimporter-updating-existing-animationclip-import-setting-results-in-a-new-internalid-and-lost-references-to-the-clip))
    
*   Editor: Fixed Mac Editor crash that happened in multi-scene builds that were using BuildOptions.DetailedBuildReport. ([UUM-1964](https://issuetracker.unity3d.com/issues/android-segmentation-fault-11-error-is-thrown-when-project-is-built-using-batch-mode))
    
*   Editor: Fixed the 'texture scheduled for reimport during Refresh Loop' error when importing SpeedTree assets with color textures. (UUM-9835)
    
*   Editor: Frame Debugger: Fixed an issue where the window would constantly refresh when debugging a remote device. ([UUM-4096](https://issuetracker.unity3d.com/issues/mobile-frame-debugger-constantly-refreshes-when-making-a-ui-update-for-frame-debug-window))
    
*   Editor: Motion blur now works with multiple cameras. (UUM-10155)
    
*   GI: Added proper clamping of Lightmap Streaming Priority in Player Settings window. ([UUM-10016](https://issuetracker.unity3d.com/issues/lightmap-streaming-priority-fields-value-doesnt-change-when-an-unacceptable-value-is-entered))
    
*   GI: Fixed failing assert by relaxing precision requirement in Ray's IsNormalized check. ([UUM-2787](https://issuetracker.unity3d.com/issues/assertion-failed-on-expression-isnormalized-on-guiutility-processevent-when-the-directional-light-is-positioned-particularly))
    
*   Graphics: Fixed ShadowMaps resolving AA when not necessary. (UUM-13371)
    
*   HDRP: Fixed compilation errors (ambiguous call to 'clamp') on ps5 shaders related to Raytracing. (UUM-16232)
    
*   iOS: Fixed orientation handling on startup (when the phone is rotated between starting up and showing unity itself). ([UUM-7461](https://issuetracker.unity3d.com/issues/input-dot-gyro-dot-gravity-inverted-sign-on-x-and-y-axis-depending-on-ios-device-orientation-when-app-starts))
    
*   Linux: Fixed "ExternalProcess::OnExitedMainThread" logged in the Console window when closing Profiler (Standalone Process) window. ([UUM-5888](https://issuetracker.unity3d.com/issues/profiler-linux-rocky-externalprocess-onexitedmainthread-logged-in-the-console-window-when-closing-profiler-standalone-process-window))
    
*   Package Manager: Confusing package type in the inspector must be removed. ([UUM-1837](https://issuetracker.unity3d.com/issues/backport-remove-confusing-message-from-package-inspector-window-this-package-and-all-its-assets-will-be-dot-dot-dot))
    
*   Package Manager: Fixed an issue where .unitypackage dependencies exported from an older editor were not updated when importing in a newer editor. ([UUM-15081](https://issuetracker.unity3d.com/issues/importing-a-unitypackage-does-not-upgrade-its-dependencies-using-the-editor-manifest-based-upgrade-logic))
    
*   Particles: Ensured GetTriggerParticles always returns the correct results. ([UUM-14581](https://issuetracker.unity3d.com/issues/gettriggerparticles-returns-0-every-few-frames-when-getting-a-number-of-particles-inside))
    
*   Physics: Fixed Physics.CapsuleCast extremely rarely finding a false hit against a non-convex mesh. ([UUM-7402](https://issuetracker.unity3d.com/issues/capsulecastall-returns-a-false-hit-in-a-specific-location-of-a-concave-meshcollider-when-use-fast-midphase-is-enabled))
    
*   Prefabs: Handle ManagedReferences that cannot be applied or reverted in Prefab instances. Also make sure the root of the Managed Reference can be applied to apply sub fields that are overriden. ([UUM-5961](https://issuetracker.unity3d.com/issues/managedreferences-on-a-prefab-instance-that-cannot-be-applied-or-reverted-to-the-prefab-asset-needs-to-be-handled))
    
*   Scene/Game View: Fixed `HandleUtility.WorldPointToSizedRect` incorrectly calculating contents rect when applying `TextAnchor`. ([UUM-16503](https://issuetracker.unity3d.com/issues/a-label-changes-its-size-when-changing-the-text-anchor-using-handles-dot-label-function))
    
*   Scene/Game View: Fixed `SceneView` incorrectly subscribing to `EditorApplication.update` multiple times when maximizing and un-maximizing window. ([UUM-12133](https://issuetracker.unity3d.com/issues/duplicate-delegates-are-added-to-editorapplication-dot-update-after-maximizing-then-minimizing-the-game-or-scene-view))
    
*   Scripting: Fixed Scripting Defines Symbols not being shown correctly in the Player Settings for platforms that aren't the default platform (usually the Editor's platform). ([UUM-15556](https://issuetracker.unity3d.com/issues/scripting-define-symbols-list-is-overwritten-on-all-platforms-when-changes-have-not-yet-been-applied-on-one-platform))
    
*   Scripting: When using ObjectFactory.CreateInstance with a custom type deriving directly from UnityEngine.Object, a clearer exception message is thrown. ([UUM-7896](https://issuetracker.unity3d.com/issues/argumentexception-thrown-when-calling-objectfactory-dot-createinstance-with-a-custom-class-inheriting-from-unityengine-dot-object-1))
    
*   SRP Core: Fixed shadow cascade editor. (UUM-12585)
    
*   uGUI: Fixed the NullReferenceException when using Tile image types with a sprite atlas being omitted from build. ([UUM-4340](https://issuetracker.unity3d.com/issues/nullreferenceexception-is-thrown-on-ui-dot-image-dot-generatetiledsprite-when-image-type-is-set-to-tiled))
    
*   uGUI: Fixed various issues with Canvas. ([UUM-15518](https://issuetracker.unity3d.com/issues/canvas-is-still-receiving-input-after-the-canvas-was-disabled))
    
*   UI Toolkit: Fixed a bug in play mode where ScrollView offset would reset to zero when doing drag operations on controls inside it. ([UUM-10441](https://issuetracker.unity3d.com/issues/ui-panel-position-resets-when-sliders-are-scrolled-in-play-mode))
    
*   UI Toolkit: Fixed an issue where a ListView with a single item would not display correctly on different dpi scales. ([UUM-3643](https://issuetracker.unity3d.com/issues/a-listview-containing-a-single-item-does-not-show-the-item))
    
*   UI Toolkit: Fixed an issue where creating a UI Document would re-generate the UXML schema files every time. ([UUM-3985](https://issuetracker.unity3d.com/issues/creating-a-ui-document-takes-too-much-time))
    
*   UI Toolkit: Fixed backspace support on linux. ([UUM-3695](https://issuetracker.unity3d.com/issues/linux-backspace-has-no-effect-on-ui-toolkit-text-fields-when-an-event-system-is-present-in-the-scene))
    
*   UI Toolkit: Fixed UxmlValueBounds setting invalid facet value for undefined bound. ([UUM-5696](https://issuetracker.unity3d.com/issues/xmlschemaexception-error-appears-when-creating-uidocument-in-ui-toolkit-1))
    
*   Universal RP: Fixed a resource leak when switching between scenes with different pipeline assets. (UUM-14239)
    
*   Universal RP: Fixed artifacts on mobile targets by changing some halfs to floats in Normals logic. ([UUM-11325](https://issuetracker.unity3d.com/issues/urp-mobile-precision-related-noise-appears-around-specular-highlights-when-using-android-or-ios-platform))
    
*   Universal RP: Fixed disappearing UI when changing Render Scale. ([UUM-14751](https://issuetracker.unity3d.com/issues/ui-disappears-when-changing-the-render-scale-value))
    
*   Universal RP: Fixed graphics stereo tests.
    
*   URP: Fixed URP Deferred Fog pass does not work in XR singlepass. ([UUM-9229](https://issuetracker.unity3d.com/issues/backport-xr-urp-fog-is-shifted-in-the-right-eye-when-deferred-rendering-path-is-used-with-single-pass-instanced-render-mode))
    
*   URP: Materials that use Autodesk Interactive shader are now converted correctly. ([UUM-5501](https://issuetracker.unity3d.com/issues/urp-render-pipeline-converter-converts-and-assigns-shader-to-internalerrorshader-when-the-shader-is-broken-before-converting-1))
    
*   Version Control: Fixed editor refresh triggering when a workspace update is in progress.  
    Fixed pending changes show global ignored as private.  
    Removed encryption checkbox from create organization dialog.
    
*   WebGL: Added fallback configuration for company name, product name and product version to ensure the web cache is always enabled. (UUM-3944)
    
*   WebGL: Fixed a bug where WebGL would run in low power mode in some browsers. ([UUM-7962](https://issuetracker.unity3d.com/issues/webgl-context-powerpreference-should-default-to-high-performance))
    
*   WebGL: Fixed brotli compressed webgl builds on Mac/Linux editors. (UUM-1145)
    
*   WebGL: Fixed bug where the cursor would transition back to the system cursor rather than the Unity default cursor. ([UUM-1158](https://issuetracker.unity3d.com/issues/in-webgl-player-default-cursor-resets-to-system-default-cursor-when-leaving-ui-document-which-sets-a-custom-cursor))
    
*   WebGL: Fixed bug where the old input system wasn't recognizing stationary touch input. ([UUM-1137](https://issuetracker.unity3d.com/issues/webgl-touchphase-dot-stationary-not-working-on-webgl-build))
    
*   Windows: Fixed cursor position not updated when using pen tablet with Windows Ink enabled. ([UUM-10258](https://issuetracker.unity3d.com/issues/cursor-position-does-not-update-when-using-pen-tablet-with-windows-ink-enabled))
    
*   Windows: Fixed Input.mousePosition not updated when using a tablet. ([UUM-11989](https://issuetracker.unity3d.com/issues/input-dot-mouseposition-does-not-update-when-using-a-tablet-1))
    
*   Windows: Windows player executable no longer contains "Unity playback engine" text in its property sheets. ([UUM-15330](https://issuetracker.unity3d.com/issues/windows-player-exe-contains-unwanted-properties-causing-text-unity-playback-engine-to-appear-in-task-bar-when-mousing-over-it))

### Known Issues in 2021.3.12f1

*   Asset Importers: Textures are not generated when Naming option in Import Settings of an FBX file is changed to "From Model's Material" ([UUM-3640](https://issuetracker.unity3d.com/issues/textures-are-not-generated-when-naming-option-in-import-settings-of-an-fbx-file-is-changed-to-from-models-material-1))
    
*   Linux: Editor crashes at "DisconnectGtkSignal(void\*, GtkCallbackResponse (_)(), void_)" when opening floating windows ([UUM-11724](https://issuetracker.unity3d.com/issues/linux-editor-crashes-at-burst-signal-handler-when-opening-floating-windows))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Optimization: \[Mac\] Editor performance drops on macOS when clicking and dragging on Position, Rotation and Scale values in Transform component ([UUM-7457](https://issuetracker.unity3d.com/issues/mac-editor-performance-drops-on-macos-when-clicking-and-dragging-on-position-rotation-and-scale-values-in-transform-component))
    
*   Progress Window: \[2021.3\]\[MacOS\] Crash when calling "Progress.Pause" from a script ([UUM-14845](https://issuetracker.unity3d.com/issues/2021-dot-3-macos-crash-when-calling-progress-dot-pause-from-a-script))
    
*   Scene Hierarchy: Undo action is not registered when undoing GameObjects list order in the Hierarchy window ([UUM-16576](https://issuetracker.unity3d.com/issues/undo-action-is-not-registered-when-undoing-gameobjects-list-order-in-the-hierarchy-window))
    
*   Universal RP: Shader compilation time is higher in 2021.3 than in 2020.3 ([UUM-17405](https://issuetracker.unity3d.com/issues/shader-compilation-time-is-higher-in-2021-dot-3-than-in-2020-dot-3))
    
*   Web Platform: Project fails with "UnityEditor.BuildPlayerWindow+BuildMethodException" when building for the WebGL platform ([UUM-17658](https://issuetracker.unity3d.com/issues/project-fails-with-unityeditor-dot-buildplayerwindow-plus-buildmethodexception-when-building-for-the-webgl-platform))
    
*   XR SRP: Meta Quest performance loss between URP versions when built ([UUM-15608](https://issuetracker.unity3d.com/issues/meta-quest-performance-loss-between-urp-versions-when-built))
    

### 2021.3.12f1 Release Notes

#### Improvements

*   Animation: Improved animation performance across the board
    
*   Editor: Reduced the time taken to open inspectors by avoiding a pointless copy of a big thing behind the scenes
    
*   Shadergraph: Reduced time taken by code generation when a shader graph asset is imported
    
*   VFX Graph: Reduced time taken by code generation when a VFX asset is imported
    

#### API Changes

*   iOS: Added: Added identifiers for iPhone 14 models.
    
*   Shaders: Added: Added an API to control shader memory usage at runtime. ([UUM-5583](https://issuetracker.unity3d.com/issues/unlit-shader-uses-more-than-100mb-of-memory-when-in-player))
    

#### Changes

*   Editor: Update com.xr.sdk.openxr package version to 1.5.3
    
*   Editor: Updated manifest.json to use com.unity.inputsystem package version 1.4.3
    
*   XR: Updated the verified version of AR Foundation related packages to 4.2.6.
    

#### Fixes

*   2D: Fixed regression where GameObjects are not instantiated by Tiles when the Tilemap is not active. ([UUM-14293](https://issuetracker.unity3d.com/issues/tilemap-dot-settiles-doesnt-work-when-the-gameobject-is-deactivated))
    
*   Android: Fixed exporting the Android Studio project to a non-existing folder using Editor API. ([UUM-1886](https://issuetracker.unity3d.com/issues/backport-buildpipeline-dot-buildplayer-throws-the-build-cannot-be-appended-exception-when-using-acceptexternalmodificationstopla))
    
*   Android: Interaction with PS4 touchpad won't cause navigational movement when using UGUI together with input system package. ([UUM-881](https://issuetracker.unity3d.com/issues/backport-android-ugui-newinputsystem-controller-touchpad-keyboard-is-opened-after-clicking-button-when-using-touchpad))
    
*   Animation: Added back old method signature for backward compatibility. ([UUM-1812](https://issuetracker.unity3d.com/issues/backport-animancer-is-throwing-missingmethodexception-errors-when-entering-play-mode-in-the-animancer-scenes))
    
*   Asset Import: Fixed editor crash when importing a folder with an FBX file where its optimizeBones is set to 0. ([UUM-9463](https://issuetracker.unity3d.com/issues/backport-mac-editor-crashes-when-importing-a-folder-with-an-fbx-file-and-its-meta-file-where-optimizebones-is-set-to-0))
    
*   Asset Import: Fixed import of some meshes with Blend Shape Normals set to Calculate. ([UUM-7867](https://issuetracker.unity3d.com/issues/fbx-model-breaks-when-normals-and-blend-shape-normals-properties-under-model-tab-are-set-to-calculate))
    
*   Audio: Fixed unexpected output from OnAudioFilterRead when the audio source is stopped and the 'spatialize' property is enabled. ([UUM-6318](https://issuetracker.unity3d.com/issues/stopped-audio-souce-outputs-audio-when-the-spatialize-property-is-enabled))
    
*   Build Pipeline: Fixed edge case where isDebugBuild would not revert to true after the build. ([UUM-12064](https://issuetracker.unity3d.com/issues/isdebugbuild-returns-false-in-the-editor-when-its-value-is-checked-after-a-build-1))
    
*   Editor: Add warning log when the size of a Sprite in a Secondary Texture used in a Sprite Atlas does not match its size in the Main Texture. ([UUM-11164](https://issuetracker.unity3d.com/issues/the-normal-map-on-the-tilemap-stops-working-after-pressing-the-play-button))
    
*   Editor: Fixed build process should be quicker to detect scripting backend changes when building to a pre-used folder (1421700). ([UUM-1949](https://issuetracker.unity3d.com/issues/build-doesnt-fail-instantly-when-building-with-a-different-backend-over-an-existing-build))
    
*   Editor: Fixed case where Editor would crash when a selected renderer was deleted. ([UUM-3249](https://issuetracker.unity3d.com/issues/editor-crashes-when-exiting-the-play-mode-while-a-certain-gameobject-is-selected))
    
*   Editor: Fixed crash in standalone profiler during shutdown. ([UUM-13932](https://issuetracker.unity3d.com/issues/standalone-profiler-crash-in-rtlentercriticalsection-on-exit))
    
*   Editor: Fixed crash when opening scenes in builds that had missing Prefab sources. ([UUM-2546](https://issuetracker.unity3d.com/issues/crash-on-build-when-running-the-build-with-missing-prefabs))
    
*   Editor: Fixed dragging prefab with ctrl on linux. ([UUM-1601](https://issuetracker.unity3d.com/issues/linux-ghost-assets-are-left-in-the-scene-while-drag-and-dropping-prefabs-to-scene-while-holding-ctrl-key))
    
*   Editor: Fixed inspector and documentation to reflect intended behavior. ([UUM-2392](https://issuetracker.unity3d.com/issues/urp-greyed-out-culling-mask-option-still-takes-effect-when-light-layers-are-enabled))
    
*   Editor: Fixed light layers when using motion vectors. ([UUM-15125](https://issuetracker.unity3d.com/issues/hdrp-enable-both-light-layers-and-decal-layers-breaks-visual-environment-on-skinned-mesh-renderers))
    
*   Editor: Fixed SceneVisibilityManager exceptions when using shortcuts with no Hierarchy window. ([1425103](https://issuetracker.unity3d.com/issues/nullreferenceexception-is-thrown-when-hiding-a-gameobject-while-the-scene-view-is-maximized))
    
*   Editor: Fixed the "Auto-hide gizmos" preference in the Scene View page to persist value when reopening the editor. ([UUM-7848](https://issuetracker.unity3d.com/issues/auto-hide-gizmos-preference-is-not-saved-when-reopening-the-project))
    
*   Editor: Fixed the persistence of the position of overlays when closing and reopening the editor. ([UUM-9975](https://issuetracker.unity3d.com/issues/the-tools-panel-position-changes-back-to-default-when-reopening-the-project))
    
*   Editor: Prevented exceptions if ShortcutManager cannot read profile id from file. (UUM-9220)
    
*   GI: Fixed an issue where emission color was erroneously reused for different renderers using the same material when they have similar lightmap UVs. ([UUM-2771](https://issuetracker.unity3d.com/issues/color-of-baked-lightmaps-is-incorrect-when-a-material-with-emission-is-present-and-generate-lightmap-uvs-is-enabled))
    
*   Graphics: Added error message for indirect compute buffers incorrectly flagged on DX11. ([UUM-899](https://issuetracker.unity3d.com/issues/backport-unable-to-modify-rwstructuredbuffer-elements-via-indirect-dispatch-of-a-compute-shader-when-using-the-direct3d11-api))
    
*   Graphics: Fixed an issue where TextureImporter.GetAutomaticFormat would return the incorrect format for platforms that had their override turned off. ([UUM-11694](https://issuetracker.unity3d.com/issues/textureimporter-dot-getautomaticformat-doesnt-return-the-correct-format-when-override-for-os-is-turned-off))
    
*   Graphics: Fixed crash when using bad args in CommandBuffer.DrawRenderer. ([HRB-20](https://issuetracker.unity3d.com/issues/backport-crash-when-trying-to-render-a-specific-submesh-with-commandbuffer-dot-drawrenderer))
    
*   Graphics: Fixed issue in which editor would get stuck when importing corrupted FBX models. ([UUM-3981](https://issuetracker.unity3d.com/issues/editor-get-stuck-loading-when-importing-corrupted-fbx-models))
    
*   Graphics: Fixed sporadic freeze in mesh upload. (UUM-4293)
    
*   Graphics: Fixed Vulkan validation error when GFR is disabled. (UUM-9583)
    
*   Graphics: Graphic and Compute Buffer allocations will now allocate less garbage collected memory. ([UUM-4005](https://issuetracker.unity3d.com/issues/backport-graphicsbuffers-constructor-and-other-api-that-returns-graphicsbuffers-allocate-garbage))
    
*   Graphics: Updated libjpeg-turbo to version 2.1.2 to solve security issues with version 1.3.1, used by Texture2D and ImageConversion LoadImage API and ImageConversion EncodeToJPG API. (UUM-4950)
    
*   HDRP: Fixed over exposition in indoor template scenes. ([UUM-11455](https://issuetracker.unity3d.com/issues/hdrp-default-volumetric-clouds-overexpose-indoor-template))
    
*   HDRP: Shaders correctly fallback to error shader. (UUM-1417)
    
*   IL2CPP: Avoid an exception from Buffer.BlockCopy when the destination array is of type sbyte. ([UUM-12875](https://issuetracker.unity3d.com/issues/android-sbyte-type-is-considered-to-be-not-primitive-when-compiling-il2cpp-code))
    
*   IL2CPP: Avoid an intermittent crash in the .NET thread pool implementation when a thread is incorrectly removed from the pool twice. ([UUM-11191](https://issuetracker.unity3d.com/issues/android-il2cpp-system-dot-threading-dot-threadpool-sometimes-causes-player-to-crash-when-queueing-tasks))
    
*   IL2CPP: Corrected the build of a Mac Standalone player with an exported Xcode project when script debugging is enabled. ([UUM-11352](https://issuetracker.unity3d.com/issues/il2cpp-xcode-build-fails-when-building-an-exported-project-with-script-debugging-enabled))
    
*   IL2CPP: Fixed fatal error in Unity CIL Linker with RecognizedReflectionAccessPattern reporting. ([UUM-13281](https://issuetracker.unity3d.com/issues/il2cpp-build-fails-with-fatal-error-in-unity-cil-linker-when-using-unitylinker))
    
*   IL2CPP: Fixed possible crash/corruption when invoking a virtual generic method on a generic type by reflection or when Faster (smaller) builds is enabled. ([UUM-12498](https://issuetracker.unity3d.com/issues/il2cpp-build-crashes-when-symbols-cannot-be-found))
    
*   IL2CPP: Workaround an MSVC C++ compiler optimization bug related the Math.Max implementation for System.Decimal. ([UUM-11487](https://issuetracker.unity3d.com/issues/decimal-function-values-are-incorrect-when-running-the-build-with-il2cpp-scripting-backend))
    
*   iOS: Disabled depth16 support on pre-iOS14 or pre-A9, since depth-bias does not work correctly. (UUM-9562)
    
*   iOS: Stop Touch.rawPosition changing position when touch is dragged. ([UUM-7581](https://issuetracker.unity3d.com/issues/ios-touch-dot-rawposition-changes-position-when-touch-is-dragged))
    
*   Mono: Avoid an editor crash when the debugger code fails to lookup the signature of a method. ([UUM-9219](https://issuetracker.unity3d.com/issues/crash-on-method-commands-internal-when-unity-is-attached-to-visual-studio-and-a-breakpoint-is-set))
    
*   Mono: Avoid exception when registering a window class in different domain instances. ([UUM-13189](https://issuetracker.unity3d.com/issues/crash-on-callwindowprocw-when-opening-windows-form-in-play-mode))
    
*   Mono: Fixed LINQ performance regression on linux by switching to a more efficient stack checking method. ([UUM-11526](https://issuetracker.unity3d.com/issues/linux-c-number-reflection-performance-is-50-to-60-times-slower))
    
*   Networking: UnityWebRequest will not change HEAD to GET on 302 or 303 response. (UUM-7274)
    
*   Networking: Upgraded curl to 7.84.0. (UUM-11134)
    
*   Package Manager: Fixed an issue where having packages with a lot of versions increases domain reload time drastically. ([UUM-12670](https://issuetracker.unity3d.com/issues/memory-usage-increases-when-entering-play-mode-with-the-package-manager-window-open))
    
*   Physics: Fixed ArticulationBody indices not matching when using methods like GetJointPositions and GetDriveTargets. ([UUM-1805](https://issuetracker.unity3d.com/issues/backport-data-indices-dont-match-when-using-articulationbody-getdrivetargets-and-getjointpositions))
    
*   Profiler: Fixed issue on Metal where an error message about texture binding may appear in some situations. ([UUM-907](https://issuetracker.unity3d.com/issues/backport-metal-fragment-shader-missing-texture-binding-at-index-0-warning-produced-on-switching-to-timeline-mode-in-profile))
    
*   Scene Manager: Opening a broken scene with light mapping enabled could crash the editor. ([UUM-9319](https://issuetracker.unity3d.com/issues/scene-causes-editor-crash-when-specific-lighting-data-asset-is-used))
    
*   Scene/Game View: Fixed case where gizmos with bounds near the camera could be incorrectly culled. (UUM-9158)
    
*   Scripting: Fixed an issue where projects with Entities 0.51-preview.32 would fail to load if build target is WebGL
    
*   Serialization: Prevent "Objects are trying to be loaded during a domain backup. This is not allowed as it will lead to undefined behaviour!" from occuring on DomainReload when SerializeReference instance contained a Unity.Object reference to an already unloaded asset. ([UUM-2116](https://issuetracker.unity3d.com/issues/deleting-a-private-material-in-custompass-dot-cleanup-causes-a-objects-are-trying-to-be-loaded-during-a-domain-backup-error-when-domain-reloads))
    
*   Shaders: Exposed Player settings to control shader memory usage at runtime. ([UUM-5583](https://issuetracker.unity3d.com/issues/unlit-shader-uses-more-than-100mb-of-memory-when-in-player))
    
*   UI Toolkit: Fixed an issue where the children of a TwoPaneSplitView would have incorrect sizes when displayed after being hidden. ([UUM-2538](https://issuetracker.unity3d.com/issues/twopanesplitview-pane-resets-to-its-minimum-size-when-hidden-and-shown-again))
    
*   UI Toolkit: Fixed EventSystem error logged in Editor when entering and leaving Play mode if there's a UIDocument in the scene. (UUM-10360)
    
*   UI Toolkit: Fixed for 2021.3.X: \[UI Builder\] @import is stripped from the associated .uss file when saving .uxml. ([UUM-14414](https://issuetracker.unity3d.com/issues/ui-builder-at-import-is-stripped-from-the-associated-uss-file-when-saving-uxml-1))
    
*   Undo System: Fixed Editor crash on GetTransformAccess when undoing GameObject duplication. ([UUM-13617](https://issuetracker.unity3d.com/issues/2021-dot-3-editor-cashes-on-gettransformaccess-when-undoing-duplication-of-a-canvasrenderer-gameobject))
    
*   Undo System: Fixed Undo.PerformUndo causes Editor crash when undoing reparented LineRenderer. (UUM-14123)
    
*   Universal RP: Fixed default URP asset being included in builds when it wasn't supposed to be (when URP asset overrides are available for all target's quality levels). (UUM-8487)
    
*   Universal Windows Platform: Fixed float values stored in player prefs getting corrupted on startup. ([UUM-14671](https://issuetracker.unity3d.com/issues/playerprefs-dot-getfloat-returns-wrong-values-when-used-in-uwp-build))
    
*   URP: Added force depth prepass option when requesting the Depth Texture. (UUM-8273)
    
*   URP: Shaders correctly fallback to error shader. (UUM-1417)
    
*   VFX Graph: Create a new system then convert an operator node to subgraphs fails. (UUM-2272)
    
*   VFX Graph: Fixed flickering when sorting large systems. (UUM-9514)
    
*   Video: Editor crashes when playing a video file with 14 audio tracks in Play mode. ([UUM-861](https://issuetracker.unity3d.com/issues/backport-editor-crashes-when-playing-a-video-file-with-14-audio-tracks-in-play-mode))
    
*   Video: Removed spike on the main thread when changing the video clip. ([UUM-878](https://issuetracker.unity3d.com/issues/backport-android-cpu-spike-occurs-on-videoplayer-dot-destroyplayback-when-stop-is-called-on-the-videoplayer-or-a-clip-is-changed))
    
*   Video: VideoPlayer throws errors when VideoClip loaded from AssetBundle nears the end. ([UUM-1888](https://issuetracker.unity3d.com/issues/backport-videoplayer-throws-errors-when-videoclip-loaded-from-assetbundle-nears-the-end))
    
*   Web: Allow Name Files As Hashes option for Development WebGL builds as well as Non-Development builds. ([UUM-1133](https://issuetracker.unity3d.com/issues/name-files-as-hashes-doesnt-work-when-building-a-development-build-player-on-the-webgl-platform))
    
*   WebGL: Fixed a bug where losing focus on the player would cause buttons to become stuck. ([UUM-3230](https://issuetracker.unity3d.com/issues/input-value-is-constantly-repeated-on-webgl-player-when-changing-focus-of-the-player))
    
*   WebGL: Fixed a bug where pressing the `CMD` key on Safari would cause buttons to become stuck. (UUM-12013)
    
*   WebGL: Fixed changing AudioSource.time while audio source is paused. ([UUM-1157](https://issuetracker.unity3d.com/issues/paused-audiosource-starts-playing-when-adjusting-audiosource-dot-time))
    
*   WebGL: Fixed division by zero error when calling AudioSource.time. ([UUM-2302](https://issuetracker.unity3d.com/issues/webgl-build-crashes-when-calling-audiosource-dot-time))
    
*   WebGL: Fixed immediate playback of scheduled audio source if AudioSource.time is changed. ([UUM-1147](https://issuetracker.unity3d.com/issues/in-webgl-player-audiosource-dot-time-of-an-audio-clip-starts-immediately-when-audiosource-dot-playscheduled-is-used))
    
*   WebGL: Fixed playback of audio clips on timeline. ([UUM-6801](https://issuetracker.unity3d.com/issues/webgl-multiple-audio-clips-not-playing-in-the-same-timeline-when-its-ran-on-webgl-player-1))
    
*   WebGL: Improved shader compilation performance problems on MacOS when GPU instancing is used. ([UUM-6390](https://issuetracker.unity3d.com/issues/backport-instanced-urp-shaders-using-spherical-harmonics-variables-causes-long-initial-mesh-render-time-when-used-in-webgl))

### Known Issues in 2021.3.11f1

*   DirectX11: Unity Editor is rendered without the toolbar icons when using it on old hardware with integrated GPU ([UUM-13134](https://issuetracker.unity3d.com/issues/unity-editor-is-rendered-without-the-toolbar-icons-when-using-it-on-old-hardware-with-integrated-gpu))
    
*   Linux: Editor crashes at "DisconnectGtkSignal(void\*, GtkCallbackResponse (_)(), void_)" when opening floating windows ([UUM-11724](https://issuetracker.unity3d.com/issues/linux-editor-crashes-at-burst-signal-handler-when-opening-floating-windows))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Scene Hierarchy: Undo action is not registered when undoing GameObjects list order in the Hierarchy window ([UUM-16576](https://issuetracker.unity3d.com/issues/undo-action-is-not-registered-when-undoing-gameobjects-list-order-in-the-hierarchy-window))
    
*   Web Platform: Project fails with "UnityEditor.BuildPlayerWindow+BuildMethodException" when building for the WebGL platform ([UUM-17658](https://issuetracker.unity3d.com/issues/project-fails-with-unityeditor-dot-buildplayerwindow-plus-buildmethodexception-when-building-for-the-webgl-platform))
    
*   XR SRP: Meta Quest performance loss between URP versions when built ([UUM-15608](https://issuetracker.unity3d.com/issues/meta-quest-performance-loss-between-urp-versions-when-built))
    

### 2021.3.11f1 Release Notes

#### Improvements

*   2D: \[com.unity.2d.animation\] Added bone weight index validation in SpriteSkin's validate method, to ensure valid data before continuing with deformation.
    
*   2D: \[com.unity.2d.animation\] Updated Toolbar and Visibility tab buttons' selection color.
    
*   2D: \[com.unity.2d.common\] Added support for different sized texture inputs in ImagePacker.
    
*   2D: \[com.unity.2d.psdimporter\] Improved import speed and memory allocation for psd/psb files by reducing the intermediate texture buffers.
    
*   Asset Import: Reduced the time taken by refreshing the asset database, which among other things improves the performance of editing prefabs.
    
*   Asset Pipeline: Do not assert on race when receiving import worker results for a deleted asset. (UUM-12649)
    
*   Core: Added Transform.SetLocalPositionAndRotation(). This allows you to set both the localPosition and localRotation of a transform in a single call, which is more efficient than assigning to localPosition and localRotation separately. (Thank you to @DevDunk on the forum for the request!).
    
*   Multiplayer: Added Unity Netcode for Gamebjects Package 1.0.1.
    
*   Multiplayer: Added Unity Transport Package 1.2.0.
    
*   Scripting: Improved pop-up error messages when attaching scripts to GameObjects. (UUM-2557)
    

#### API Changes

*   Android: Changed: Updated SupportsAccelerometer() API to return whether a device has an accelerometer sensor or not.

#### Changes

*   Editor: Updated manifest.json to use com.unity.inputsystem package version 1.4.2.

#### Fixes

*   2D: Added 2D Triangle default asset to replace missing place holder. (DANB-125)
    
*   2D: Fixed upgrading from 2020.3 might lost Sprite reference. ([DANB-133](https://issuetracker.unity3d.com/issues/importer-textureimporter-generated-inconsistent-result-for-asset-when-importing-assets-from-unity-2020-dot-3))
    
*   Android: Fixed orientation issues in laptop mode and tablet mode on Chromebooks. ([UUM-782](https://issuetracker.unity3d.com/issues/chromeos-pixelbook-can-switch-to-portrait-orientations-which-result-in-vertical-resolution-that-cannot-be-undone))
    
*   Audio: Fixed Audio Clip Import Settings not getting saved when the "Override for Dedicated Server" setting is enabled. ([UUM-399](https://issuetracker.unity3d.com/issues/audio-clip-import-settings-do-not-get-saved-when-the-override-for-dedicated-server-setting-is-enabled))
    
*   Audio: Fixed doc for GamepadSpeakerOutputType to be used exclusively for playstation 4, playstation 5 platforms and editor platforms only. ([UUM-407](https://issuetracker.unity3d.com/issues/error-gamepadspeakeroutputtype-does-not-exist-in-the-namespace-unityengine-occurs-in-the-console-when-building-a-project))
    
*   DX12: Fixed crash that can occur when calling ComputeBuffer.GetData() with non zero computeBufferStartIndex parameter. ([UUM-11444](https://issuetracker.unity3d.com/issues/crash-on-play-when-getdata-attempts-a-partial-read-on-directx12-dx12))
    
*   Editor: Backport Fix \[2021.3\]
    
    *   Android Builds Fail When Windows Regional Format is Set to Thai. (UUM-954)
    
*   Editor: Fixed an API breaking change for the EditorToolAttribute constructor. ([UUM-5792](https://issuetracker.unity3d.com/issues/editortoolattribute-changed-incompatibly))
    
*   Editor: Fixed errors in DebugManager/DebugHandler that could occur after making a build. (UUM-13827)
    
*   Editor: Fixed the selection when the root game object has a SelectionBase component and the child is a prefab. ([UUM-7831](https://issuetracker.unity3d.com/issues/selectionbase-doesnt-work-for-meshes-when-the-mesh-is-from-an-fbx))
    
*   Editor: Game/Scene view window now no longer flickers on resizing when Graphics API is set to OpenGL. ([UUM-1682](https://issuetracker.unity3d.com/issues/backport-windows-game-slash-scene-view-window-is-flickering-on-resizing-when-graphics-apis-set-to-openglcore-slash-opengles2-slash-opengles3))
    
*   Editor: OpenGLES target missing in generated VFX shader. ([UUM-11347](https://issuetracker.unity3d.com/issues/vfx-graph-does-not-render-when-using-android-platform-with-only-opengles3-api-available))
    
*   GI: Fixed a case where scene objects would lose their lighting data when they are packed into or unpacked from a prefab, and playmode is entered without first saving the scene. (UUM-11182)
    
*   GI: Fixed baking stall occuring when baking terrain with holes. ([UUM-950](https://issuetracker.unity3d.com/issues/backport-plm-baking-stalls-with-terrains-containing-lots-of-holes))
    
*   Graphics: Fixed an issue where creating SparseTextures with certain TextureFormats could crash Unity, even though the equivalent GraphicsFormat is marked as unsupported for SparseTextures. (UUM-7671)
    
*   Graphics: Fixed an issue where SystemInfo.IsFormatSupported((My GraphicsFormat), FormatUsage.Sparse) would always return false on Metal, even if the requested GraphicsFormat actually is supported. (UUM-7671)
    
*   Graphics: Fixed an issue where the D3D11 WARP driver would crash when creating a SparseTexture with the BC1/BC4 GraphicsFormats. (UUM-7664)
    
*   Graphics: Fixed an issue where using TextureFormat.YUY2 / GraphicsFormat.YUV2 with a SparseTexture would crash on Metal. (if sparse textures are supported). (UUM-7671)
    
*   HDRP: Clamp negative absorption distance. (UUM-6746)
    
*   HDRP: Clarify the error message saying the HDRP is not supported on a certain platform. ([UUM-7419](https://issuetracker.unity3d.com/issues/hdrp-unclear-error-is-printed-when-switched-to-unsupported-platform))
    
*   HDRP: Clear custom pass color and depth buffers when the fullscreen debug modes are enabled. (UUM-8397)
    
*   HDRP: Fixed a null ref exception when destroying a used decal material. ([UUM-4353](https://issuetracker.unity3d.com/issues/hdrp-deleting-a-decal-material-that-is-currently-in-use-crashes-the-render-loop))
    
*   HDRP: Fixed bad undo behaviour with light layers and shadows. ([UUM-5701](https://issuetracker.unity3d.com/issues/light-layer-undo-doesnt-work-for-shadows))
    
*   HDRP: Fixed broken denoiser for ray traced shadows in HDRP. ([UUM-2140](https://issuetracker.unity3d.com/issues/hdrp-dxr-temporal-denoising-is-broken-up-to-2021-dot-3-in-punctuals-raytraced-shadows))
    
*   HDRP: Fixed color grading issue when multiple cameras have same volume properties but different frame settings. (UUM-3314)
    
*   HDRP: Fixed custom pass UI not refreshed when changing the injection point. (UUM-8410)
    
*   HDRP: Fixed Depth Of Field compute shader warnings on metal. (UUM-7783)
    
*   HDRP: Fixed discrepency in the fog in RT reflections and RTGI between perf and quality. (UUM-7434)
    
*   HDRP: Fixed history transform management not being properly handeled for ray traced area shadows. ([UUM-2150](https://issuetracker.unity3d.com/issues/hdrp-dxr-rt-shadows-ghosts-on-one-view-when-we-have-two-cameras-at-the-same-time))
    
*   HDRP: Fixed scalarization not scalarizing properly. (UUM-6360)
    
*   HDRP: Fixed shadow dimmer not affecting screen space shadows. (UUM-6512)
    
*   HDRP: Fixed SpeedTree importer when shader has no diffusion profile. (UUM-1875)
    
*   HDRP: Fixed tessellation in XR. ([UUM-3338](https://issuetracker.unity3d.com/issues/xr-sdk-hdrp-tessellation-shader-is-applied-per-eye))
    
*   HDRP: Fixed the material rendering pass not correctly changed with multi-selection. (UUM-2236)
    
*   HDRP: Fixed the new ray tracing quality nodes not working.
    
*   HDRP: Fixed the ray traced ambient occlusion not rejecting the history when it should leading to severe ghosting. (UUM-3225)
    
*   HDRP: Fixed tonemapping not being applied when using the Show Cascades debug view. ([UUM-3942](https://issuetracker.unity3d.com/issues/hdrp-tonemapping-not-applied-when-switching-scenes-with-show-cascades-enabled))
    
*   HDRP: Fixed upperHemisphereLuxValue when changing HDRI Sky. ([UUM-3326](https://issuetracker.unity3d.com/issues/hdrp-upperhemisphereluxvalue-always-return-1-despite-which-hdri-texture-is-set-and-whats-displayed-in-the-inspector))
    
*   HDRP: Fixed volumetric clouds fog history issue that leads to severe ghosting. (UUM-4801)
    
*   HDRP: Initialize DLSS at loading of HDRP asset. Previously intialization was too late (ad HDRP pipeline constructor). Moved initialization to OnEnable of SRP asset. ([UUM-5928](https://issuetracker.unity3d.com/issues/hdrp-dlssdetected-doesnt-return-correct-value-when-app-starts))
    
*   HDRP: Removed "Sprite Mask" from scene view draw modes as it is not supported by HDRP. ([UUM-3320](https://issuetracker.unity3d.com/issues/hdrp-sprite-mask-shading-mode-in-the-scene-view-shows-up-as-missing-shader-for-shader-graphs))
    
*   HDRP: RTHandle sampling out of bounds on previous frame pyramid color. This causes sometimes bad pixel values to be reflected. ([UUM-2331](https://issuetracker.unity3d.com/issues/use-optimal-settings-for-dlss-in-combination-with-smoothness-settings-for-screen-space-reflections-causes-white-flickering))
    
*   IL2CPP: Avoided a crash in the IL2CPP runtime when the GUID property of a type is obtained for a type with a StructLayout attribute but without a Guid attribute. ([UUM-10859](https://issuetracker.unity3d.com/issues/crash-on-il2cpp-icalls-mscorlib-system-runtimetype-getguid-when-building-and-running-a-project-using-il2cpp-scripting-backend))
    
*   IL2CPP: Avoided a crash when using GetFiles multiple times for directories with many files on iOS.. ([UUM-8885](https://issuetracker.unity3d.com/issues/ios-crash-when-calling-directory-dot-getfiles-twice))
    
*   IL2CPP: Avoided an intermittent crash on shutdown when many threads are waiting on a Monitor object inside for a C# lock statement. ([UUM-10374](https://issuetracker.unity3d.com/issues/crash-in-getmonitorandthrowifnotlockedbycurrentthread-when-running-the-project-repeatedly-and-using-il2cpp))
    
*   Kernel: Race condition in DualThreadAllocator when using BatchDelete. (UUM-5941)
    
*   Linux: Enabled and fixed a failed integration test on linux. (UUM-1593)
    
*   Linux: Fixed Server runtime not responding to SIGTERM and other signals. ([UUM-1582](https://issuetracker.unity3d.com/issues/unity-server-run-time-does-not-respond-to-sigterm-and-other-linux-signals-correctly))
    
*   Mono: Updated the machine config file for Android Player builds. ([UUM-12561](https://issuetracker.unity3d.com/issues/android-webrequest-dot-create-cause-an-exception-when-mono-is-used))
    
*   Package Manager: Fixed a regression where packages would fail to resolve with a ENOENT mkdir error when the project path or global cache path contained quotes. ([UUM-13252](https://issuetracker.unity3d.com/issues/package-manager-enoent-no-such-file-or-directory-mkdir))
    
*   Package Manager: HTML text cleaned up in details view. ([UUM-7701](https://issuetracker.unity3d.com/issues/package-manager-release-details-of-assets-include-html-tags))
    
*   Profiler: Fixed failures in opening local documentation files from Editor on macOS. ([UUM-6164](https://issuetracker.unity3d.com/issues/application-cannot-be-opened-error-on-pressng-help-icon-in-profiler-window))
    
*   Profiler: Fixed issue where autoconnecting to/disconnecting from profiling tools could cause a crash. ([UUM-876](https://issuetracker.unity3d.com/issues/backport-ios-crash-when-launching-build-with-autoconnect-profiler-enabled-with-the-profiler-window-closed))
    
*   Scripting: Fixed an issue where adding a component declared in a nested class could end up adding the wrong component type. ([UUM-9221](https://issuetracker.unity3d.com/issues/the-wrong-component-slash-class-gets-added-when-adding-a-nested-class-via-script-that-has-a-duplicate-class-elsewhere))
    
*   Scripting: Fixed case when trying to serialize generics with generic fields of types from different assemblies. ([UUM-8844](https://issuetracker.unity3d.com/issues/exception-for-unresolved-inflated-type-arguments))
    
*   Shadergraph: Fixed a compilation bug in BiRP Target in some variants with lightmaps. (UUM-7354)
    
*   Shaders: Fixed "State comes from an incompatible keyword space" assertion firing sometimes when building asset bundles. (UUM-11958)
    
*   Shaders: Fixed a bug with SHADER\_AVAILABLED\_XXX macros not being defined in compute shaders. (UUM-9751)
    
*   UI Elements: Fixed min max slider behaving abnormally when using larger thumb styling. ([UUM-5017](https://issuetracker.unity3d.com/issues/ui-toolkits-slider-behaves-abnormally-with-unity-default-runtime-theme))
    
*   UI Toolkit: Fixed bug where prefabs dragged to the Scene window aren't properly canceled if the drag ends on top of an overlay window. ([UUM-10082](https://issuetracker.unity3d.com/issues/prefabs-appear-in-the-scene-window-without-being-created-in-the-hierarchy-when-drag-and-dropping-over-the-latest-overlays-design))
    
*   UI Toolkit: InspectorElement layout is broken if parent container flex direction is set to row. (UUM-8431)
    
*   Universal RP: Fixed decal msaa error then camera is selected in deferred rendering path. (UUM-13666)
    
*   Universal RP: Fixed decal screen space to work without intermediate texture and DBuffer to force using intermediate texture. (UUM-13682)
    
*   Universal RP: Fixed decals correctly handle last batch. (UUM-13660)
    
*   Universal RP: Fixed decals to pass correct viewDirectionWS to screen space and gbuffer lighting.
    
*   Universal RP: Fixed decals to produce correct world to tangent matrix. (UUM-13674)
    
*   Universal RP: Fixed instacing error when decals loaded, but not the decal shaders.
    
*   Universal RP: Fixed render scale correctly work with screen size property. This includes decals. (UUM-13667)
    
*   Universal RP: Universal RP: Fixed excessive banding from FSR in URP. (UUM-9558)
    
*   URP: Fixed Gizmos in Game View when using Viewports (UUM-7069).
    
*   VFX Graph: Fixed position where VFX are created when VFX asset is dragged to Scene View. (UUM-4749)
    
*   VFX Graph: Removed incompatible target generating shader targetting VFX. ([UUM-8476](https://issuetracker.unity3d.com/issues/backport-windows-flexiblefire-shader-graph-throws-an-error-when-attempting-to-build-the-project))
    
*   VFX Graph: Stop rendering VFX shadows when VFX are disabled in Scene View visibility menu. (UUM-4752)
    
*   Virtual Texturing: Added a notice regarding the experimental state of Virtual Texturing to the Player Settings editor.
    
*   Virtual Texturing: Added a warning for Procedural Virtual Texturing clarifying that the feature is not currently supported.
    
*   Virtual Texturing: The experimental state of Streaming Virtual Texturing and Procedural Virtual Texturing was not clearly indicated in the API docs and Manual, this has been corrected. For clarity, these features should not be used in production.
    
*   WebGL: This PR fixes a regression in 3D audio effects. The audio listener orientation was not set correctly. ([UUM-1165](https://issuetracker.unity3d.com/issues/on-webgl-player-spatial-audio-3d-sound-settings-does-not-change-direction-from-where-the-sound-is-played))
    
*   Windows: Fixed mouse buttons do not get switched when the primary mouse button is changed. ([UUM-3959](https://issuetracker.unity3d.com/issues/input-system-windows-mouse-buttons-do-not-get-switched-when-the-primary-mouse-button-is-changed))

### Known Issues in 2021.3.10f1

*   Profiler: Standalone Profiler Crash in RtlEnterCriticalSection on exit (UUM-13932)  
    _First seen in 2022.2.0b8._
    
*   AI Navigation Core: NavMesh::Raycast freezes the whole editor in an infinite loop on Application.UpdateScene ([UUM-2496](https://issuetracker.unity3d.com/issues/navmesh-raycast-freezes-the-whole-editor-in-an-infinite-loop-on-application-dot-updatescene))
    
*   Asset Bundles: AssetBundle indeterminism caused by mesh streaming info ([UUM-12721](https://issuetracker.unity3d.com/issues/assetbundle-indeterminism-caused-by-mesh-streaming-info))
    
*   Graphics Device Features: \[Graphics\] Crash when submitting depth with no MSAA ([UUM-13249](https://issuetracker.unity3d.com/issues/graphics-crash-when-submitting-depth-with-no-msaa))
    
*   Kernel: \[2021.3\] Editor crashes on GetTransformAccess when undoing GameObject duplication ([UUM-13617](https://issuetracker.unity3d.com/issues/2021-dot-3-editor-cashes-on-gettransformaccess-when-undoing-duplication-of-a-canvasrenderer-gameobject))
    
*   Linux: \[Backport\] \[Linux\] Editor crashes at "GfxDeviceGLES::DrawBuffersBatchMode" when entering Play Mode in the LEGO tutorial ([UUM-971](https://issuetracker.unity3d.com/issues/backport-linux-editor-crashes-at-gfxdevicegles-drawbuffersbatchmode-when-entering-play-mode-in-the-lego-tutorial))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   MacOS: \[Mac\] Editor performance drops on macOS when clicking and dragging on Position, Rotation and Scale values in Transform component ([UUM-7457](https://issuetracker.unity3d.com/issues/mac-editor-performance-drops-on-macos-when-clicking-and-dragging-on-position-rotation-and-scale-values-in-transform-component))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Scene Management: Crash when accessing transform component after calling Resources.UnloadUnusedAssets() ([UUM-11111](https://issuetracker.unity3d.com/issues/crash-when-accessing-transform-component-after-calling-resources-dot-unloadunusedassets))
    
*   Shader System: Shader variant build preparation does not scale ([UUM-3711](https://issuetracker.unity3d.com/issues/shader-variant-build-preparation-does-not-scale))
    
*   Vulkan: \[Android\]\[Vulkan\] Android GPU Inspector crashes with "Failed to profile the replay. Cause: Replay crash" when using Vulkan Graphics API ([UUM-13433](https://issuetracker.unity3d.com/issues/android-vulkan-android-gpu-inspector-crashes-with-failed-to-profile-the-replay-cause-replay-crash-when-using-vulkan-graphics-api))
    

### 2021.3.10f1 Release Notes

#### Features

*   Editor: Added com.unity.services.mediation@1.0.4.

#### Improvements

*   Documentation: Added a summary and code example for IJobParallelForTransform.

#### API Changes

*   Graphics: Added: Expose Texture2D.ignoreMipmapLimit property to ignore QualitySettings.masterTextureLimit.

#### Changes

*   2D: Added dialog box to the Skinning Editor when entering Play Mode to allow saving unsaved changes.
    
*   2D: Refactored internal triangulation and tessellation APIs.
    

#### Fixes

*   2D: Creating a new vertex or an edge outside of the main geometry is now handled correctly. (1398541)
    
*   2D: Fixed editor crash when calling SpriteAtlasUtility.PackAtlases. ([UUM-6965](https://issuetracker.unity3d.com/issues/backport-sprite-atlas-v1-editor-crashes-when-calling-spriteatlasutility-dot-packatlases))
    
*   2D: Fixed the isolate behavior in the Sprite tab in the Visibility panel. (DANB-67)
    
*   2D: When a recursive depth from instantiating GameObjects using a Tilemap Tile reaches a threshold, an error message is logged and the recursive loop is stopped in the Editor or in Development Players. ([UUM-8380](https://issuetracker.unity3d.com/issues/editor-crashes-when-painting-tiles-using-the-tilemap-editor))
    
*   2D: When modifying Sprite Library's Category name after user presses apply, the changes to the name are saved. (DANB-6)
    
*   Android: Added mono audio output support. ([UUM-9205](https://issuetracker.unity3d.com/issues/setting-audiospeakermode-dot-mono-has-no-effect-on-android-devices))
    
*   Android: Fixed a possible crash on many PowerVR based devices. ([UUM-7782](https://issuetracker.unity3d.com/issues/android-urp-project-crashes-when-built-on-a-device-with-powervr-rogue-ge8320-gpu))
    
*   Asset Pipeline: Asset preview thumbnails in the Editor's project window would sometimes be missing reflection probe lighting, this has been fixed and re-baking reflection probes (after making some change, such as to the material) will update thumbnails. ([UUM-1820](https://issuetracker.unity3d.com/issues/mesh-is-untextured-in-the-project-browser))
    
*   Asset Pipeline: Fixed 'learn more' online documentation links for asset import workers and Unity Accelerator in the editor UI, so they target the currently loaded version of Unity. ([UUM-12248](https://issuetracker.unity3d.com/issues/backport-four-learn-more-links-direct-to-default-2020-dot-3-manual-version-instead-of-using-current-editor-version))
    
*   Asset Pipeline: Fixed an issue where assets with dots in the filename (other than the extension) could incorrectly invoke a warning about mismatched main object names. (UUM-3986)
    
*   Asset Pipeline: Fixed an issue where the asset database might fail to detect that custom postprocessing of assets had produced an infinite loop during project import. ([UUM-867](https://issuetracker.unity3d.com/issues/backport-infinite-loop-not-detected-when-importing-shadergraph-assets))
    
*   Audio: Fixed AudioClipPlayable.IsDone is false when AudioClipPlayable.Seek is used to reset the time. ([UUM-398](https://issuetracker.unity3d.com/issues/audioclipplayable-dot-isdone-is-false-when-audioclipplayable-dot-seek-is-used-to-reset-the-time))
    
*   Editor: Fixed a deadlock in Accelerator upload while using '-quit'. ([UUM-3184](https://issuetracker.unity3d.com/issues/cache-server-editor-crashes-when-disabling-cacheserver-during-ongoing-upload))
    
*   Editor: Fixed an issue with too many open files when downloading from Accelerator. (UUM-4330)
    
*   Editor: Fixed crash when OnDemand scheduler tries to upload previews without accelerator connection. ([UUM-5544](https://issuetracker.unity3d.com/issues/crash-on-tcpprotobufclient-endbatch-when-creating-a-prefab-and-cache-server-is-disconnected))
    
*   Editor: Fixed package manager dropdown position sometimes is not fixed below it. Fix some GUIDepth errors. (UUM-11291)
    
*   Editor: Installing Linux mono and IL2CPP support on mac will no longer keep only the most recently installed of the two. ([UUM-1696](https://issuetracker.unity3d.com/issues/backport-macos-targetsupport-installers-for-linux-overwrite-their-content))
    
*   Editor: Timestamp for boot.config in user project is now only updated when changed. ([UUM-2342](https://issuetracker.unity3d.com/issues/boot-dot-config-files-date-modified-timestamp-is-being-changed-every-time-unity-starts))
    
*   GI: Fixed an issue where environment lighting is missing from player builds when the scene hasn't been baked. ([UUM-2743](https://issuetracker.unity3d.com/issues/scene-is-brighter-in-standalone-player-if-it-was-open-in-the-editor-at-build-time-1))
    
*   GI: Fixed APV Partial Baking when using GPU Lightmapper. (UUM-885)
    
*   GI: Fixed denoising issues with OIDN and OptiX denoisers on GPULM when using different values for direct lighting sample count and indirect lighting sample count. ([UUM-2158](https://issuetracker.unity3d.com/issues/backport-gpu-plm-denoising-artifacts-after-baking-gi-with-certain-lighting-settings-and-denoising-enabled))
    
*   GI: Fixed for prefab assets showing in Light Explorer when Show Inactive Objects is checked. ([UUM-835](https://issuetracker.unity3d.com/issues/backport-prefabs-with-light-component-are-listed-in-the-light-explorer-when-the-show-inactive-objects-property-is-checked))
    
*   Graphics: Fixed crash in Vulkan Editor on Windows when using XR Mock HMD. ([UUM-6726](https://issuetracker.unity3d.com/issues/xr-vulkan-crash-on-vkresetfences-when-entering-play-mode))
    
*   iOS: Disabled capitalization, autocorrection and others when soft keyboard is secure and input is hidden. ([UUM-5974](https://issuetracker.unity3d.com/issues/shift-is-pressed-in-the-keyboard-when-textmeshpro-input-field-content-type-is-password-and-hide-mobile-input-is-checked))
    
*   Networking: Fixed a texture leak when UnityWebRequest is used with DownloadHandlerTexture and a texture is never queried. ([UUM-953](https://issuetracker.unity3d.com/issues/backport-unitywebrequest-interrupted-before-completion-causes-memory-leak))
    
*   Particles: Skip draw call for gpu instanced mesh particle trails if using same material as particles. (UUM-7071)
    
*   Project Browser: Fixed context menu does not appear when holding Ctrl and pressing left mouse button in the Project window on Mac. (UUM-5191)
    
*   Scripting: Increased performance by not casting Mathf.Abs to float when passing a float value. ([UUM-1821](https://issuetracker.unity3d.com/issues/backport-unnecessary-cast-to-float-when-calling-mathf-dot-abs))
    
*   Serialization: Properly track managed-only classes so they are not stripped by the il2cpp linker. ([UUM-4103](https://issuetracker.unity3d.com/issues/backport-ui-toolkit-il2cpp-ui-is-not-visible-when-in-built-player-and-serialization-errors-are-thrown))
    
*   Shaders: Fixed a crash when calling GetShaderKeywords on a user-constructed ShaderKeywordSet. ([UUM-2536](https://issuetracker.unity3d.com/issues/editor-crashes-when-building-if-calling-shaderkeyword-methods-in-ipreprocessshaders-classes))
    
*   UI: Unity Game Services projects no longer creates a dropdown when the project names contains a slash in the Editor Project Linking UI.
    
*   UI Toolkit: Fixed warning caused by unprocessed focus events sometimes happening when detaching a UIDocument containing a focused element from its parent panel. ([UUM-1296](https://issuetracker.unity3d.com/issues/backport-focuscontroller-has-unprocessed-focus-events-warnings-are-thrown-when-deactivating-a-uidocument-during-an-event-cal))
    
*   Video: A "Can't play movie" error is now thrown when setting VideoPlayer.url to an invalid url through a script. ([UUM-11380](https://issuetracker.unity3d.com/issues/backport-cant-play-movie-error-is-thrown-when-setting-videoplayer-dot-url-to-an-invalid-url-through-a-script))
    
*   Windows: Fixed an issue so that the UnityPlayer.dll properties sheet is now more complete. ([UUM-10370](https://issuetracker.unity3d.com/issues/unityplayer-dot-dll-properties-for-windows-standalone-player-are-incomplete-compared-to-uwp))
    
*   Windows: Fixed incorrect scan codes that are exposed through KeyControl.scanCode of New Input System. (UUM-9029)

### Known Issues in 2021.3.9f1

*   AI Navigation Core: NavMesh::Raycast freezes the whole editor in an infinite loop on Application.UpdateScene ([UUM-2496](https://issuetracker.unity3d.com/issues/navmesh-raycast-freezes-the-whole-editor-in-an-infinite-loop-on-application-dot-updatescene))
    
*   Linux: Editor crashes at "DisconnectGtkSignal(void\*, GtkCallbackResponse (_)(), void_)" when opening floating windows ([UUM-11724](https://issuetracker.unity3d.com/issues/linux-editor-crashes-at-burst-signal-handler-when-opening-floating-windows))
    
*   Linux: Editor crashes at "GfxDeviceGLES::DrawBuffersBatchMode" when entering Play Mode in the LEGO tutorial ([UUM-971](https://issuetracker.unity3d.com/issues/backport-linux-editor-crashes-at-gfxdevicegles-drawbuffersbatchmode-when-entering-play-mode-in-the-lego-tutorial))
    
*   MacOS: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project ([UUM-3207](https://issuetracker.unity3d.com/issues/m1-crash-on-system-dot-object-icall-wrapper-ves-icall-array-new-specific-when-launching-a-project))
    
*   MacOS: Editor performance drops when clicking and dragging on Position, Rotation and Scale values in Transform component ([UUM-7457](https://issuetracker.unity3d.com/issues/mac-editor-performance-drops-on-macos-when-clicking-and-dragging-on-position-rotation-and-scale-values-in-transform-component))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Mono: \[Linux\] C# Reflection performance is 50 to 60 times slower ([UUM-11526](https://issuetracker.unity3d.com/issues/linux-c-number-reflection-performance-is-50-to-60-times-slower))
    
*   Scene Management: Scene causes Editor crash when specific Lighting Data Asset is used ([UUM-9319](https://issuetracker.unity3d.com/issues/scene-causes-editor-crash-when-specific-lighting-data-asset-is-used))
    
*   Scripting: Crash when accessing transform component after calling Resources.UnloadUnusedAssets() ([UUM-11111](https://issuetracker.unity3d.com/issues/crash-when-accessing-transform-component-after-calling-resources-dot-unloadunusedassets))
    
*   Shader System: Shader variant build preparation does not scale ([UUM-3711](https://issuetracker.unity3d.com/issues/shader-variant-build-preparation-does-not-scale))
    

### 2021.3.9f1 Release Notes

#### Features

*   Editor: Added editor analytics event tracking for "Refresh access" and "New link..." button click.
    
*   Version Control: Added notification banner on the status bar for live updates.
    

#### Improvements

*   Mono: Added support for direct ETW profiler integration on Windows Desktop for managed code, with no plugin required.

#### Changes

*   Version Control: Renamed "Invite members to workspace" option to "Invite members to organization".

#### Fixes

*   Android: Fixed an Android audio crash when targeting API Level 31 and running on an Android 12 device. Also fixed an AudioManager.GetStreamVolume exception when targeting API Level 29 or later, which caused the AudioSettings.Mobile.stopAudioOutputOnMute feature to not work correctly, if enabled. ([UUM-5652](https://issuetracker.unity3d.com/issues/android-resume-causes-getaudiostreamvolume-jni-exception))
    
*   Android: Fixed bug when building with IL2CPP and scaler types getting stripped out.
    
*   Android: Fixed bug with manual lifetime tests failing occasionally.
    
*   Android: Fixed bug with scaler not being initialized with settings from the Editor UI properly when using profiles.
    
*   Android: Fixed bug with test provider and settings showing up in Project Settings.
    
*   Android: Toggling Build App Bundle in the Build Player Window will now prompt for a save location rather than attempting to use the last build location which would have been the incorrect type of package. ([UUM-1692](https://issuetracker.unity3d.com/issues/backport-android-building-app-using-ctrl-plus-b-shortcut-uses-the-last-used-configuration-instead-of-the-current-one))
    
*   Asset Bundles: Fixed memarchive0 error when entering play mode. ([UUM-493](https://issuetracker.unity3d.com/issues/unable-to-read-header-from-archive-file-memarchive0-error-thrown-in-the-console-window-when-entering-the-play-mode))
    
*   Asset Pipeline: The option to 'Recompile after finished playing\` did not work and has been removed. To support the intended functionallity a new option to only auto refresh outside playmode has been added. ([UUM-818](https://issuetracker.unity3d.com/issues/backport-a-false-pop-up-appears-when-modifying-a-script-and-having-recompile-after-finished-playing-set))
    
*   Build Pipeline: Fixed a bug where the player data cache would not distinguish between server builds and normal standalone players, which could cause the wrong data ending up in players.
    
*   Build Pipeline: Fixed PlayerBuildInterface.ExtraTypesProvider API not working.
    
*   Editor: Added the option to set something as the first child of the root. ([UUM-955](https://issuetracker.unity3d.com/issues/backport-a-prefabs-child-gameobject-cant-be-dropped-to-the-top-position-in-prefab-mode-when-a-long-blue-separator-appears))
    
*   Editor: Fixed an issue preventing the resize the Inspector window when docked near another window. ([UUM-1956](https://issuetracker.unity3d.com/issues/backport-editorwindow-cant-be-resized-when-docked-near-another-window-and-wantsmouseenterleavewindow-is-set-to-true))
    
*   Editor: Fixed an issue where certain properties could not be excluded in the TextureImporterInspector. ([UUM-3787](https://issuetracker.unity3d.com/issues/preset-some-properties-cannot-be-excluded-from-texture-importer-preset-through-the-inspector-window))
    
*   Editor: Fixed an issue with the 'Fix' button for vertex stream in particle shaders. (UUM-11695)
    
*   Editor: Fixed drag and drop in between blue line indicators in inspector does not always work on linux. ([UUM-1568](https://issuetracker.unity3d.com/issues/linux-dragging-script-to-inspector-doesnt-trigger-the-blue-indicator-when-dropping-between-components))
    
*   Game Core: Fixed web requests getting stuck when aborting them. (UUM-874)
    
*   HDRP: Added async compute support doc. (UUM-6183)
    
*   HDRP: Added missing using statements in one of the example scripts in the documentation for the accumulation API. (UUM-3224)
    
*   HDRP: Disabled Volumetric Clouds for Default Sky Volumes. (UUM-6185)
    
*   HDRP: Fixed a discrepancy between recursive rendering and path tracing for refraction models. ([UUM-6179](https://issuetracker.unity3d.com/issues/hdrp-recursive-rendering-refraction-is-very-different-compared-to-rasterization-slash-pathtracing))
    
*   HDRP: Fixed a render graph error when rendering a scene with no opaque objects in forward. ([UUM-6189](https://issuetracker.unity3d.com/issues/transparent-custom-pass-renders-opaque-with-msaa-disabled-in-player))
    
*   HDRP: Fixed a rounding issue in ray traced reflections at half resolution. (UUM-6177)
    
*   HDRP: Fixed an issue with DOTS and Look Dev tool causing entities in the tool to be drawn in the game view. ([UUM-6188](https://issuetracker.unity3d.com/issues/prefabs-using-hybrid-convert-to-entity-component-are-visible-in-the-game-view-if-used-in-hdrp-look-dev-when-entering-play-mode))
    
*   HDRP: Fixed an issue with the ray traced screen space shadows slots/indices. ([1424996](https://issuetracker.unity3d.com/issues/hdrp-incorrectly-allocated-slots-for-screen-space-shadows))
    
*   HDRP: Fixed an issue with up direction of the light anchor tool being wrong on occasion. ([UUM-6190](https://issuetracker.unity3d.com/issues/hdrp-switching-back-and-forth-the-up-direction-f-the-light-anchor-when-the-elevation-is-a-multiple-of-90-looses-the-settings))
    
*   HDRP: Fixed artifacts on PBR DOF camera cuts such as the COC sticking around with blurry values. (UUM-6187)
    
*   HDRP: Fixed artifacts on quarter and half res depth of field when dynamic resolution jumps between resolutions. (UUM-6184)
    
*   HDRP: Fixed blinking Ray traced reflection with dynamic resolution. (UUM-6180)
    
*   HDRP: Fixed blinking SSGI with dynamic resolution. ([UUM-6181](https://issuetracker.unity3d.com/issues/dynamic-resolution-scaling-blinking-ssgi))
    
*   HDRP: Fixed cull mode toggle in transparent material inspector shifting the UI. (UUM-6186)
    
*   HDRP: Fixed Decal Layer Texture lifetime in rendergraph. ([UUM-6664](https://issuetracker.unity3d.com/issues/decal-layer-texture-lifetime-in-rendergraph-1))
    
*   HDRP: Fixed duplicated code sample in the custom pass documentation. ([UUM-6173](https://issuetracker.unity3d.com/issues/hdrp-sample-code-for-custom-pass-scripting-is-incorrect))
    
*   HDRP: Fixed errors in CPU lights: includeForRaytracing, lightDimmer not working for HDAdditionalLightData and camera rel rendering. (1424704)
    
*   HDRP: Fixed incorrect distortion when hardware DRS is enabled. ([UUM-3322](https://issuetracker.unity3d.com/issues/hdrp-camera-view-is-rendered-on-objects-with-a-distortion-blur-material-when-dynamic-resolution-is-enabled))
    
*   HDRP: Fixed leaks in ray tracing effects due to missing ambient probe for ray tracing effects. (UUM-589)
    
*   HDRP: Fixed noisy top shadows when using 'High' Filtering Quality with Tesselated Meshes (Lit Tesselation). ([UUM-3341](https://issuetracker.unity3d.com/issues/hdrp-noisy-top-shadows-when-using-high-filtering-quality-with-tesselated-meshes-lit-tesselation))
    
*   HDRP: Fixed pivot position in the eye material sample scene. (UUM-10663)
    
*   HDRP: Fixed quad artifacts on TAA and fixed an issue on bicubic filtering. ([UUM-6205](https://issuetracker.unity3d.com/issues/taa-quad-like-artifacts-around-moving-silhouettes))
    
*   HDRP: Fixed re-ordering issue in the custom pass list. ([UUM-6176](https://issuetracker.unity3d.com/issues/reordering-custom-passes-not-working))
    
*   HDRP: Fixed reflection issue upon scene filtering. (UUM-6514)
    
*   HDRP: Fixed SSGI using garbage outside the frustum. (UUM-6175)
    
*   HDRP: Fixed the clamp happening on the sum of ray tracing samples instead of per sample. ([UUM-6513](https://issuetracker.unity3d.com/issues/clamping-is-behaving-wrong-for-quality-ray-tracing-global-illumination))
    
*   HDRP: Fixed the default DXR volume not having any DXR effects enabled. (UUM-6182)
    
*   HDRP: Fixed transparent canvas not displaying in camera preview. (1403011)
    
*   HDRP: Profile list button now greys out instead of throwing error. (UUM-6174)
    
*   HDRP: Specular occlusion now falls back to normal when bent normal is not available. ([UUM-6662](https://issuetracker.unity3d.com/issues/bent-normals-and-shadergraph-1))
    
*   HDRP: Updated a misleading tooltip in the environment lighting in HDRP. (UUM-6178)
    
*   IL2CPP: Allow breakpoints to be set in managed code in private and internal types. ([UUM-9132](https://issuetracker.unity3d.com/issues/unable-to-hit-breakpoint-in-visual-studio-when-debugging-il2cpp-build))
    
*   IL2CPP: Avoid a potential crash when a Unity player is unloaded and reloaded. ([UUM-2660](https://issuetracker.unity3d.com/issues/use-after-free-crash-bug-in-il2cpp))
    
*   IL2CPP: Corrected layout structures in memory with an explicit layout and a size parameter. (UUM-9100)
    
*   IL2CPP: Corrected the assembly reference for the base type of stubbed reference types created by the UnityLinker. ([UUM-7772](https://issuetracker.unity3d.com/issues/backport-build-fails-with-il2cpp-error-when-building-in-il2cpp-scripting-backend-1))
    
*   IL2CPP: Corrected the behavior of Ping on Windows platforms. ([UUM-8801](https://issuetracker.unity3d.com/issues/il2cpp-notsupportedexception-is-thrown-when-using-ping-from-system-dot-net-dot-networkinformation))
    
*   IL2CPP: Corrected the behavior of RuntimeInformation.OSDescription on WebGL. ([UUM-1144](https://issuetracker.unity3d.com/issues/notsupportedexception-thrown-when-calling-any-member-of-system-dot-runtime-dot-interopservices-dot-runtimeinformation-in-webgl))
    
*   IL2CPP: Do not inflate RGCTX for types and methods with non-inflated generic parameters. ([UUM-6057](https://issuetracker.unity3d.com/issues/macos-il2cpp-build-crashes-when-running))
    
*   IL2CPP: ETW patterns are no longer stripped out on non-windows platforms. ([UUM-5771](https://issuetracker.unity3d.com/issues/il2cpp-new-operator-causes-a-nullreferenceexception-error-in-a-build))
    
*   IL2CPP: Fixed incorrect code generation for references to void\* pointers. ([UUM-4299](https://issuetracker.unity3d.com/issues/il2cpp-build-fails-when-code-has-public-ref-void-star-this-int-index-function))
    
*   IL2CPP: Fixed leak of internal thread objects that could manifest in a pause on player exit. ([UUM-607](https://issuetracker.unity3d.com/issues/il2cpp-player-hangs-for-20-seconds-after-closing-it-when-running-threads))
    
*   IL2CPP: Prevent a memory corruption that could happen when the "Faster (smaller) builds" option is used with generic types that have a generic base class with no fields, and a different base class with at least one generic field. (UUM-3066)
    
*   IL2CPP: Support marshaling of blittable generic instances in delegates and P/Invokes. (UUM-9460)
    
*   IL2CPP: Throw an exception from Buffer.BlockCopy when the destination array has a non-primitive element type. ([UUM-3302](https://issuetracker.unity3d.com/issues/crash-when-running-il2cpp-build-that-uses-system-dot-buffercopy))
    
*   IL2CPP: Updated zlib to version 1.2.12 for CVE-2018-25032. (UUM-599)
    
*   Kernel: Dynamic array no longer use slower code path for assign operator with POD types. (UUM-7924)
    
*   Linux: Fixed an issue preventing the creation of Apple silicon related builds on Linux. (UUM-901)
    
*   Linux: Fixed gui errors when clicking the prefab's override button in the inspector. (UUM-1566)
    
*   Mono: Fixed a crash during stack trace construction if a this object is null. ([UUM-611](https://issuetracker.unity3d.com/issues/editor-crashes-when-invoking-delegate-with-null-argument))
    
*   Mono: Fixed crash that would occur when assigning a large struct to the field of a null object. ([UUM-10477](https://issuetracker.unity3d.com/issues/crash-on-system-dot-buffer-internalmemcpy-when-starting-play-mode))
    
*   Mono: Fixed crash when passing a generic class to a function pointer. ([UUM-603](https://issuetracker.unity3d.com/issues/crash-on-invoking-function-pointer-runtime-invoke-object-when-type-argument-is-a-class))
    
*   Mono: Fixed Interlocked.CompareExchange float on M1. (UUM-9159)
    
*   Particles: Load MeshFilter Components before Particle Systems to ensure they can be used during prewarms. ([UUM-832](https://issuetracker.unity3d.com/issues/backport-particle-system-ignores-the-shape-parameter-and-shoots-particles-in-the-straight-line-when-the-prewarm-setting-is-tur))
    
*   Physics: Fixed Articulation Bodies teleporting to NaN coordinates when changing joint type at runtime. (UUM-7418)
    
*   Physics: Fixed overlap queries missing small convex Mesh Colliders. ([UUM-6271](https://issuetracker.unity3d.com/issues/physics-overlap-queries-are-not-consistent-when-used-against-convex-mesh-colliders-with-a-very-small-scale))
    
*   Physics: Fixed raycasts missing after moving a lot of objects. (UUM-7416)
    
*   Profiler: Fixed profiler not opening the correct version of the documentation. ([UUM-4963](https://issuetracker.unity3d.com/issues/profiler-help-button-redirects-to-wrong-stream-documentation-page-1))
    
*   Scripting: Changed to rulesetfile not triggering compilation. ([UUM-3560](https://issuetracker.unity3d.com/issues/roslyn-analyzers-analysis-is-not-performed-when-a-ruleset-file-is-modified))
    
*   Scripting: Fixed an issue where Application.logMessageReceived can be called from a job, when the job is scheduled on the main thread. ([UUM-3085](https://issuetracker.unity3d.com/issues/application-dot-logmessagereceived-is-called-from-worker-thread-when-logging-errors-from-bursted-ijob))
    
*   Scripting: Fixed an issue where define constraints on unity's pre-defined symbols like "UNITY\_INCLUDE\_TESTS" were misbehaving for Precompiled assemblies. ([UUM-9378](https://issuetracker.unity3d.com/issues/a-dll-file-is-included-in-the-build-when-the-only-reference-to-it-is-enclosed-in-number-if-unity-editor))
    
*   Scripting: Gradient API is now thread safe. ([UUM-834](https://issuetracker.unity3d.com/issues/backport-gradient-mode-getter-slash-setter-does-not-have-thread-safe-access-preventing-proper-serialization-slash-deserialization))
    
*   Serialization: Fixed an issue when a PropertyModification targetting a serialize reference instance which was no longer being present could cause memory corruption. (UUM-959)
    
*   Shaders: DrawMeshInstanced now provides error feedback when using a shader that does not support instancing. ([UUM-6026](https://issuetracker.unity3d.com/issues/backport-shader-dot-worldposition-interferes-with-drawing-of-the-shader-when-using-drawmeshinstanced))
    
*   Shaders: Fixed an issue where adding packages to a project would not update the Shader Compiler include search paths. (UUM-3982)
    
*   Shaders: Made compute shaders respect #pragma enable\_cbuffers. (UUM-11520)
    
*   Terrain: Fixed an issue where URP failed to render grass Terrain details. ([UUM-9122](https://issuetracker.unity3d.com/issues/urp-fails-to-render-grass-terrain-details))
    
*   uGUI: Fixed calculation of pointer position when running in multiple display mode and the main display was fullscreen with a non-native aspect ratio. ([UUM-7893](https://issuetracker.unity3d.com/issues/broken-mouse-pointer-input-coordinates-in-graphicraycaster-for-certain-window-sizes-in-build-when-run-in-windowed-mode))
    
*   uGUI: Fixed Graphic.Raycast not ignoring CanvasGroups when they were disabled. ([UUM-972](https://issuetracker.unity3d.com/issues/backport-canvas-group-components-block-raycasts-and-interactable-options-work-when-the-component-is-disabled))
    
*   uGUI: uGUI: When disabling a canvas and reenabling it, SubCanvas now renders correctly.'. ([UUM-9248](https://issuetracker.unity3d.com/issues/ui-elements-are-no-longer-rendered-when-deactivating-and-reactivating-the-parent-gameobject))
    
*   uGUI: When disabling a canvas and reenabling it, SubCanvas now renders correctly.
    
*   UI Toolkit: Fixed for issue where ArgumentOutOfRangeException is thrown when adding/removing elements from a List in the Inspector. ([UUM-957](https://issuetracker.unity3d.com/issues/backport-uitoolkit-argumentoutofrangeexception-is-thrown-when-adding-slash-removing-elements-from-a-list-in-the-inspector))
    
*   UI Toolkit: Fixed for offset issues and layout delays in default PropertyField on array values when adding or removing items. (UUM-902)
    
*   UI Toolkit: The hierarchy tree will keep its expanded state and selection when saving in the UI Builder. ([UUM-1884](https://issuetracker.unity3d.com/issues/backport-ui-builder-hierarchy-collapses-when-changes-are-saved))
    
*   UI Toolkit: UI Elements property animations, as well as scheduled items, asynchronous tasks and Update() callbacks are now updated as expected when a modal editor window is opened. ([UUM-1695](https://issuetracker.unity3d.com/issues/backport-scheduled-items-asynchronous-tasks-and-update-are-not-run-when-editorwindow-is-opened-using-showmodalutility))
    
*   UI Toolkit: \[UI Builder\] Fixed an issue where the buttons tooltip in the inline styles were showing its parents. (UUM-1816)
    
*   Undo System: Handle objects created by Animation Rigging during undo/redo. (UUM-7875)
    
*   Universal: Fixed depth pre-pass being always executed on GLES devices. ([UUM-8381](https://issuetracker.unity3d.com/issues/urp-depth-pre-pass-is-always-executed-regardless-of-project-slash-pipeline-settings-when-opengles3-graphics-api-is-used))
    
*   Universal: Fixed incorrect light brightness when using SimpleLit shader. ([UUM-7851](https://issuetracker.unity3d.com/issues/lights-appear-significantly-brighter-when-using-the-simple-lit-shader))
    
*   Universal: Fixed specular highlight edges on Android. ([UUM-7654](https://issuetracker.unity3d.com/issues/android-specular-highlights-have-precision-issues-on-devices-with-adreno-gpu))
    
*   URP: Fixed alpha discard on Unlit Sprite targets for Shadergraph. ([UUM-6998](https://issuetracker.unity3d.com/issues/2d-shadergraph-alpha-clipping-is-not-taken-into-account-when-using-unlit-shadergraph-with-multiply-blend-mode))
    
*   URP: Fixed an additional light performance regression on Quest. (UUM-9423)
    
*   Version Control: Fixed not being able to view changesets in a Gluon workspace  
    Fixed not being able to insert carriage return in checkin dialog.
    
*   VFX Graph: Fixed an issue with Motion Vector target offset with Line Output. (UUM-3303)
    
*   VFX Graph: Read only fields texts is almost invisible due to an opacity value issue. (UUM-9222)
    
*   VFX Graph: Vector2 node indeterminate value behavior was not consistent with other Vector nodes. (UUM-2071)
    
*   Video: Fixed an issue where the first video's frame was drawn out of order when the H.264 B-Frames video is used. ([UUM-819](https://issuetracker.unity3d.com/issues/backport-android-the-first-videos-frame-is-drawn-after-some-time-when-the-h-dot-264-b-frames-video-is-used))
    
*   Video: \[WIN 8 KN/N\] VideoPlayer inadequate error reporting on errorReceived callback when Media Player is not present. ([UUM-839](https://issuetracker.unity3d.com/issues/backport-win-8-kn-slash-n-videoplayer-inadequate-error-reporting-on-errorreceived-callback-when-media-player-is-not-present))
    
*   Windows: Fixed builds launching on the wrong display after upgrading the project from Unity 2020.3. If the project was previously upgraded to 2021.3, this may cause the builds to start up on a different display first. Use Win + Shift + Left/Right arrow to move the window to the desired display. ([UUM-4178](https://issuetracker.unity3d.com/issues/backport-build-is-launched-in-the-wrong-display-when-main-display-is-changed))
    
*   Windows: Fixed crash on startup when Vjoy HID device is connected to a computer. ([UUM-8786](https://issuetracker.unity3d.com/issues/unity-crashing-upon-start-with-a-vjoy-controller-connected))
    
*   Windows: Fixed resolution misdetection on vertical displays, which caused APIs like Screen.currentResolution or Screen.GetDisplayLayout() return wrong data and the player contain letterboxing when it shouldn't. ([UUM-7552](https://issuetracker.unity3d.com/issues/the-player-does-not-refresh-window-display-properties-when-opening-the-player-on-another-display))
    
*   Windows: Restore the display enumeration behaviour of Unity 2021.1 and earlier: the primary display will always be treated as display 1.

### Known Issues in 2021.3.8f1

*   AI Navigation Core: NavMesh::Raycast freezes the whole editor in an infinite loop on Application.UpdateScene ([UUM-2496](https://issuetracker.unity3d.com/issues/navmesh-raycast-freezes-the-whole-editor-in-an-infinite-loop-on-application-dot-updatescene))
    
*   AI Navigation Core: Trigger volumes are included in nav mesh generation for NavMeshSurface when geometry is set to Physics Colliders ([UUM-10109](https://issuetracker.unity3d.com/issues/trigger-volumes-are-included-in-nav-mesh-generation-for-navmeshsurface-when-geometry-is-set-to-physics-colliders))
    
*   Android: Crash when accessing transform component after calling Resources.UnloadUnusedAssets() ([UUM-11111](https://issuetracker.unity3d.com/issues/crash-when-accessing-transform-component-after-calling-resources-dot-unloadunusedassets))
    
*   Customer QA Onboarding: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project (UUM-3207)
    
*   Linux: \[Backport\] \[Linux\] Editor crashes at "GfxDeviceGLES::DrawBuffersBatchMode" when entering Play Mode in the LEGO tutorial ([UUM-971](https://issuetracker.unity3d.com/issues/backport-linux-editor-crashes-at-gfxdevicegles-drawbuffersbatchmode-when-entering-play-mode-in-the-lego-tutorial))
    
*   MacOS: \[Mac\] Editor performance drops on macOS when clicking and dragging on Position, Rotation and Scale values in Transform component ([UUM-7457](https://issuetracker.unity3d.com/issues/mac-editor-performance-drops-on-macos-when-clicking-and-dragging-on-position-rotation-and-scale-values-in-transform-component))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Scene Management: Scene causes Editor crash when specific Lighting Data Asset is used ([UUM-9319](https://issuetracker.unity3d.com/issues/scene-causes-editor-crash-when-specific-lighting-data-asset-is-used))
    
*   uGUI: Broken mouse pointer input coordinates in GraphicRaycaster for certain window sizes in Build when run in windowed mode ([UUM-7893](https://issuetracker.unity3d.com/issues/broken-mouse-pointer-input-coordinates-in-graphicraycaster-for-certain-window-sizes-in-build-when-run-in-windowed-mode))
    

### 2021.3.8f1 Release Notes

#### Improvements

*   Player: Improved performance when loading scenes with a high number of light probes. ([UUM-7568](https://issuetracker.unity3d.com/issues/loading-a-scene-with-a-large-amount-of-light-probes-causes-a-performance-spike))
    
*   UI: The TextureImporterInspector will now disable the "sRGB (Color Texture)" toggle for HDR targets instead of silently overriding. (reflected in API docs) (UUM-7553)
    

#### Changes

*   IAP: # Changelog  
    \## \[4.3.0\]
    
    *   2022-06-16  
        \### Added
    
    *   GooglePlay - API `IGooglePlayConfiguration.SetQueryProductDetailsFailedListener(Action)` called when Unity IAP fails to query product details. The `Action` will be called on each query product details failure with the retry count. See documentation "Store Guides" > "Google Play" for a sample usage.
*   URP: Updated Burst dependency to 1.7.3.
    

#### Fixes

*   2D: Fix asset previews for Tilemap Prefabs by not stripping away the Grid Component when generating the asset preview. ([UUM-2503](https://issuetracker.unity3d.com/issues/tile-palette-prefab-preview-does-not-show-the-correct-image))
    
*   Android: Fix crash with Vulkan when putting app into background during startup. ([UUM-915](https://issuetracker.unity3d.com/issues/backport-android-vulkan-application-crashes-upon-opening-after-putting-it-to-sleep-while-in-the-loading-screen))
    
*   Android: Fix overflow of MotionEvent global references. ([UUM-8438](https://issuetracker.unity3d.com/issues/android-crash-in-player-due-to-an-overflow-of-global-references-to-android-dot-view-dot-motionevent))
    
*   Android: Fixed building exported Unity project in Android Studio. ([UUM-520](https://issuetracker.unity3d.com/issues/android-exported-project-is-unable-to-be-built-on-android-studio-chipmunk-2021-dot-2-1))
    
*   Asset Pipeline: Asset Pipeline: Increasing the default import worker connect timeout, to avoid import worker client processes shutting down unnecessarily, when working with larger projects. (UUM-2502)
    
*   Asset Pipeline: Fixed intermittent Accelerator disconnection caused by interrupt signals raised by Mono. (UUM-3655)
    
*   Build Pipeline: Fix crash when using -standaloneBuilSubtarget option. ([1354140](https://issuetracker.unity3d.com/issues/editor-crashes-when-opening-it-with-standalonebuildsubtarget-server-cli))
    
*   Editor: Fixed custom editor GUI support for the BuiltIn ShaderGraph Target. ([1380485](https://issuetracker.unity3d.com/issues/custom-shader-gui-doesnt-work-for-built-in-shadergraph))
    
*   Editor: Fixed performance issue for looping small clip with root motion extraction. ([UUM-6515](https://issuetracker.unity3d.com/issues/backport-performance-cost-of-looping-animations-increases-over-time))
    
*   Editor: Fixing a bug where changing the selection with a locked inspector and an active EditorToolContext was throwing errors. (UUM-5836)
    
*   Editor: Replace Premium Expert Help link in Editor Help Menu with a link to Unity Learn. (UUM-8297)
    
*   Editor: \[SpeedTree\] Fixed an exception when the user backs off form the 'Search and Remap' dialog in the SpeedTree Material Editor.
    
*   Graphics: Fixed AssetPreviews + texture preview window for ASTCnm/Plain normal maps. (UUM-7833)
    
*   Graphics: Fixed numerous cases where mini-thumbnails would not match the expected visual look when using linear project color space. (UUM-7833)
    
*   Graphics: Fixed Single Channel Red mini-thumbnails not actually being red-only. (UUM-7833)
    
*   Graphics: Fixed undefined behaviour occurring with AssetPreview for Single Channel Alpha texture types. (UUM-7833)
    
*   Graphics: Graphics: 2D Textures with multiple faces or images now correctly update their hash values when any face/image is changed and not just the first one. ([UUM-2506](https://issuetracker.unity3d.com/issues/cubemap-hash-value-changes-only-when-modifying-the-first-face))
    
*   Graphics: The generated mini-thumbnail of TextureGenerationOutput will now properly set its expected stored color space. (UUM-7833)
    
*   iOS: Fixed forcing jobified metal rendering. (UUM-7195)
    
*   Scripting: Fixed issues with operation on invalid gc handles. As part of this 2 new asserts are introduced that are triggered when invalid gc handle operations are detected. The operations are skipped when detected to avoid scripting domain / memory corruption. (UUM-906)
    
*   Scripting: Improved diagnostic message and do not enter in safe-mode on some unsupported ApiUpdater scenarios involving .asmref adding code into .asmdef. (UUM-3564)
    
*   Shaders: Fixed a surface shader error when multiple uv sets were being used on the same texture. ([UUM-929](https://issuetracker.unity3d.com/issues/backport-surface-shader-fails-to-compile-with-redefinition-errors-when-declaring-two-uv-sets-for-the-same-texture))
    
*   UI Toolkit: Fixed broken highlight when hovering selectors with Runtime theme which references an invalid path. (UI Builder) (UUM-937)
    
*   UI Toolkit: Fixed wrong focus grabbing when refreshing BaseVerticalCollectionView. ([UUM-5440](https://issuetracker.unity3d.com/issues/backport-ui-toolkit-treeview-drop-down-arrow-is-focused-after-adding-new-children-items))
    
*   UI Toolkit: Fixes focus in the list view when navigating with arrow keys or scrolling. ([UUM-5443](https://issuetracker.unity3d.com/issues/backport-listview-becomes-unselected-when-scrolling-with-up-down-home-or-end-keys))
    
*   Universal Windows Platform: Fixed a crash when entering a composition string longer than 64 characters into the IME. ([UUM-928](https://issuetracker.unity3d.com/issues/uwp-player-crashes-when-typing-in-japanese-full-width-katakana))
    
*   Universal Windows Platform: Fixed Build & Run picking the wrong instance of Visual Studio which potentially doesn't have required components installed to deploy the application. ([UUM-931](https://issuetracker.unity3d.com/issues/uwp-build-and-run-picks-the-wrong-instance-of-visual-studio-to-build-when-there-are-multiple-installed))
    
*   WebGL: Fixed bug where the rendering canvas wasn't resizing when changing orientation. ([UUM-1135](https://issuetracker.unity3d.com/issues/mobile-web-half-of-screen-is-not-rendered-on-mobile-when-screen-orientation-is-landscape))
    
*   WebGL: Fixed connection between the WebGL player and the profiler. ([UUM-798](https://issuetracker.unity3d.com/issues/backport-webgl-profiler-does-not-autoconnect-on-webgl-builds))
    
*   WebGL: Fixed player connection used when running PlayMode tests on WebGL. ([UUM-1170](https://issuetracker.unity3d.com/issues/webgl-chrome-the-message-header-is-corrupted-and-for-security-reasons-connection-will-be-terminated-dot-errors))
    
*   Windows: Fixes topmost region of Popup windows not receiving mouse messages. ([UUM-5783](https://issuetracker.unity3d.com/issues/backport-windows-popup-window-does-not-receive-mouse-events-when-hovering-cursor-over-the-topmost-pixels))

### Known Issues in 2021.3.7f1

*   AI Navigation Core: NavMesh::Raycast freezes the whole editor in an infinite loop on Application.UpdateScene ([UUM-2496](https://issuetracker.unity3d.com/issues/navmesh-raycast-freezes-the-whole-editor-in-an-infinite-loop-on-application-dot-updatescene))
    
*   Inspector Framework: List element overlaps everything when using Serializable struct/class ([UUM-7683](https://issuetracker.unity3d.com/issues/list-element-overlaps-everything-when-using-serializable-struct-slash-class))
    
*   Linux: \[Backport\] \[Linux\] Editor crashes at "GfxDeviceGLES::DrawBuffersBatchMode" when entering Play Mode in the LEGO tutorial ([UUM-971](https://issuetracker.unity3d.com/issues/backport-linux-editor-crashes-at-gfxdevicegles-drawbuffersbatchmode-when-entering-play-mode-in-the-lego-tutorial))
    
*   MacOS: \[Mac\] Editor performance drops on macOS when clicking and dragging on Position, Rotation and Scale values in Transform component ([UUM-7457](https://issuetracker.unity3d.com/issues/mac-editor-performance-drops-on-macos-when-clicking-and-dragging-on-position-rotation-and-scale-values-in-transform-component))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Scene Management: Scene causes Editor crash when specific Lighting Data Asset is used ([UUM-9319](https://issuetracker.unity3d.com/issues/scene-causes-editor-crash-when-specific-lighting-data-asset-is-used))
    
*   Shader System: Editor crashes when building if calling "ShaderKeyword" methods in "IPreprocessShaders" classes ([UUM-2536](https://issuetracker.unity3d.com/issues/editor-crashes-when-building-if-calling-shaderkeyword-methods-in-ipreprocessshaders-classes))
    
*   uGUI: Broken mouse pointer input coordinates in GraphicRaycaster for certain window sizes in Build when run in windowed mode ([UUM-7893](https://issuetracker.unity3d.com/issues/broken-mouse-pointer-input-coordinates-in-graphicraycaster-for-certain-window-sizes-in-build-when-run-in-windowed-mode))
    
*   uGUI: UI becomes not interactable after deactivating and reactivating Canvas ([UUM-9258](https://issuetracker.unity3d.com/issues/ui-becomes-not-interactable-after-deactivating-and-reactivating-canvas))
    
*   uGUI: UI Elements are no longer rendered when deactivating and reactivating the Parent GameObject ([UUM-9248](https://issuetracker.unity3d.com/issues/ui-elements-are-no-longer-rendered-when-deactivating-and-reactivating-the-parent-gameobject))
    
*   Universal RP: Lights appear significantly brighter when using the Simple Lit shader ([UUM-7851](https://issuetracker.unity3d.com/issues/lights-appear-significantly-brighter-when-using-the-simple-lit-shader))
    

### 2021.3.7f1 Release Notes

#### Features

*   Editor: Added timestamps argument to include timestamps and thread ID prefix to logs.
    
*   Editor: Adds the ability to block shortcuts from triggering during playmode while the game view window is focused.
    
*   Player: Added timestamps argument to include timestamps and thread ID prefix to logs.
    

#### Improvements

*   Editor: Added a confirmation dialog when switching serialization modes
    
*   HDRP: Further improve the consistency of non-physical depth of field at varying native rendering resolutions and resolution scales.
    

#### Changes

*   Android: Accept build-tools version 30.0.x instead of strictly 30.0.2
    
*   IAP: # Changelog  
    \## \[4.2.1\]
    
    *   2022-06-14  
        \### Fixed
    
    *   Downgrade `com.unity.services.core` from 1.4.1 to 1.3.1 due to a new bug found in 1.4.1
*   Package: Update auth package to 2.1.1
    
*   Package: Update core package to 1.4.1
    

#### Fixes

*   2D: Fixed case where Shape of PolygonCollider2D doesn't update when Sprite Shape contains vertex at \[0,0\]. ([1401376](https://issuetracker.unity3d.com/issues/shape-of-polygoncollider2d-doesnt-update-when-sprite-shape-contains-vertex-at-00-and-its-profile-doesnt-have-any-sprites))
    
*   2D: Fixed case where SpriteShape throws ArgumentException error when checking position validity of a point added to Spline. ([1387298](https://issuetracker.unity3d.com/issues/spriteshape-throws-argumentexception-error-when-checking-position-validity-of-a-point-added-to-spline))
    
*   2D: Fixed case where Tangent Data is always saved even when not in use for SpriteShapeRenderer when GeometryCache is active. (1394404)
    
*   2D: Fixed duplicate instantiated GameObjects from Tiles on Tilemap Prefabs when instantiating the Tilemap Prefabs. ([UUM-1671](https://issuetracker.unity3d.com/issues/instantiating-tilemap-that-has-rule-tile-with-default-gameobject-set-creates-extra-copy-of-gameobject-at-00-0-in-builds-1))
    
*   Android: Blind fix for an issue where executing Android SDK tool command would fail with missing java error. For ex., "Unable to locate a Java Runtime". Even though everything is set correctly in Preferences->External Tools->JDK. Also during the failure, Unity will now print environment variables thus helping identifying such issues in the future. (UUM-2106)
    
*   Android: Bring back the ability to initialize UnityPlayer with Context class, this allows Unity to initialize itself from WallpaperService. ([1413649](https://issuetracker.unity3d.com/issues/android-crash-when-using-unityplayer-getapplicationcontext-this-on-exported-andoid-projects))
    
*   Android: Fixed high memory usage when uploading 2D array textures using Vulkan on Adreno devices. (1418261)
    
*   Android: Fixed overhead of memory allocations in the Vulkan backend for allocation sizes between 128kB and 1024kB. (UUM-5966)
    
*   Android: Fixed regression where TouchScreenKeyboard.Open() was not opening. ([UUM-2112](https://issuetracker.unity3d.com/issues/tmp-android-keyboard-doesnt-show-up-when-touchscreenkeyboard-dot-open-function-is-called-on-an-android-device))
    
*   Android: Fixed Screen.safeArea returning wrong height when building Native app with Unity as a Library. ([UUM-515](https://issuetracker.unity3d.com/issues/android-screen-dot-safearea-returns-wrong-height-when-building-native-app-with-unity-as-a-library))
    
*   Asset Pipeline: Fixed an issue where generating previews of some prefabs could raise an 'unknown importer' error in the console. ([UUM-2908](https://issuetracker.unity3d.com/issues/backport-asset-importer-errors-on-the-initial-import-of-prefabs))
    
*   DX12: Fixed for crash when an upload subupdates buffer was assigned to a compute shader as a UAV. (UUM-5770)
    
*   Editor: Fixed crash when moving non-empty folder to a target containing another folder with the same name in the Project Browser. (UUM-5197)
    
*   Editor: Fixed occasional crash when loading TIFFs with bad thumbnail tags. ([UUM-3783](https://issuetracker.unity3d.com/issues/editor-crashes-on-freeimage-makethumbnail-after-importing-tif-file))
    
*   Editor: Replaced the scene asset icon with new Unity logo. (1385124)
    
*   Game Core: Fixed crash on pre-processor only compilation of compute shaders. (UUM-908)
    
*   GI: Fixed Light Probes losing their lighting data after entering Play mode when Baked and Realtime GI are enabled. ([UUM-3968](https://issuetracker.unity3d.com/issues/lightprobes-probes-lose-their-lighting-data-after-entering-play-mode-when-baked-and-realtime-gi-are-enabled))
    
*   GI: Fixed SetLightingDataAsset with multiscenes (caused the lightmaps to disappear for other scenes). ([UUM-916](https://issuetracker.unity3d.com/issues/backport-assigning-a-lighting-data-asset-causes-the-lightmaps-to-be-unloaded-for-all-scenes-except-the-active-one))
    
*   GI: \[GPU PLM\] OpenCL shader loading time in new projects has become significantly slower. Fixed regression by speeding up OpenCL shader loading stage by caching binaries in the GICache. ([UUM-1350](https://issuetracker.unity3d.com/issues/gpu-plm-opencl-shader-loading-time-in-the-new-projects-has-become-significantly-slower-1))
    
*   Graphics: Fixed some dropdown menus in the Mac Editor that would previously jitter or jerk out with artifacts when opened. ([UUM-5546](https://issuetracker.unity3d.com/issues/mac-profiler-profiling-mode-dropdown-view-jerks-out-when-interacting-with-any-dropdown-arrows-in-the-menu))
    
*   Graphics: SkinnedMeshRenderer and MeshRenderer are now in the same SRP Batch during shadow pass. ([UUM-4336](https://issuetracker.unity3d.com/issues/draw-calls-that-batch-in-opaque-pass-do-not-batch-in-shadow-pass-when-some-of-the-draw-calls-come-from-skinnedmeshrenderer-and-some-come-from-meshrenderer))
    
*   Graphics: Switching vsync mode while in a Metal player could sometimes cause a freeze due to the vsync status not syncing correctly before waiting on the frame present - this has been fixed. ([UUM-5547](https://issuetracker.unity3d.com/issues/mac-metal-player-freezes-when-vsync-is-turned-on-with-button-onclick-event))
    
*   HDRP: Add a blendable perceptual blending parameter on volumetric clouds to get rid of over exposure artifacts. (1407686)
    
*   HDRP: Adding mechanism in HDRP to strip FragInputs, which will allow us to strip some interpolators in the pixel shader For shader graphs. ([1399841](https://issuetracker.unity3d.com/issues/hdrp-path-tracing-samples-are-not-captured-with-recorder-when-shutter-interval-is-set-to-0))
    
*   HDRP: Facilitated reactivation of Ray Tracing Light Cluster in Path Tracing. (1404944)
    
*   HDRP: Fixed a performance issue with Single Shadow debug mode. (1400281)
    
*   HDRP: Fixed a render error when disabling both motion vectors and opaques. (1410622)
    
*   HDRP: Fixed a render graph error when opening a project with default lighting enabled and clouds in the scene. ([UUM-3339](https://issuetracker.unity3d.com/issues/render-graph-execution-errors-are-thrown-when-restarting-hdrp-project-with-deactivated-scene-lighting))
    
*   HDRP: Fixed a render graph error when using Output AOV in non-dev builds. ([1421560](https://issuetracker.unity3d.com/issues/hdrp-output-aov-black-in-player))
    
*   HDRP: Fixed accumulation when shutter interval is zero. ([1399841](https://issuetracker.unity3d.com/issues/hdrp-path-tracing-samples-are-not-captured-with-recorder-when-shutter-interval-is-set-to-0))
    
*   HDRP: Fixed an issue with decals not scaling with a parent transform. (1401887)
    
*   HDRP: Fixed artifacts on the edges of the screen when enabling volumetric clouds. (1400011)
    
*   HDRP: Fixed blend mode label field. ([1410907](https://issuetracker.unity3d.com/issues/hdrp-unable-to-find-style-warnings-are-thrown-in-the-console-log-when-selecting-two-or-more-specific-materials))
    
*   HDRP: Fixed Cloud Layer rendering on nvidia gpus. ([1401162](https://issuetracker.unity3d.com/issues/hdrp-cloud-layer-renders-a-black-screen-on-nvidia-gpu-10xx-series))
    
*   HDRP: Fixed custom post-processes not released correctly when switching HDRP assets. ([1419924](https://issuetracker.unity3d.com/issues/errors-are-thrown-when-changing-quality-level-on-hdrp))
    
*   HDRP: Fixed errors in HDR comparison doc. (1410049)
    
*   HDRP: Fixed errors when switching to SMAA. ([1401225](https://issuetracker.unity3d.com/issues/hdrp-switching-to-smaa-throws-errors))
    
*   HDRP: Fixed for Texture2D and Texture3D parameters not accepting 'None' as value. (1406928)
    
*   HDRP: Fixed game view goes greenish and then black in editor with DX12/Vulkan (1415948)
    
*   HDRP: Fixed the documentation for recursive rendering not being clear enough for the smoothness' behavior. (1409004)
    
*   HDRP: Fixed the SSR not properly working on deferred with tiles with multiple variants. ([1399311](https://issuetracker.unity3d.com/issues/edgy-artifact-on-the-reflection-when-the-coat-masks-value-is-greater-than-0))
    
*   HDRP: Fixed Volumetric Clouds texture input fields. (1408252)
    
*   HDRP: Fixrd a NaN resulting from path traced hair materials with certain base color inputs. (1411249)
    
*   HDRP: Improved the default state of newly created Planar Reflection Probes. (1420128)
    
*   HDRP: Made sure that camera jittering is disabled in Path Tracing. (1399440)
    
*   HDRP: updated accumulation API scripts to solve issue with screen shot capture in certain Unity Editor workflows. (1415399)
    
*   IL2CPP: Avoid incorrect behavior of the Array::Set method when the faster (smaller) builds IL2CPP code generation option is used. ([1411185](https://issuetracker.unity3d.com/issues/il2cpp-2d-vector3-array-converted-to-2d-vector4-array-has-zeroed-vectors-in-player-whose-code-generation-is-for-faster-runtime))
    
*   IL2CPP: Avoided a stack overflow during code conversion when an attribute constructor uses the attribute itself. ([UUM-3907](https://issuetracker.unity3d.com/issues/il2cpp-project-with-nhibernate-library-fails-to-build-when-using-il2cpp-scripting-backend))
    
*   IL2CPP: Copy .h source plugin files into the Gradle project generated for Android builds. ([UUM-3641](https://issuetracker.unity3d.com/issues/header-files-are-not-included-in-exported-projects-when-using-il2cpp-scripting-backend))
    
*   IL2CPP: Fixed "Cannot add a generic parameter reference without an instance" error when converting a method with a generic function pointer. ([1427170](https://issuetracker.unity3d.com/issues/il2cpp-exception-when-using-function-pointer-with-generic-parameter-from-type-and-method))
    
*   IL2CPP: Fixed issue where a try block inside of a loop nested in a try/finally block could cause the finally handler to run multiple times. ([1402180](https://issuetracker.unity3d.com/issues/objectdisposedexception-is-caught-when-an-unused-variable-is-declared-in-the-using-statement))
    
*   IL2CPP: Fixed issue where assemblies with an instance method and a static method with the same name, parameters, and return type would cause the build to fail. ([1411168](https://issuetracker.unity3d.com/issues/build-fails-with-error-unity-dot-il2cpp-dot-hashcodecollisionexception-when-opc-dot-uafx-dot-client-dot-dll-is-included-in-the-project))
    
*   IL2CPP: Fixed issue where Assembly.GetType() on a type without a namespace could match a nested type with the same name and issue where Assembly.GetType() did not respect the ignoreCase flag for nested types. ([1422119](https://issuetracker.unity3d.com/issues/il2cpp-assembly-dot-gettype-returns-a-nested-class-when-the-nested-class-is-defined-before-the-non-nested-one))
    
*   IL2CPP: Fixed performance issues in metadata access with thread contention. (UUM-609)
    
*   IL2CPP: Fixed performance regression in regular expressions. ([UUM-590](https://issuetracker.unity3d.com/issues/il2cpp-regex-perfomance-regression-when-using-il2cpp-scripting-backend))
    
*   IL2CPP: Fixed possible runtime crash when a generic type is used as a base class generic parameter. ([UUM-1129](https://issuetracker.unity3d.com/issues/inflatefielddefinition-crash-in-builds-when-a-specific-script-is-included-and-il2cpp-code-generation-is-set-to-faster-runtime))
    
*   IL2CPP: Throw a managed exception when CreateDelegate is called with a delegate type that was not generated ahead of time. ([UUM-817](https://issuetracker.unity3d.com/issues/crashes-with-interfaceactioninvoker2-int-il2cppobject-star-when-launching-il2cpp-build-with-input-system))
    
*   Mono: Correct issue where FileSystemEventArgs.FullPath did not return a fully qualified path. ([UUM-1822](https://issuetracker.unity3d.com/issues/backport-failed-to-load-a-custom-asset-when-using-naninovel-package))
    
*   Mono: Fixed "The BinaryReader read data to a Span is always zero." ([UUM-866](https://issuetracker.unity3d.com/issues/backport-the-binaryreader-read-data-to-a-span-is-always-zero))
    
*   Mono: Fixed issue where FileSystemEventArgs.FullPath would have an incorrect path if FileWatcher event was on a file in a subdirectory. ([1397564](https://issuetracker.unity3d.com/issues/filesystemwatcher-returns-bad-file-path))
    
*   Mono: Fixed System.Windows.Forms.SendKeys.Send on Windows.
    
*   Package Manager: Fixed an issue where some `PackageInfo` properties would not be populated correctly if the package came from a GitHub registry. ([1354652](https://issuetracker.unity3d.com/issues/displayname-in-package-dot-json-is-ignored-if-the-package-is-from-github))
    
*   Particles: When using the Built-in Rendering Pipeline, prevent the Standard Unlit Particle shader from performing unnecessary lighting calculations on the CPU. ([UUM-827](https://issuetracker.unity3d.com/issues/backport-duplicate-unlit-particle-system-draw-calls-cant-be-batched-when-there-are-multiple-lights-in-the-scene))
    
*   Scripting: Fixed case when double-clicking message wouldn't open the correct file and line. ([UUM-897](https://issuetracker.unity3d.com/issues/backport-script-not-opening-when-double-clicking-error))
    
*   UI Toolkit: Fixed a bug where ListView and TreeView using SelectionType.None would still be selectable with double click and navigation keys. (UUM-5438)
    
*   UI Toolkit: Fixed an issue where the expanded state of the ListView would not be serialized across selections. (UUM-1461)
    
*   UI Toolkit: Fixed disabled UIDocument still being rendered on editor start. (UUM-793)
    
*   UI Toolkit: Fixed VisualElements change scaling when mouse moves over a different window on a higher DPI display. ([UUM-7260](https://issuetracker.unity3d.com/issues/visualelements-change-scaling-when-mouse-moves-over-ui-builder-window-on-a-higher-dpi-display-1))
    
*   URP: URP 2D - Fixes vertex color for sprite shapes. ([UUM-1921](https://issuetracker.unity3d.com/issues/2d-sprite-shape-urp-spriteshape-alpha-value-of-color-not-working-when-using-urp-and-sprite-lit-default-mat))
    
*   Version Control: Fixed missing references in synced prefabs.
    
*   VFX Graph: Position ArcSphere failing with BlendDirection. ([UUM-1295](https://issuetracker.unity3d.com/issues/vfx-graph-blend-direction-arcsphere-bug))
    
*   VFX Graph: Unexcepted double blend direction slot on Position Mesh block. (UUM-5082)
    
*   VFX Graph: Unexpected lossy scale evaluation on GPU. (UUM-539)
    
*   XR: Fixed Screen Space Shadows in Single Pass Instancing.

### Known Issues in 2021.3.6f1

*   AI Navigation: NavMesh::Raycast freezes the whole editor in an infinite loop on Application.UpdateScene ([UUM-2496](https://issuetracker.unity3d.com/issues/navmesh-raycast-freezes-the-whole-editor-in-an-infinite-loop-on-application-dot-updatescene))
    
*   Customer QA Onboarding: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project (UUM-3207)
    
*   Linux: \[Backport\] \[Linux\] Editor crashes at "GfxDeviceGLES::DrawBuffersBatchMode" when entering Play Mode in the LEGO tutorial ([UUM-971](https://issuetracker.unity3d.com/issues/backport-linux-editor-crashes-at-gfxdevicegles-drawbuffersbatchmode-when-entering-play-mode-in-the-lego-tutorial))
    
*   MacOS: \[Mac\] Editor performance drops on macOS when clicking and dragging on Position, Rotation and Scale values in Transform component ([UUM-7457](https://issuetracker.unity3d.com/issues/mac-editor-performance-drops-on-macos-when-clicking-and-dragging-on-position-rotation-and-scale-values-in-transform-component))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Package: Empty "StreamingAssets" folder gets created after building an empty project ([1423325](https://issuetracker.unity3d.com/issues/empty-streamingassets-folder-gets-created-after-building-an-empty-project))
    
*   Shader System: Editor crashes when building if calling "ShaderKeyword" methods in "IPreprocessShaders" classes ([UUM-2536](https://issuetracker.unity3d.com/issues/editor-crashes-when-building-if-calling-shaderkeyword-methods-in-ipreprocessshaders-classes))
    
*   Text: \[Mac\] ShortcutManager ignores Shift modifier ([UUM-4083](https://issuetracker.unity3d.com/issues/mac-shortcutmanager-ignores-shift-modifier-1))
    

### 2021.3.6f1 Release Notes

#### Features

*   Package Manager: Related to \[PAX-1772\]([https://jira.unity3d.com/browse/PAX-1772](https://jira.unity3d.com/browse/PAX-1772)) As a user I should be able to specify the location of the AssetStore cache

#### Improvements

*   Burst: Support for \_\_Unmanaged for non-extern functions
    
*   Burst: Used explicit namespace for UnityEditor.PackageManager.Events to avoid conflicts.
    
*   DX12: Set swapchain background color to make resize visually more pleasing and disable scaling in resize.
    
*   Windows: Added "-force-d3d11-flip-model" command line parameter to force Unity to use DXGI flip model swap chain.
    

#### API Changes

*   UI Toolkit: Added: Added a NestedInteractionKind enum to ScrollView to give control over event propagation while scrolling.

#### Changes

*   XR: The Oculus XR Plugin package has been updated to 3.0.2.

#### Fixes

*   Android: Allow any file to be selected as keystore (previously only .keystore was supported). ([UUM-917](https://issuetracker.unity3d.com/issues/backport-keystore-file-is-not-recognized-by-editor-when-keystore-has-any-other-extension-than-keystore))
    
*   Android: Fix video with alpha when using Vulkan on some older devices. ([1407184](https://issuetracker.unity3d.com/issues/android-uitoolkit-vp8-webm-video-with-transparency-rendering-as-translucent-in-ui-toolkit))
    
*   Android: Fixed a potential app store validation issue related to a QueryIntentActivities() call when initializing the engine.
    
*   Android: Fixed crash during low memory kill. (UUM-4811)
    
*   Android: Fixed Java local reference leak when AndroidJavaProxy is passed as argument to AndroidJavaObject.Call/CallStatic. ([1389252](https://issuetracker.unity3d.com/issues/android-app-crashes-with-androidruntime-and-local-reference-table-overflow-errors-when-creating-512-androidjavaclass-objects))
    
*   Android: Fixed Patch (/And Run) failing on some Android 12 devices with "Permission Denied" or "No such file or directory". (UUM-2445)
    
*   Asset Bundles: Refactors out the requiresTextureCompression boolean flag.  
    The texture compression setting is now set internally from either the existing EditorPrefs setting kCompressTexturesOnImport or checking if the BuildPipeline build is in progress. (UUM-3653)
    
*   Burst: A potential issue with the debug info mover pass, that meant it only affected the first entry point in a module.
    
*   Burst: Added workaround for "cannot dlopen until fork() handlers have completed" issue seen in macOS 12.3.
    
*   Burst: Fixed a bug that manifested when using IAP in UWP builds with Burst - we were scanning the assembly hierarchy too deep for Bursted types, which led to an `AssemblyResolutionException`.
    
*   Burst: Fixed a bug where using `ReinterpretStore(someIndex, (ushort)someValue)` could cause an internal compiler error in Burst.
    
*   Burst: Fixed a bug with `Span` and `ReadOnlySpan` types where if the indices used were not already 32-bit signed integers, an internal compiler error would occur if running with safety checks enabled.
    
*   Burst: Fixed a compiler crash if users used `__refvalue` or `__arglist` in Burst. Neither of these are supported, but now we will nicely tell you via a compiler error that they aren't supported.
    
*   Burst: Fixed a compiler error when trying to acquire the function pointer of a generic function from Bursted code.
    
*   Burst: Fixed a memory leak where during hashing we'd pin a GC object and never unpin and free it.
    
*   Burst: Fixed bug in static constructor ordering in the presence of indirect dependencies between static constructors (i.e. static constructor -> static method -> static constructor) that could result in a runtime crash.
    
*   Burst: Fixed compiler crash when the only usage of a static field was in a formatted exception string.
    
*   Burst: Fixed compiler crash when trying to dynamically call `BurstCompiler.CompileFunctionPointer` in Burst-compiled code.
    
*   Burst: Fixed hashing bug that could occur when a function pointer type is used in a method parameter.
    
*   Burst: Fixed hashing error that could occur in the presence of multiple synthesized explicit interface implementations with the same name and signature.
    
*   Burst: Fixed hashing error that could occur with unbound generic type.
    
*   Burst: Using a function only through a C# function pointer could cause a crash.
    
*   Editor: Fixed Verify Saved Assets modal window to accept changed graphics api. ([1380734](https://issuetracker.unity3d.com/issues/scene-and-asset-changes-not-saved-when-verify-saving-assets-is-enabled-on-the-linux-editor))
    
*   Editor: Fixed Verify Saved Assets modal window to accept user input. ([1365765](https://issuetracker.unity3d.com/issues/graphics-apis-for-linux-reset-to-previous-state-uppon-editor-restart-when-verify-saving-assets-option-is-enabled))
    
*   Editor: IndexOutOfRangeException is thrown when openning Object Picker. ([UUM-2825](https://issuetracker.unity3d.com/issues/backport-indexoutofrangeexception-is-thrown-when-triggering-showobjectpicker-in-a-custom-node-graph))
    
*   GI: Fixed the pushoff setter on GPU lightprobes baking. (UUM-857)
    
*   Graphics: "Rim left" and "Rim right" presets are difficult to visualize in the inspector. (1399494)
    
*   Graphics: Draw calls with not all ComputeBuffers bound correctly can lead to crashes on M1. Calls are now discarded and error message is output with shader name. (1395963)
    
*   Graphics: Fixed a performance issue in the SRP Render loop. ([UUM-6109](https://issuetracker.unity3d.com/issues/hdrp-renderloop-dot-prepare-takes-up-a-lot-of-cpu-1))
    
*   Graphics: Fixed false positives from checking if all buffers are bound correctly on Metal. (1395963)
    
*   Graphics: Fixed for updated XR Display headers breaking Oculus App Spacewarp (ASW) due to error in back-compat code path (UUM-7369)
    
*   Graphics: Fixed LightAnchor when camera is tilted, work with Local and World Up. ([1403119](https://issuetracker.unity3d.com/issues/up-direction-is-not-set-and-calculated-as-expected-when-using-light-anchor))
    
*   Graphics: Fixes incorrectly regenerated thumbnails when reimporting sprites with an asset postprocessor. ([UUM-5469](https://issuetracker.unity3d.com/issues/backport-thumbnail-in-the-project-window-is-not-updated-when-a-sprites-texture-is-altered))
    
*   HDRP: Added an error message in the custom pass volume editor when custom passes are disabled in the HDRP asset. (1407146)
    
*   HDRP: Added the volumetric clouds to the feature list of HDRP (case 1410051). (1410051)
    
*   HDRP: Changed back height of the path tracing progress bar to 0.5% of the resolution. (1404944)
    
*   HDRP: Fixed an issue regarding the scaling of texture read from the after-post-process injection point. (1412459)
    
*   HDRP: Fixed black screen with MSAA and TAAU both enabled. (1411217)
    
*   HDRP: Fixed constant repaint when static sky set to none. (1414957)
    
*   HDRP: Fixed custom pass material editor not displaying correctly read-only materials. (1411764)
    
*   HDRP: Fixed decal angle fade for decal projectors. (1410918)
    
*   HDRP: Fixed DRS resolution not working for custom post process / custom passes. Pre post effect passes looked croppted (case 1398904). ([1398904](https://issuetracker.unity3d.com/issues/hdrp-drs-with-custom-pass-render-only-a-cropped-up-slash-scaled-up-version-when-both-at-active-drs-plus-custom-pass))
    
*   HDRP: Fixed error on lens flare enabled causing motion vectors to be faulty. ([1398635](https://issuetracker.unity3d.com/issues/hdrp-motion-blur-and-taa-cause-blurriness-when-using-lens-flare-and-having-decals-disabled))
    
*   HDRP: Fixed flickering tiles on FPTL when light count exceeds 32 on vulkan. Caused by a compiler bug vulkan only (case 1401605). (1401605)
    
*   HDRP: Fixed for baked reflection probes. ([1403131](https://issuetracker.unity3d.com/issues/hdrp-reflections-can-look-white-due-to-fog-influence))
    
*   HDRP: Fixed HDRP Wizard windows duplicated when entering in play mode. ([1407981](https://issuetracker.unity3d.com/issues/empty-hdrp-wizard-window-is-initialised-when-entering-the-play-mode))
    
*   HDRP: Fixed issue that would always save Decal Materials when saving the scene. (UUM-6276)
    
*   HDRP: Fixed issue with motion blur having small holes in its blur with high velocities. (1415008)
    
*   HDRP: Fixed issue with overblown exposure when doing scene filtering. (1333684)
    
*   HDRP: Fixed issue with path tracing, when Ambient Occlusion Remapping is forced to zero on materials. (1401329)
    
*   HDRP: Fixed issue with specular occlusion being wrongly quantized when APV is enabled in HDRP. ([1407475](https://issuetracker.unity3d.com/issues/hdrp-low-value-specular-occlusion-areas-are-black-when-probe-volumes-is-enabled))
    
*   HDRP: Fixed label for background clouds in Environment Lighting tab. ([1409875](https://issuetracker.unity3d.com/issues/hdrp-ux-issue-with-clouds-ambient-modes-in-lighting-tab))
    
*   HDRP: Fixed lens flare wobbling caused by using jittered matrix, more visible with DLSS (case 1403463). (1403463)
    
*   HDRP: Fixed min percentage of dynamic resolution in HDRenderPipeline not clamped (case 1408155). ([1408155](https://issuetracker.unity3d.com/issues/hdrp-drs-settings-max-screen-percent-not-clamped-by-min-screen-percent-value))
    
*   HDRP: Fixed missing menu item to create reflection proxy volume. (1401202)
    
*   HDRP: Fixed Planar Probe not rendering when sky is None. (1410628)
    
*   HDRP: Fixed Reflection Proxy Volume allowing negative values. (1401205)
    
*   HDRP: Fixed the history buffers being all discarded when the number of ColorPyramidBuffers changed (case 1405726). ([1405726](https://issuetracker.unity3d.com/issues/hdrp-volumetric-clouds-jumps-when-entering-a-local-volume-with-some-features-like-ssr))
    
*   HDRP: Removed clamping for ray traced reflections on transparent objects (case 1414178). ([1414178](https://issuetracker.unity3d.com/issues/hdrp-sky-reflection-is-being-clamped-when-receive-ssr-transparent-is-enabled))
    
*   HDRP: Updated frame diagram image in documentation (missing Flim grain and Dithering). (1407628)
    
*   HDRP: Volumetric fog color no longer affects height fog when disabled. ([1414943](https://issuetracker.unity3d.com/issues/hdrp-fogs-albedo-is-affecting-color-even-when-volumetric-mode-is-disabled))
    
*   Linux: Enabled macro in sdl to enable deadkey response in built executable. ([1134402](https://issuetracker.unity3d.com/issues/linux-keyboard-dead-keys-are-not-reported-in-new-input-system))
    
*   Linux: Fixed crash caused by destroying MenuItem widgets and accessing their data in GTK handlers. (1372311)
    
*   Linux: Fixed crash when launching standalone profiler on Linux. ([UUM-5543](https://issuetracker.unity3d.com/issues/profiler-linux-standalone-profiler-does-not-open-logs-externalprocess-onexitedmainthread-1))
    
*   Linux: Fixed missing game controller mappings for certain controllers. (1384896)
    
*   Linux: Fixed print stack trace frequently crashing (UUM-1595)
    
*   Networking: Fixed IPv6 support on Windows and Android. ([UUM-926](https://issuetracker.unity3d.com/issues/backport-unity-webrequest-does-not-work-when-only-ipv6-is-enabled))
    
*   Particles: Fixed errors when viewing a Force Field Preset inspector whilst entering Playmode. ([UUM-1818](https://issuetracker.unity3d.com/issues/backport-particlesystemforce-errors-are-thrown-on-accessing-preset-when-particlesystemforce-is-deleted))
    
*   Physics 2D: Ensure that the PlatformEffector2D continually calculates friction/bounce when something is in contact with it. ([UUM-1684](https://issuetracker.unity3d.com/issues/platform-effector-2d-components-disabled-use-side-friction-property-doesnt-work-when-a-gameobject-is-falling-off-the-corner))
    
*   Prefabs: Removed unpack Prefab instances option when deleting Prefabs  
    This makes case 1360671 obsolete. (UUM-3368)
    
*   Profiler: Fixed Memory Profiler capture reloading unloaded assets referenced by scripts. ([UUM-898](https://issuetracker.unity3d.com/issues/backport-memory-profiler-throws-object-lock-exceptions-when-capturing-editor-memory))
    
*   Profiler: Fixed untracked memory allocated via AsyncUploadManager when browsing Addressables. ([1410384](https://issuetracker.unity3d.com/issues/allocated-memory-block-with-no-root-area-cannot-be-tracked-when-loading-asset-bundles))
    
*   Scripting: Fixed issue where OnPostRender is called multiple times per frame when setting Application.targetFrameRate. ([UUM-911](https://issuetracker.unity3d.com/issues/backport-onpostrender-is-called-multiple-times-per-frame-when-setting-application-dot-targetframerate))
    
*   Scripting: Fixed issue where yielding WaitForEndOfFrame was getting called too many times per Editor player loop. ([UUM-904](https://issuetracker.unity3d.com/issues/backport-coroutine-with-waitforendofframe-finishes-too-soon-when-the-framerate-is-capped-using-application-dot-targetframerate))
    
*   Security: Updated OpenSSL to 1.1.1m. (1352528)
    
*   Shaders: Editor in -nographics mode does not support compute shaders. ([1410540](https://issuetracker.unity3d.com/issues/shader-compiler-crashes-when-calling-computeshader-dot-getkernelthreadgroupsizes-with-nographics-flag-in-batch-mode))
    
*   Text: Fixed Text component not rendering elements with floating point coordinates correctly on machines with locale set to one that uses commas as decimal separators. (UUM-868)
    
*   Text: Fixed the UTF-16 to UTF-8 conversion error when inputting an emoji into a text game object.
    
*   uGUI: Reverted the default behavior for UI elements that implement IPointerEnter/Exit back to what it was before: when hovering a child component, it also sends the hovering event to the parent(s).  
    Also added a field (sendPointerHoverToParent) in the BaseInputModule that can be set to false to change the behavior to: when hovering a child component, it doesn't send the hover event to the parent(s). ([UUM-2468](https://issuetracker.unity3d.com/issues/button-isnt-highlighted-when-the-mouse-re-enters-the-buttons-child-image-which-is-set-as-buttons-target-graphic))
    
*   UI Toolkit: Fix SVG 9-slice visual artefact. (UUM-5434)
    
*   UI Toolkit: Fixed an issue where the UI Builder breaks the cursor property when saving by appending a comma between the additional parameters. ([UUM-872](https://issuetracker.unity3d.com/issues/backport-ui-builder-breaks-cursors-parameters-in-the-uss-file-when-changing-uss-files-values-in-the-ui-builder-window))
    
*   UI Toolkit: Fixed nested scroll view behaviour on mobile; scrolling will stay in the scroll view that initiated the drag. (UUM-941)
    
*   UI Toolkit: This fixes the following:
    
    *   1357086: Changes in UI Builder are lost when editing a 2D sprite
        
    *   UIT-1233: UIBuilder: Message in dialog unclear - "UI Builder: Document has unsaved changes"  
        The message appearing on screen is now clearer and a bit more explanatory for users. While it doesn't fix the problem at the source, it at least informs users more efficiently (about the reasons why they ended up there). ([UUM-847](https://issuetracker.unity3d.com/issues/backport-changes-in-ui-builder-are-lost-when-editing-a-2d-sprite))
        
*   Universal Windows Platform: Fixed Application.OpenURL asserting due to not freeing temporary memory. ([UUM-2205](https://issuetracker.unity3d.com/issues/backport-uwp-universal-windows-platform-build-crashes-when-using-application-dot-openurl))
    
*   Universal Windows Platform: Fixed errors when trying to use the System.Web.HttpUtility class on UWP. (UUM-4008)
    
*   Universal Windows Platform: Fixed memory leak when creating new PlayerPrefs with key that is longer than 25 characters. (UUM-4166)
    
*   URP: URP 2D - Fix Light2D upgrading issue with m\_AlphaBlendOnOverlap property ([UUM-1845](https://issuetracker.unity3d.com/issues/light-2d-alpha-blend-on-overlap-setting-does-not-update-when-upgrading-project-to-urp-11))
    
*   VFX Graph: Fixed exception when there is a GPU in subgraph and flow link in parent graph. ([UUM-571](https://issuetracker.unity3d.com/issues/vfx-property-binder-breaks-when-connecting-gpu-event-to-initialize-particle-nodes-that-are-connected-to-output-particle-nodes-1))
    
*   Video: Video player no longer suffers performance issues in windowed mode with external monitor. ([1350851](https://issuetracker.unity3d.com/issues/macos-video-loading-performance-degrades-when-app-is-in-windowed-mode-and-an-external-monitor-is-connected))
    
*   Web: Implemented Application.RequestUserAuthorization/HasUserAuthorization API:  
    [https://docs.unity3d.com/2022.1/Documentation/ScriptReference/Application.RequestUserAuthorization.html](https://docs.unity3d.com/2022.1/Documentation/ScriptReference/Application.RequestUserAuthorization.html) and sets the front facing mode of devices that don't include "front" or "back" in their label to true ([1283191](https://issuetracker.unity3d.com/issues/webgl-webcamdevice-dot-isfrontfacing-always-returns-false-on-webgl-android))
    
*   WebGL: Fixed clearing of user template variables when template is switched. ([1328657](https://issuetracker.unity3d.com/issues/webgl-template-custom-user-variables-are-cleared-when-switching-between-templates))
    
*   WebGL: Removed 255 character limit for audio file urls. ([1327368](https://issuetracker.unity3d.com/issues/webgl-build-crashes-when-requesting-255-character-url-with-unitywebrequestmultimedia-dot-getaudioclip))
    
*   Windows: Fixed Screen.currentResolution containing incorrectly rounded refresh rate. ([UUM-1512](https://issuetracker.unity3d.com/issues/windows-the-returned-screen-refresh-rate-is-rounded-down-when-calling-screen-dot-currentresolution-1))
    
*   Windows: Fixed the game window teleporting to another display on certain display setups when switching to exclusive fullscreen mode at resolution that's significantly lower than the display's native resolution. ([UUM-1513](https://issuetracker.unity3d.com/issues/screen-dot-setresolution-with-exclusivefullscreen-and-lower-than-half-the-native-resolution-moves-the-window-to-another-display))
    
*   XR: Fixed XR devices not following RunInBackground setting in Player Setting on PC standalone and playmode in Editor.

### Known Issues in 2021.3.5f1

*   AI Navigation: NavMesh::Raycast freezes the whole editor in an infinite loop on Application.UpdateScene ([UUM-2496](https://issuetracker.unity3d.com/issues/navmesh-raycast-freezes-the-whole-editor-in-an-infinite-loop-on-application-dot-updatescene))
    
*   Asset - Database: Texture size increased on first build when 'Compress Textures/Assets on Import' is enabled ([1397965](https://issuetracker.unity3d.com/issues/texture-size-increased-on-first-build-when-compress-textures-slash-assets-on-import-is-enabled))
    
*   Customer QA Onboarding: \[M1\] Crash on System.Object:\_\_icall\_wrapper\_ves\_icall\_array\_new\_specific when launching a project (UUM-3207)
    
*   HD RP: \[HDRP\] RT Shadow for Area lights do not render correctly ([UUM-5925](https://issuetracker.unity3d.com/issues/hdrp-rt-shadow-for-area-lights-do-not-render-correctly))
    
*   HD RP: \[HDRP\]\[DXR\] RT Shadows ghosts on one view when we have two cameras at the same time ([UUM-2150](https://issuetracker.unity3d.com/issues/hdrp-dxr-rt-shadows-ghosts-on-one-view-when-we-have-two-cameras-at-the-same-time))
    
*   HD RP: \[HDRP\]\[PathTracer\] Flashing at first frame blow up the automatic progressive exposure and create an overexposed converged frame when using recorder with accumulation ([UUM-2427](https://issuetracker.unity3d.com/issues/hdrp-pathtracer-flashing-at-first-frame-blow-up-the-automatic-progressive-exposure-and-create-an-overexposed-converged-frame-when-using-recorder-with-accumulation))
    
*   Linux: \[Backport\] \[Linux\] Editor crashes at "GfxDeviceGLES::DrawBuffersBatchMode" when entering Play Mode in the LEGO tutorial ([UUM-971](https://issuetracker.unity3d.com/issues/backport-linux-editor-crashes-at-gfxdevicegles-drawbuffersbatchmode-when-entering-play-mode-in-the-lego-tutorial))
    
*   Metal: Consistent EditorLoop 5-10ms spikes when using Metal API ([1378985](https://issuetracker.unity3d.com/issues/consistent-gfx-dot-waitforpresentongfxthread-5-10ms-spikes-when-using-metal-api))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Package: Empty "StreamingAssets" folder gets created after building an empty project ([1423325](https://issuetracker.unity3d.com/issues/empty-streamingassets-folder-gets-created-after-building-an-empty-project))
    
*   Physics: Crash on internalABP::ABP\_PairManager::addPair when switching to ArticulationJointType.SphericalJoint during runtime ([1418715](https://issuetracker.unity3d.com/issues/crash-on-internalabp-abp-pairmanager-addpair-when-switching-to-articulationjointtype-dot-sphericaljoint-during-runtime))
    
*   Text: \[Mac\] ShortcutManager ignores Shift modifier ([UUM-4083](https://issuetracker.unity3d.com/issues/mac-shortcutmanager-ignores-shift-modifier-1))
    

### 2021.3.5f1 Release Notes

#### Improvements

*   2D: Com.unity.2d.animation - Updated Visibility Tab documentation page.
    
*   Asset Import: Importing Models and their Materials using MaterialDescription will correctly use the glossiness value from the Material Fbx properties and applies it to the Standard Shader. ([1370645](https://issuetracker.unity3d.com/issues/glossiness-is-ignored-when-importing-fbx-materials))
    
*   Graphics: Reduced command buffer CPU overhead.
    
*   Graphics: Reduced RenderGraph CPU overhead.
    

#### Changes

*   2D: Com.unity.2d.animation - Removed the 'Open' button from Sprite Library Asset and Sprite Library Source Asset inspectors.
    
*   Serialization: Changed alignment in Resource Image transfer function from 4 to 16 bytes to improve patching results on some platforms.
    

#### Fixes

*   Android: Fixed potential crash during shutdown when using Vulkan. (1423459)
    
*   Animation: Fixed InvalidOperationException when undoing in Animator Window with empty AnimatorController. ([UUM-1853](https://issuetracker.unity3d.com/issues/backport-invalidoperationexception-is-thrown-when-undoing-changes-while-animator-window-is-opened))
    
*   Asset Import: Fixed an issue that importing Models and their Materials using MaterialDescription will correctly use the glossiness value from the Material Fbx properties and applies it to the Standard Shader in HDRP and URP. ([1370665](https://issuetracker.unity3d.com/issues/urp-smoothness-value-of-material-changes-from-0-to-0-dot-5-when-upgrading-the-material-to-urp))
    
*   Asset Import: Fixed an issue where the Model Importer remaps materials even when MaterialImportMode is None. ([1401070](https://issuetracker.unity3d.com/issues/fbx-doesnt-change-its-prefabs-material-to-default-material-after-setting-material-creation-mode-to-none))
    
*   Asset Import: Fixed internal MaterialDescription AssetPostprocessor priorities to -1000 so they don't conflict with users default implementations. ([1360618](https://issuetracker.unity3d.com/issues/fbx-setting-values-in-materialdescriptor-doesnt-work))
    
*   Asset Import: Scripted importers that use Allocator.Temp allocated memory no longer leak memory on the asset import worker.
    
*   Editor: Fixed default vertex colors for the billboard LOD vertex data for SpeedTree v8 imports. ([1417551](https://issuetracker.unity3d.com/issues/speedtree-speedtreeimporter-misses-assigning-a-proper-colour-to-billboard-vertices-resulting-in-them-being-multi-coloured))
    
*   Editor: Fixed ReorderableList first element height when the element uses PropertyDrawer. ([1409773](https://issuetracker.unity3d.com/issues/first-array-element-expansion-is-broken-for-arrays-that-use-custom-property-drawers))
    
*   Editor: Fixed spurious assembly file locking which could prevent rebuild after using the right clic "Open source code" on a test in the Test Runner window.
    
*   GI: The editor could crash in case of overlapping light probes when additively loaded scenes. This fix eliminates an attempt to deduplicate light probes with respect to positions. A warning is introduced as the lack of deduplication could cause flickering objects.
    
*   Graphics: Allowed a native Texture3D to be bigger than 2GB. (UUM-4006)
    
*   Graphics: Disabled dynamic lightmapping shader variants that have DOTS\_INSTANCING\_ON enabled.
    
*   Graphics: Fixed a crash happening when an invalid Skinned Mesh Renderer is used with Ray Tracing effects. (1404046)
    
*   Graphics: Fixed consistent Gfx.WaitForPresentOnGfxThread editor spikes when using Metal. Also fixed issue which caused the Game View FPS to drop when the editor was moved to a different display. In addition, fixed bad performance when Game View was displayed in a different window at the same time as the Scene View. (UUM-4697)
    
*   Graphics: Fixed occasional crash when compressing to ETC2 with Texture2D.Compress. ([1417802](https://issuetracker.unity3d.com/issues/unity-crashes-when-compressing-texture-with-non-power-of-2-dimension-size-texture-using-texture2d-dot-compress))
    
*   Graphics: Fixed potential stall on buffer uploads in OpenGL GfxDevice. ([1369478](https://issuetracker.unity3d.com/issues/android-consecutive-calls-to-graphics-dot-drawprocedural-take-a-huge-amount-of-time-on-mali-gpus))
    
*   Graphics: Fixed realoading of VFX Assets while inspecting a Cube Render Texture. ([1340307](https://issuetracker.unity3d.com/issues/vfxs-reimport-when-entering-play-mode-if-a-render-texture-of-dimension-cube-is-selected))
    
*   Graphics: Fixed reinitializing of a compressed, non-crunched texture. ([1401977](https://issuetracker.unity3d.com/issues/texture2d-dot-reinitialize-throws-error-when-resizing-with-a-compressed-textureformat))
    
*   Graphics: Shadow casters with different UnityPerMaterial aren't properly SRP Batched. ([1421660](https://issuetracker.unity3d.com/issues/shadow-casters-cant-be-srp-batched-when-they-have-different-unitypermaterial-values))
    
*   IL2CPP: Corrected the behavior of named pipes on Windows platforms. ([1420995](https://issuetracker.unity3d.com/issues/il2cpp-platformnotsupportedexception-when-instantiating-a-system-dot-io-dot-pipes-dot-namedpipeclientstream))
    
*   IL2CPP: Corrected the module initializer function call signature to avoid calling the wrong method on WebGL. ([1399638](https://issuetracker.unity3d.com/issues/webgl-player-freezes-on-startup-when-calling-getmonomanagerptr))
    
*   Input: Fixed Alt-Tabbing out of build leaves the Alt key pressed on return. ([1399038](https://issuetracker.unity3d.com/issues/alt-tabbing-out-of-build-leaves-the-alt-key-pressed-on-return))
    
*   Input: Fixed InputSystem.QueueStateEvent throwing exceptions when called from non-main thread. ([1348778](https://issuetracker.unity3d.com/issues/inputsystem-new-inputsystem-queuestateevent-cannot-be-called-from-another-thread))
    
*   Input: Fixed keys being stuck pressed when application regains focus on Windows Standalone, macOS with input system package. ([1361145](https://issuetracker.unity3d.com/issues/ispressed-keeps-returning-true-when-it-was-true-before-minimizing-the-build-window))
    
*   Input: Fixed mouse coordinates being incorrect until first move on Windows Standalone, Linux, macOS with input system package. ([1231907](https://issuetracker.unity3d.com/issues/mouse-coordinates-reported-as-00-until-the-first-move))
    
*   Input: Fixed PrintScreen key reported as pressed when pressing Insert/Home/Del/etc with NumLock being off with Input System package on Windows (also modified UWP and GDK). ([1359217](https://issuetracker.unity3d.com/issues/certain-input-system-keys-trigger-prtscn-with-either-numlock-on-or-off))
    
*   Input: Fixed Touchscreen.pressure being corrupted on Windows Standalone with input system package. ([1378194](https://issuetracker.unity3d.com/issues/touchscreen-dot-pressure-memory-not-cleared-leading-to-nan-value))
    
*   Kernel: Fixed an issue when attempting to load corrupted rest-certificate.pem cert would crash Unity. ([1423569](https://issuetracker.unity3d.com/issues/unity-crashes-on-stackwalker-getcurrentcallstack-when-rest-certificate-dot-pem-is-corrupted))
    
*   Linux: Fixed Linux Editor ignores mouse scroll wheel input when the cursor is locked on the new input system. ([1354498](https://issuetracker.unity3d.com/issues/linux-editor-ignores-mouse-scroll-wheel-input-when-the-cursor-is-locked-on-the-new-input-system))
    
*   Linux: Fixed Linux Editor's new input system's mouse scroll delta values clamped between -1 and 1. ([1365433](https://issuetracker.unity3d.com/issues/linux-editors-new-input-systems-mouse-scroll-delta-values-are-clamped-between-1-and-1-and-are-inverted))
    
*   Linux: Fixed player window cannot be resized when the player is started in full screen mode. ([1372700](https://issuetracker.unity3d.com/issues/linux-player-window-cant-be-resized-when-the-player-is-started-in-fullscreen-mode-and-then-changed-to-windowed))
    
*   macOS: Fixed corruption when resizing player window. ([1327755](https://issuetracker.unity3d.com/issues/macos-resizing-build-window-causes-red-background-colour-to-appear))
    
*   Mono: Fixed random crash on exit or domain reload. ([1418292](https://issuetracker.unity3d.com/issues/editor-crashes-intermittently-on-mono-object-isinst-when-closing-it-in-batch-mode-or-when-building))
    
*   Package Manager: Fixed an issue that the Package Manager window takes a while to load initially. ([1350368](https://issuetracker.unity3d.com/issues/package-manager-in-project-packages-take-a-while-to-load-initially-every-time-a-project-is-opened))
    
*   Particles: Fixed for glitching particle effects that showed up when using graphics jobs. (UUM-2577)
    
*   Profiler: Fixed failing performance tests RepaintProfilerWindowWith6VisibleCharts and RepaintProfilerWindowWith2VisibleAnd4InvisibleCharts due to unity setup coroutine timing out. (UUM-2999)
    
*   Serialization: Avoid crash during build related to assets that use SerializeReference and Garbage Collection. ([UUM-644](https://issuetracker.unity3d.com/issues/crash-on-scripting-object-get-class-when-attempting-to-build-data))
    
*   Shaders: Fixed an occasional crash when entering playmode and trying to run a compute shader. ([1413012](https://issuetracker.unity3d.com/issues/editor-crashes-in-play-mode-when-groupshared-memory-and-a-constant-buffer-value-is-used-in-a-compute-shader-on-opengles3))
    
*   uGUI: FIxed an issue that MissingReferenceException is thrown when calling Object.Destroy from a UI Button. ([1428922](https://issuetracker.unity3d.com/issues/missingreferenceexception-is-thrown-when-calling-object-dot-destroy-from-a-ui-button))
    
*   uGUI: Fixed oversized UI Sprites with Mip Stripping enabled. ([1393270](https://issuetracker.unity3d.com/issues/sprite-doubles-in-size-in-build-when-the-generate-mip-maps-enabled-in-texture-import-settings))
    
*   uGUI: Fixed UI Components causing GC Allocation when enabled. ([UUM-1807](https://issuetracker.unity3d.com/issues/backport-ui-components-cause-gc-allocation-when-enabled))
    
*   UI: Updated COPPA compliance link.
    
*   UI Toolkit: Implemented a workaround allowing UIToolkit to be rendered on buggy Adreno GPUs. ([1361189](https://issuetracker.unity3d.com/issues/opengles3-android-uitoolkit-is-not-rendered-properly-on-some-devices))
    
*   UI Toolkit: Implemented a workaround allowing UIToolkit to draw with proper color channels on buggy Adreno GPUs. ([1429559](https://issuetracker.unity3d.com/issues/uitoolkit-draws-red-into-blue-and-alpha-channels-on-some-adreno-gpus))
    
*   URP: URP 2D - Fix bug when upgrading parametric lights to freeform lights. ([UUM-1869](https://issuetracker.unity3d.com/issues/parametric-light-upgrade-doesnt-dirty-scene-so-upgrade-might-not-be-saved))
    
*   Video: Fixed a crash when importing a file in play mode. ([1305732](https://issuetracker.unity3d.com/issues/popup-about-missing-resource-file-appears-when-refreshing-asset-database-after-saving-new-mp4-slash-webm-file))
    
*   WebGL: Fixed AudioClip.GetData(). ([1369656](https://issuetracker.unity3d.com/issues/webgl-console-errors-are-thrown-when-calling-audiosource-dot-clip-dot-getdata-in-webgl-build))
    
*   WebGL: Fixed bug where some control keys were being incorrectly interpreted as text. ([1417650](https://issuetracker.unity3d.com/issues/webgl-return-key-is-captured-as-the-string-enter-when-using-keyboard-dot-ontextinput))
    
*   Windows: Fixed dragging files from Unity to other applications when the file path contains non-ASCII characters. ([1402070](https://issuetracker.unity3d.com/issues/win11-file-not-found-is-thrown-in-a-code-editor-when-dragging-a-file-from-editor-that-has-a-non-unicode-symbol-in-the-path))

### Known Issues in 2021.3.4f1

*   Android: Editor is unable to find JAVA when building an application ([UUM-2106](https://issuetracker.unity3d.com/issues/editor-is-unable-to-find-java-when-building-an-application))
    
*   Asset - Database: Texture size increased on first build when 'Compress Textures/Assets on Import' is enabled ([1397965](https://issuetracker.unity3d.com/issues/texture-size-increased-on-first-build-when-compress-textures-slash-assets-on-import-is-enabled))
    
*   Asset Bundles: Textures are not compressed when building bundles ([1412557](https://issuetracker.unity3d.com/issues/textures-not-compressed-when-building-bundles))
    
*   Graphics Device Features: Random-write to UAV texture from shadowcaster shader causes GPU hang when filtering Scene Hierarchy objects ([1417589](https://issuetracker.unity3d.com/issues/random-write-to-uav-texture-from-shadowcaster-shader-causes-gpu-hang-when-filtering-scene-hierarchy-objects))
    
*   HD RP: \[HDRP\]\[DXR\] Temporal denoising is broken up to 2021.3 in punctuals raytraced shadows ([UUM-2140](https://issuetracker.unity3d.com/issues/hdrp-dxr-temporal-denoising-is-broken-up-to-2021-dot-3-in-punctuals-raytraced-shadows))
    
*   IL2CPP: \[Android\] Build fails when building an exported project with Script Debugging enabled ([1373278](https://issuetracker.unity3d.com/issues/il2cpp-android-build-fails-when-building-an-exported-project-on-android-studio-with-script-debugging-enabled))
    
*   IMGUI: Impossible to change the Gradient's location value in the Visual Effects Graph when using the keyboard ([1420954](https://issuetracker.unity3d.com/issues/impossible-to-change-the-gradients-location-value-in-the-visual-effects-graph-when-using-the-keyboard))
    
*   Inspector Framework: First array element expansion is broken for arrays that use Custom Property Drawers ([1409773](https://issuetracker.unity3d.com/issues/first-array-element-expansion-is-broken-for-arrays-that-use-custom-property-drawers))
    
*   Kernel: Unity crashes on StackWalker::GetCurrentCallstack when rest-certificate.pem is corrupted ([1423569](https://issuetracker.unity3d.com/issues/unity-crashes-on-stackwalker-getcurrentcallstack-when-rest-certificate-dot-pem-is-corrupted))
    
*   Metal: Consistent EditorLoop 5-10ms spikes when using Metal API ([1378985](https://issuetracker.unity3d.com/issues/consistent-gfx-dot-waitforpresentongfxthread-5-10ms-spikes-when-using-metal-api))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Mono: Editor crashes intermittently on mono\_object\_isinst when closing it in batch mode or when building ([1418292](https://issuetracker.unity3d.com/issues/editor-crashes-intermittently-on-mono-object-isinst-when-closing-it-in-batch-mode-or-when-building))
    
*   Package: Empty "StreamingAssets" folder gets created after building an empty project ([1423325](https://issuetracker.unity3d.com/issues/empty-streamingassets-folder-gets-created-after-building-an-empty-project))
    
*   Physics: Crash on internalABP::ABP\_PairManager::addPair when switching to ArticulationJointType.SphericalJoint during runtime ([1418715](https://issuetracker.unity3d.com/issues/crash-on-internalabp-abp-pairmanager-addpair-when-switching-to-articulationjointtype-dot-sphericaljoint-during-runtime))
    
*   Quality of Life: \[Mac\] ShortcutManager ignores Shift modifier ([1424655](https://issuetracker.unity3d.com/issues/mac-shortcutmanager-ignores-shift-control-and-option-modifiers))
    
*   Shader System: Editor crashes in Play mode when Groupshared memory and a constant buffer value is used in a compute shader on OpenGLES3 ([1413012](https://issuetracker.unity3d.com/issues/editor-crashes-in-play-mode-when-groupshared-memory-and-a-constant-buffer-value-is-used-in-a-compute-shader-on-opengles3))
    

### 2021.3.4f1 Release Notes

#### Features

*   Graphics: Added gaze foveated rendering (GFR) on Vulkan.

#### Improvements

*   Android: Added the AssetBundle extension to the list of exceptions for gradle compression of StreamingAssets. ([1405245](https://issuetracker.unity3d.com/issues/addressables-bundles-get-compressed-in-android-builds))
    
*   Documentation: Added code snippet for Physics.ContactModifyEvent.
    
*   Services: Opting out of analytics within the editor is now available to all customers and will sync the settings with the Unity backend.
    

#### Fixes

*   2D: Fixed case where Lighting is incorrect when Sprite Atlas uses secondary Texture Normal Maps in Linear Color Space. ([1378322](https://issuetracker.unity3d.com/issues/lighting-is-incorrect-when-sprite-atlas-uses-secondary-texture-normal-maps-in-linear-color-space))
    
*   2D: Fixed Tile Palette window incorrectly preventing selection in Scene View when Tilemap Tools are inactive. ([1365564](https://issuetracker.unity3d.com/issues/gameobjects-in-the-scene-are-not-selectable-when-using-w-after-painting-with-tile-pallete))
    
*   Android: Fixed an issue to allow 2 segment package names. ([1425979](https://issuetracker.unity3d.com/issues/android-the-build-fails-when-identification-package-name-has-two-segments-one-dot))
    
*   Android: Fixed app-freezing when an application changes into multi-window(split-screen) on Chrome OS tablet mode. (1361131)
    
*   Android: Fixed Screen.resolutions to return all supported refresh rates, not only 60Hz. (1426366)
    
*   Animation: Fixed an issue where the parameter preview of the animator did not work anymore. ([1388833](https://issuetracker.unity3d.com/issues/animator-blendtree-parameters-slider-value-is-stuck-at-0-when-trying-to-move-the-slider))
    
*   Editor: Sped up drag & drop in the Project view on large projects. ([1314065](https://issuetracker.unity3d.com/issues/dragging-and-dropping-asset-in-the-inspector-is-taking-upwards-of-3-seconds-everytime))
    
*   GI: Strip shader variants with DIRLIGHTMAP\_COMBINED keyword enabled when both LIGHTMAP\_ON and DYNAMICLIGHTMAP\_ON are disabled when building the player. Directional lightmap logic is always enclosed in the more general baked or dynamic lightmap blocks. ([1307896](https://issuetracker.unity3d.com/issues/graphics-variants-which-have-dirlightmap-combined-are-not-removed-when-stripping-shader-variant-code))
    
*   Graphics: Fixed a crash when calling Graphics.RenderMesh for a Mesh that was destroyed. ([1404273](https://issuetracker.unity3d.com/issues/crash-when-calling-graphics-dot-rendermesh-for-a-mesh-that-was-destroyed))
    
*   Graphics: Fixed flickering of particle system when using Vulkan. (1417289)
    
*   IL2CPP: Fixed a crash during liveness processing when asynchronous delegate invocation is used. ([1417730](https://issuetracker.unity3d.com/issues/crash-when-running-garbagecollectsharedassets))
    
*   IL2CPP: Fixed an issue where calls to GetHashCode on value types with no instance fields would not return a stable value. ([1411455](https://issuetracker.unity3d.com/issues/il2cpp-calling-gethashcode-on-instances-of-empty-structs-does-not-return-the-same-value-in-il2cpp-builds))
    
*   IL2CPP: Fixed builds failures when doing .NET Framework API builds and referencing types in System.Drawing. ([1413051](https://issuetracker.unity3d.com/issues/il2cpp-build-fails-when-using-net-framework-api-compatibility))
    
*   IL2CPP: Fixed code generation for Enum.HasFlag when its second argument is a System.Enum type. ([1420369](https://issuetracker.unity3d.com/issues/mobile-il2cpp-build-fails-when-using-custom-script-and-target-architecture-arm64-is-selected))
    
*   IL2CPP: Fixed function pointer bugs with integer casting and signature comparisons. ([1391567](https://issuetracker.unity3d.com/issues/urp-il2cpp-build-fails-with-buildfailedexception-and-bee-library-errors-when-building-with-il2cpp-scripting-backend-enabled))
    
*   IL2CPP: Fixed invalid C++ code for unmanged function pointer call in shared generic code. (1417082)
    
*   IMGUI: Removed hard-coded color space of the gradient picker. (1383095)
    
*   Input: Fixed keyboard not working on iOS 15. ([1376970](https://issuetracker.unity3d.com/issues/keyboard-input-is-not-working-when-using-an-external-keyboard-in-ios-15))
    
*   Kernel: Fixed VirtualFileSystem tests failing in the case of short paths being returned. (1402346)
    
*   Linux: Fixed a crash at the launch on systems that does not support Vulkan and OpenGL3.2. (1372651)
    
*   Linux: Fixed input system package drop down is a blank square issue. ([1391850](https://issuetracker.unity3d.com/issues/new-input-systems-input-actions-windowss-binding-path-dropdown-is-rendered-as-an-empty-white-square-on-linux))
    
*   macOS: Enabled the Build and Run button for Apple Silicon builds in the Silicon Editor. ([1415688](https://issuetracker.unity3d.com/issues/m1-build-and-run-button-being-disabled-when-the-target-architecture-apple-silicon-is-selected-in-the-silicon-editor))
    
*   Mono: Fixed a bug where the SmtpClient would ignore the ServicePointManager's SecurityProtocol level. ([1389326](https://issuetracker.unity3d.com/issues/system-dot-net-dot-mail-dot-smtpexception-421-4-dot-7-66-tls-1-dot-0-and-1-dot-1-are-not-supported-error-is-throw-when-sending-an-email-with-smtpclient))
    
*   Mono: Fixed a crash when de-serializing managed objects that have changed field types. ([1378713](https://issuetracker.unity3d.com/issues/m1-crash-with-star-assertion-at-handle-dot-c-446-condition-m-class-is-valuetype-klass-not-met-when-deserializing-data))
    
*   Mono: Fixed a rare incremental GC crash on Windows. ([1411601](https://issuetracker.unity3d.com/issues/incremental-gc-pushes-invalid-stack-range-on-windows))
    
*   Mono: Fixed an incorrect exception being thrown via Process.Start when windows path contains '. ([1387637](https://issuetracker.unity3d.com/issues/errors-in-the-console-when-project-name-contains-apostrophe))
    
*   Mono: Fixed an issue where callstacks would not be reported on OSX. ([1411374](https://issuetracker.unity3d.com/issues/mac-stack-trace-is-not-available-after-a-crash-in-the-editor-log))
    
*   Mono: Fixed default interface method crash when using mismatched generic arguments. ([1394314](https://issuetracker.unity3d.com/issues/crash-on-assertion-condition-is-ok-error-not-met-when-entering-the-play-mode))
    
*   Mono: Fixed PlatformNotSupportedException when calling System.Security.Cryptography.ProtectedData.Protect. ([1397970](https://issuetracker.unity3d.com/issues/platformnotsupportedexception-is-thrown-when-using-system-dot-security))
    
*   Mono: Implemented ProcessStartInfo.ArgumentList which was introduced in .Net Standard 2.1. (1396842)
    
*   Mono: Improved error handling to throw a MarshalDirectiveException when marshaling generic instances as return types from pinvoke callbacks. ([1390445](https://issuetracker.unity3d.com/issues/unity-crashes-when-calling-marshal-dot-getfunctionpointerfordelegate-on-a-delegate-with-a-nullable-return-value))
    
*   Mono: Removed handling SIGINT when Mono is embedded in Unity and the Player. ([1376434](https://issuetracker.unity3d.com/issues/server-build-doesnt-respond-to-ctrl-plus-c-after-setting-console-dot-foregroundcolor))
    
*   Physics 2D: Fixed an issue in the CustomCollider2D where a shapes bounds were not updating when replacing existing shapes with different vertices only. This resulted in an incorrect collision detection for that shape. ([1425289](https://issuetracker.unity3d.com/issues/customcollidier2d-does-not-update-properly-after-call-to-setcustomshape-s))
    
*   Scene/Game View: Fixed possible argument exception when using Scene Visibility API. ([1288443](https://issuetracker.unity3d.com/issues/argumentexception-the-scene-is-not-loaded-when-test-runs-and-the-editor-does-not-have-focus))
    
*   Scripting: Fixed a case where the type of generic fields inside generic classes would fail to get resolved when building the project. (1415422)
    
*   Scripting: Fixed filtering of assemblies by platform constraints not working and by defines. ([1373388](https://issuetracker.unity3d.com/issues/found-plugins-with-same-names-error-is-thrown-for-the-microsoft-extensions-logging-package-when-building-on-android-platform))
    
*   Serialization: Fixed a crash when deserializing a Prefab instance containing a resize on an array containing a nested type with a Fixed Buffer. ([1400774](https://issuetracker.unity3d.com/issues/editor-crash-when-deserializing-an-array-of-a-type-with-a-nested-fixed-size-buffer-field))
    
*   Shaders: Fixed a crash when warming up a shader variant collection that had a shader with UsePass. ([1407692](https://issuetracker.unity3d.com/issues/crash-on-shaderlab-program-getmatchingsubprogram-after-entering-play-mode))
    
*   Shaders: Fixed include dependencies being reported incorrectly when guarded by defines that depend on keywords. ([1401580](https://issuetracker.unity3d.com/issues/editing-shader-includes-does-not-guarantee-shaders-being-updated-when-changes-are-made-in-script))
    
*   Shaders: Fixed redundant shader variant recompilation after Editor relaunch. ([1425799](https://issuetracker.unity3d.com/issues/some-shaders-are-recompiled-when-building-the-player-after-each-editor-launch))
    
*   Shaders: Fixed ShaderKeywordSet.Disable not disabling keywords. ([1417644](https://issuetracker.unity3d.com/issues/shader-keyword-is-not-disabled-when-calling-shaderkeywordset-dot-disable))
    
*   uGUI: Fixed RectMask2D using the wrong Canvas for calculations after it was reparented. ([1395695](https://issuetracker.unity3d.com/issues/rectmask2d-hides-all-content-when-parented-from-other-display-to-first-dislpay-in-the-game-view-window))
    
*   UI Toolkit: Fixed the preview texture of linear gradients in gamma projects. ([1369425](https://issuetracker.unity3d.com/issues/shadergraph-getting-a-smaller-gradient-than-generated-code-example-when-using-default-gradient-node))
    
*   Universal: Fixed an issue that preview cameras no longer spam errors on the first frame of rendering. ([1393818](https://issuetracker.unity3d.com/issues/urp-errors-are-spammed-after-entering-play-mode-in-sunflare-scene-and-navigating-the-project-view))
    
*   URP: Fixed an issue of Renderer2D using the incorrect render path when lights are out of the scene view. ([1400566](https://issuetracker.unity3d.com/issues/2d-urp-gameobjects-become-unlit-when-moving-2d-light-out-of-the-scene-view))
    
*   URP: Fixed errors when using Native RenderPass and Render Objects feature after Post Processing.
    
*   URP: Fixed smooth material lighting banding issues on mobile platforms. ([1375791](https://issuetracker.unity3d.com/issues/mobile-urp-banding-like-artifacts-are-visible-when-smooth-material-is-lit-by-light))
    
*   VFX Graph: Fixed an issue that in `Output Particle` blocks, shader graph exposed properties order is now consistent with shader graph blackboard. (1398256)
    
*   Video: Fixed an issue that Video's Alpha not transparent when built with WebGL. ([1397499](https://issuetracker.unity3d.com/issues/videos-alpha-not-transparent-when-built-with-webgl))
    
*   WebGL: Fixed WebGL build in the Linux editor to include default resources. ([1411380](https://issuetracker.unity3d.com/issues/linux-webgl-build-crashes-every-time-when-using-unity-editor-on-linux))
    
*   XR: Fixed Unity VR Splash screen not showing up on UWP.

### Known Issues in 2021.3.3f1

*   Asset - Database: Texture size increased on first build when 'Compress Textures/Assets on Import' is enabled ([1397965](https://issuetracker.unity3d.com/issues/texture-size-increased-on-first-build-when-compress-textures-slash-assets-on-import-is-enabled))
    
*   Asset Bundles: Textures are not compressed when building bundles ([1412557](https://issuetracker.unity3d.com/issues/textures-not-compressed-when-building-bundles))
    
*   DirectX11: Crash on GfxDeviceD3D11Base::ResolveDepthIntoTexture when opening the project ([1408785](https://issuetracker.unity3d.com/issues/crash-on-gfxdeviced3d11base-resolvedepthintotexture-when-opening-the-project))
    
*   Graphics Device Features: Random-write to UAV texture from shadowcaster shader causes GPU hang when filtering Scene Hierarchy objects ([1417589](https://issuetracker.unity3d.com/issues/random-write-to-uav-texture-from-shadowcaster-shader-causes-gpu-hang-when-filtering-scene-hierarchy-objects))
    
*   IL2CPP: \[Mobile\] \[IL2CPP\] Build fails when using custom script and target architecture ARM64 is selected ([1420369](https://issuetracker.unity3d.com/issues/mobile-il2cpp-build-fails-when-using-custom-script-and-target-architecture-arm64-is-selected))
    
*   IMGUI: Impossible to change the Gradient's location value in the Visual Effects Graph when using the keyboard ([1420954](https://issuetracker.unity3d.com/issues/impossible-to-change-the-gradients-location-value-in-the-visual-effects-graph-when-using-the-keyboard))
    
*   Inspector Framework: First array element expansion is broken for arrays that use Custom Property Drawers ([1409773](https://issuetracker.unity3d.com/issues/first-array-element-expansion-is-broken-for-arrays-that-use-custom-property-drawers))
    
*   Kernel: Unity crashes on StackWalker::GetCurrentCallstack when rest-certificate.pem is corrupted ([1423569](https://issuetracker.unity3d.com/issues/unity-crashes-on-stackwalker-getcurrentcallstack-when-rest-certificate-dot-pem-is-corrupted))
    
*   Linux: Editor crashes at "GfxDeviceGLES::DrawBuffersBatchMode" when entering Play Mode in the LEGO tutorial ([1423683](https://issuetracker.unity3d.com/issues/linux-editor-crashes-at-gfxdevicegles-drawbuffersbatchmode-when-entering-play-mode-in-the-lego-tutorial))
    
*   Linux: New Input System's Input Actions windows's Binding Path dropdown is rendered as an empty white square on Linux ([1391850](https://issuetracker.unity3d.com/issues/new-input-systems-input-actions-windowss-binding-path-dropdown-is-rendered-as-an-empty-white-square-on-linux))
    
*   Metal: Consistent EditorLoop 5-10ms spikes when using Metal API ([1378985](https://issuetracker.unity3d.com/issues/consistent-gfx-dot-waitforpresentongfxthread-5-10ms-spikes-when-using-metal-api))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Mono: Editor crashes intermittently on mono\_object\_isinst when closing it in batch mode or when building ([1418292](https://issuetracker.unity3d.com/issues/editor-crashes-intermittently-on-mono-object-isinst-when-closing-it-in-batch-mode-or-when-building))
    
*   Mono: \[Android\] "Found plugins with same names" error is thrown when building on Android with duplicate .dll files ([1373388](https://issuetracker.unity3d.com/issues/found-plugins-with-same-names-error-is-thrown-for-the-microsoft-extensions-logging-package-when-building-on-android-platform))
    
*   Package: Crash on TcpProtobufClient::EndBatch when creating a Prefab and Cache Server is disconnected ([1383891](https://issuetracker.unity3d.com/issues/crash-on-tcpprotobufclient-endbatch-when-creating-a-prefab-and-cache-server-is-disconnected))
    
*   Package: Empty "StreamingAssets" folder gets created after building an empty project ([1423325](https://issuetracker.unity3d.com/issues/empty-streamingassets-folder-gets-created-after-building-an-empty-project))
    
*   Package: Unity crashes in batch mode when using -vcsMode Perforce ([1396449](https://issuetracker.unity3d.com/issues/unity-crashes-in-batch-mode-when-using-vcsmode-perforce))
    
*   Physics: Crash on internalABP::ABP\_PairManager::addPair when switching to ArticulationJointType.SphericalJoint during runtime ([1418715](https://issuetracker.unity3d.com/issues/crash-on-internalabp-abp-pairmanager-addpair-when-switching-to-articulationjointtype-dot-sphericaljoint-during-runtime))
    
*   Progressive Lightmapper: \[GPU PLM\] OpenCL shader loading time in the new projects has become significantly slower ([1389752](https://issuetracker.unity3d.com/issues/gpu-plm-opencl-shader-loading-time-in-the-new-projects-has-become-significantly-slower))
    
*   Quality of Life: \[Mac\] ShortcutManager ignores Shift modifier ([1424655](https://issuetracker.unity3d.com/issues/mac-shortcutmanager-ignores-shift-control-and-option-modifiers))
    
*   Serialization: Editor crash when deserializing an array of a type with a nested fixed-size buffer field ([1400774](https://issuetracker.unity3d.com/issues/editor-crash-when-deserializing-an-array-of-a-type-with-a-nested-fixed-size-buffer-field))
    
*   Shader System: Editor crashes in Play mode when Groupshared memory and a constant buffer value is used in a compute shader on OpenGLES3 ([1413012](https://issuetracker.unity3d.com/issues/editor-crashes-in-play-mode-when-groupshared-memory-and-a-constant-buffer-value-is-used-in-a-compute-shader-on-opengles3))
    
*   Shadows/Lights: Scene is brighter in Standalone player if it was open in the Editor at build time ([1375015](https://issuetracker.unity3d.com/issues/scene-is-brighter-in-standalone-player-if-it-was-open-in-the-editor-at-build-time))
    
*   Web Platform: \[Linux\] Webgl build crashes every time when using Unity Editor on Linux ([1411380](https://issuetracker.unity3d.com/issues/linux-webgl-build-crashes-every-time-when-using-unity-editor-on-linux))
    

### 2021.3.3f1 Release Notes

#### Features

*   Asset Pipeline: Accelerator Corruption Detection

#### Improvements

*   Android: Bump Android Logcat package to 1.3.2 version.

#### Changes

*   iOS: Changed how selection is handled if it's set before the on screen keyboard has showed up.
    
*   Package: com.unity.purchasing version updated to 4.1.4
    

#### Fixes

*   2D: Fixed issue where Sprite reference might be lost after upgrading. ([1398401](https://issuetracker.unity3d.com/issues/sprite-references-are-missing-in-the-sprite-renderer-when-importing-sprite-sheets-created-in-earlier-versions-of-the-editor))
    
*   Android: Fixed a Unity Audio bug related to Bluetooth audio. This was causing issues with Vivox, and possibly other 3rd part audio libraries, with Bluetooth functionality. On Android, Bluetooth audio state is basically global, so Unity Audio now only makes the bare minimum changes to this state. We may still call startBluetoothSco and stopBluetoothSco when starting or re-initializing the audio output engine and when starting/stopping the Unity microphone. We may also call AudioManager.setMode when starting/stopping a Bluetooth mic through the Unity microphone APIs, but that's it. (1418634)
    
*   Asset Import: Changing texture shape no longer causes NullReferenceExceptions. ([1355120](https://issuetracker.unity3d.com/issues/nullreferenceexception-when-changing-texture-shape))
    
*   Asset Import: Upgraded boost::asio version to v1.20.0. (1408567)
    
*   Build System: Removed legacy project file causing issues when opened through VSCode's Omnisharp. (1389396)
    
*   Editor: Fixed crash when calling GUIClip.SetMatrix early in the domain reload. ([1332043](https://issuetracker.unity3d.com/issues/editor-graphview-unity-crashes-entering-play-mode-when-custom-editor-window-is-open))
    
*   Editor: Fixed editor freezes for a moment when moved from one screen to another with different resolution scale. ([1322959](https://issuetracker.unity3d.com/issues/editor-is-repainted-and-freezes-for-a-moment-when-moved-from-one-screen-to-another-with-different-resolution-scale))
    
*   Editor: Fixed editor mode shortcut of custom commands not working. (1421416)
    
*   Editor: Fixed occasional missed mouse messages in the Windows Editor when the cursor is locked. ([1365651](https://issuetracker.unity3d.com/issues/input-system-right-mouse-button-waspressedthisframe-is-false-when-left-mouse-button-is-held-down))
    
*   Editor: Fixed ReorderableList custom element height callback exception when there are no elements in the list. ([1399803](https://issuetracker.unity3d.com/issues/reorderablelist-out-of-bounds-exeception))
    
*   Editor: \[SpeedTree\] High poly SpeedTrees do not import correctly. (1364523)
    
*   GI: Fixed a bug where additively loading a scene could cause lighting data assets to be altered, and new lighting data assets to be created. (1381583)
    
*   Graphics: Fixed overlay camera stacking is not working on MacOS when using OpenGLCore with MSAA. ([1250331](https://issuetracker.unity3d.com/issues/macos-overlay-camera-stacking-is-not-working-when-using-openglcore))
    
*   Graphics: Fixed validation error on Vulkan when transitioning layout from VK\_IMAGE\_LAYOUT\_PRESENT\_SRC\_KHR. (1380371)
    
*   HDRP: Fixed a leak when creating and destroying manually reflection probes. ([1394192](https://issuetracker.unity3d.com/issues/hdrp-memory-leak-when-destroying-reflection-probes))
    
*   HDRP: Fixed NaNs in volumetric clouds on consoles. (1419211)
    
*   HDRP: Fixed prefab mode context visibility not hiding custom passes, decals, and local volumetric fog objects. ([1395948](https://issuetracker.unity3d.com/issues/custompass-with-custompassutils-dot-renderfromcamera-is-inconsistent-in-prefab-mode))
    
*   iOS: Fixed Input Field caret jumping when Hide Mobile Input is used. ([1415962](https://issuetracker.unity3d.com/issues/ios-caret-is-getting-placed-in-the-middle-of-a-text-when-typing-quickly-when-input-fields-hide-mobile-input-is-on))
    
*   iOS: Fixed occasional xcode 13.3 build fail due to "a cyclic reference". ([1418416](https://issuetracker.unity3d.com/issues/ios-cyclic-references-are-detected-when-building-with-xcode-13-dot-3))
    
*   Linux: Fixed editor crash on startup when opened on machines with certain Intel MESA cards. ([1375312](https://issuetracker.unity3d.com/issues/linux-editor-crashes-at-assert-fail-base-dot-cold-when-opening-a-project))
    
*   Linux: Fixed linux playmode window from processing multiple mouse events on each mouse click event. ([1337545](https://issuetracker.unity3d.com/issues/ui-toolkit-mouse-click-and-down-events-are-called-twice-on-a-single-click-on-linux))
    
*   Linux: Fixed maximizing of playmode window on linux while trying to change tabs to scene view. ([1407426](https://issuetracker.unity3d.com/issues/linux-trying-to-switch-to-scene-from-game-window-while-in-play-mode-instead-maximizes-the-game-window-on-centos))
    
*   Linux: Fixed Shift + Tab keyboard input to support backwards navigation in Linux editor text fields. ([1396671](https://issuetracker.unity3d.com/issues/previous-field-isnt-being-selected-when-shift-plus-tab-keybind-is-used))
    
*   macOS: Fixed flicker in splash screen when using OpenGL. (1396489)
    
*   macOS: Fixed OSX sending a Return keycode event when return was pressed to confirm an IME string. ([1381684](https://issuetracker.unity3d.com/issues/tmp-input-field-submits-empty-string-when-a-correction-from-correction-window-is-selected))
    
*   macOS: MoveMainWindowTo no longer fails to switch screens when monitors are scaled. (1417303)
    
*   Mobile: Added a new Player setting "Reset resolution on window resize" to reset resolution when native window is resized. (1393410)
    
*   Networking: UnityWebRequest: fix support for System.Uri with file path containing spaces and plus characters (both at the same time). ([1367599](https://issuetracker.unity3d.com/issues/unitywebrequest-returns-http-slash-1-dot-1-404-not-found-if-uri-contains-plus-plus-character-followed-by-space-character))
    
*   Particles: Fixed ringbuffer mode to work properly with pause-and-catchup culling mode. ([1385616](https://issuetracker.unity3d.com/issues/culling-resets-particle-system-when-using-ring-buffer-pause-until-replaced-and-culling-pause-and-catch-up))
    
*   Profiler: Fixed Asset Loading Profiler module Hierarchy sorting. (1369190)
    
*   Profiler: Fixed issue where Mesh memory usage was not being updated when applying new MeshData with Mesh.ApplyAndDisposeWritableMeshData. ([1377773](https://issuetracker.unity3d.com/issues/memory-profiler-results-reports-wrong-mesh-size-when-generating-it-with-jobs))
    
*   Scripting: Removed outdated System.Reactive extensions from .Net 4.8 profile. ([1407597](https://issuetracker.unity3d.com/issues/ambiguous-method-error-when-asmdef-only-targets-editor))
    
*   Search: Fixed a ThreadAbortException when creating multiple C# scripts in quick succession. ([1398886](https://issuetracker.unity3d.com/issues/threadabortexception-is-thrown-when-creating-a-c-number-script-before-the-editor-compiled-a-recently-created-one))
    
*   Search: Fixed Advanced Object Picker does not persist settings in context menu. ([1417074](https://issuetracker.unity3d.com/issues/advanced-object-picker-does-not-persist-settings-in-context-menu))
    
*   Search: Fixed failure while loading a search index concurrently. ([1417609](https://issuetracker.unity3d.com/issues/search-fail-to-load-the-search-index-concurrently))
    
*   Search: Fixed quick Search does not find all files (when _temp_ is part of the folder name). ([1409878](https://issuetracker.unity3d.com/issues/quick-search-does-not-find-all-files))
    
*   Search: Fixed search freeze Unity if opening query block selector and if the scene provider is still searching for some results. ([1411739](https://issuetracker.unity3d.com/issues/search-freeze-unity-if-opening-query-block-selector-if-the-scene-provider-is-still-searching-for-some-results))
    
*   Search: Fixed thumbnails in Search window (with inspector panel turned on) changing when selected. (1402123)
    
*   Search: Fixed unwanted warning shown when loading URP converters. (1410719)
    
*   Source Code Build: Don't strip PlatformDependent/UnixCommon from source code releases.
    
*   Source Code Build: Fixed ProjectFile dependency breakage for source code customers.
    
*   uGUI: Fixed incorrect input coordinates when using multiple displays and the main display had a non native resolution. ([1141732](https://issuetracker.unity3d.com/issues/buttons-hitbox-is-offset-when-building-standalone-project-for-two-screens))
    
*   uGUI: Fixed InputField not correctly handling IME input when return was pressed. ([1349037](https://issuetracker.unity3d.com/issues/macos-input-field-clears-chinese-slash-japanese-slash-korean-input-when-pressing-enter))
    
*   UI Toolkit: Fixed issue when item is removed from hierarchy while the pointer is still in a captured state. ([1389285](https://issuetracker.unity3d.com/issues/button-is-disabled-after-changing-display-style-to-none-while-using-slider-dragger))
    
*   UI Toolkit: Fixed possible NullReferenceException in BaseTreeView.OnViewDataReady. (1401264)
    
*   UI Toolkit: Theme Style Sheet doesn't update when it has been changed more than once through script. ([1377689](https://issuetracker.unity3d.com/issues/ui-toolkit-theme-style-sheet-doesnt-update-when-it-has-been-changed-more-than-once-through-script))
    
*   Universal: Fixed spot and point light harsh distance falloff artefact on some platforms due to fp16 precision issue. (1416456)
    
*   Universal: Fixed \_InternalLut being released too early and logging warnings when using post-processing in stacked camera's in URP 2D. ([1378811](https://issuetracker.unity3d.com/issues/2d-urp-warning-message-in-game-view-when-using-post-processing-on-a-camera-stack))
    
*   Universal: Reverted behavior to allow FinalBlit being skipped when the user has no ScriptableRenderPasses with "AfterRendering" as renderEvent while finalPostProcessing is not needed. (1407414)
    
*   WebGL: Fixed automatic playback of compressed audio. ([1395655](https://issuetracker.unity3d.com/issues/audiosource-with-playonawake-equals-true-doesnt-start-playing-when-the-load-type-of-the-audio-clip-is-set-to-compressed-in-memory))
    
*   Windows: Fixed mouse button occasional becoming stuck in "down" state when running in Play Mode. ([1405273](https://issuetracker.unity3d.com/issues/input-system-sometimes-does-not-fire-canceled-event-on-left-click-action))
    
*   XR: Updated the verified AR Foundation related packages to 4.2.3. Please see the AR Foundation package changelog for details.

### Known Issues in 2021.3.2f1

*   Asset - Database: Texture size increased on first build when 'Compress Textures/Assets on Import' is enabled ([1397965](https://issuetracker.unity3d.com/issues/texture-size-increased-on-first-build-when-compress-textures-slash-assets-on-import-is-enabled))
    
*   Asset Bundles: Textures are not compressed when building bundles ([1412557](https://issuetracker.unity3d.com/issues/textures-not-compressed-when-building-bundles))
    
*   DirectX11: Crash on GfxDeviceD3D11Base::ResolveDepthIntoTexture when opening the project ([1408785](https://issuetracker.unity3d.com/issues/crash-on-gfxdeviced3d11base-resolvedepthintotexture-when-opening-the-project))
    
*   DirectX11: Random-write to UAV texture from shadowcaster shader causes GPU hang when filtering Scene Hierarchy objects ([1417589](https://issuetracker.unity3d.com/issues/random-write-to-uav-texture-from-shadowcaster-shader-causes-gpu-hang-when-filtering-scene-hierarchy-objects))
    
*   IL2CPP: \[Mobile\] \[IL2CPP\] Build fails when using custom script and target architecture ARM64 is selected ([1420369](https://issuetracker.unity3d.com/issues/mobile-il2cpp-build-fails-when-using-custom-script-and-target-architecture-arm64-is-selected))
    
*   IMGUI: Impossible to change the Gradient's location value in the Visual Effects Graph when using the keyboard ([1420954](https://issuetracker.unity3d.com/issues/impossible-to-change-the-gradients-location-value-in-the-visual-effects-graph-when-using-the-keyboard))
    
*   Linux: Editor crashes at "GfxDeviceGLES::DrawBuffersBatchMode" when entering Play Mode in the LEGO tutorial ([1423683](https://issuetracker.unity3d.com/issues/linux-editor-crashes-at-gfxdevicegles-drawbuffersbatchmode-when-entering-play-mode-in-the-lego-tutorial))
    
*   Linux: Editor crashes at "\_\_assert\_fail\_base.cold" when opening a project (Linux) ([1375312](https://issuetracker.unity3d.com/issues/linux-editor-crashes-at-assert-fail-base-dot-cold-when-opening-a-project))
    
*   Linux: New Input System's Input Actions windows's Binding Path dropdown is rendered as an empty white square on Linux ([1391850](https://issuetracker.unity3d.com/issues/new-input-systems-input-actions-windowss-binding-path-dropdown-is-rendered-as-an-empty-white-square-on-linux))
    
*   Metal: Consistent EditorLoop 5-10ms spikes when using Metal API ([1378985](https://issuetracker.unity3d.com/issues/consistent-gfx-dot-waitforpresentongfxthread-5-10ms-spikes-when-using-metal-api))
    
*   Mono: Crash with ScanAssemblyForAttributesAndInterfaceImplementations when opening a project ([1376858](https://issuetracker.unity3d.com/issues/crash-with-scanassemblyforattributesandinterfaceimplementations-when-opening-a-project))
    
*   Mono: \[Android\] "Found plugins with same names" error is thrown when building on Android with duplicate .dll files ([1373388](https://issuetracker.unity3d.com/issues/found-plugins-with-same-names-error-is-thrown-for-the-microsoft-extensions-logging-package-when-building-on-android-platform))
    
*   Package: Unity crashes in batch mode when using -vcsMode Perforce ([1396449](https://issuetracker.unity3d.com/issues/unity-crashes-in-batch-mode-when-using-vcsmode-perforce))
    
*   Physics: Crash on internalABP::ABP\_PairManager::addPair when switching to ArticulationJointType.SphericalJoint during runtime ([1418715](https://issuetracker.unity3d.com/issues/crash-on-internalabp-abp-pairmanager-addpair-when-switching-to-articulationjointtype-dot-sphericaljoint-during-runtime))
    
*   Quality of Life: ReorderableList out of bounds exeception ([1399803](https://issuetracker.unity3d.com/issues/reorderablelist-out-of-bounds-exeception))
    
*   Quality of Life: \[Mac\] ShortcutManager ignores Shift modifier ([1424655](https://issuetracker.unity3d.com/issues/mac-shortcutmanager-ignores-shift-control-and-option-modifiers))
    
*   Scene/Game View: Game Object Material starts flickering when dragging new material over other Game Object that touches first Object ([1423053](https://issuetracker.unity3d.com/issues/game-object-material-starts-flickering-when-dragging-new-material-over-other-game-object-that-touches-first-object))
    
*   Search: Fail to load the search index concurrently ([1417609](https://issuetracker.unity3d.com/issues/search-fail-to-load-the-search-index-concurrently))
    
*   Serialization: Editor crash when deserializing an array of a type with a nested fixed-size buffer field ([1400774](https://issuetracker.unity3d.com/issues/editor-crash-when-deserializing-an-array-of-a-type-with-a-nested-fixed-size-buffer-field))
    
*   Shader System: Editor crashes in Play mode when Groupshared memory and a constant buffer value is used in a compute shader on OpenGLES3 ([1413012](https://issuetracker.unity3d.com/issues/editor-crashes-in-play-mode-when-groupshared-memory-and-a-constant-buffer-value-is-used-in-a-compute-shader-on-opengles3))
    
*   Shadows/Lights: Scene is brighter in Standalone player if it was open in the Editor at build time ([1375015](https://issuetracker.unity3d.com/issues/scene-is-brighter-in-standalone-player-if-it-was-open-in-the-editor-at-build-time))
    
*   Texture: File could not be read error is thrown when a 16 bit .tif file is present in the project ([1404047](https://issuetracker.unity3d.com/issues/file-could-not-be-read-error-is-thrown-when-a-16-bit-tif-file-is-present-in-the-project))
    
*   Version Control: Crash on TcpProtobufClient::EndBatch when creating a Prefab and Cache Server is disconnected ([1383891](https://issuetracker.unity3d.com/issues/crash-on-tcpprotobufclient-endbatch-when-creating-a-prefab-and-cache-server-is-disconnected))
    
*   Web Platform: \[Linux\] Webgl build crashes every time when using Unity Editor on Linux ([1411380](https://issuetracker.unity3d.com/issues/linux-webgl-build-crashes-every-time-when-using-unity-editor-on-linux))
    
*   WebGL: WebGL Input System interactions are delayed or played preemptively when the project is built ([1405517](https://issuetracker.unity3d.com/issues/webgl-input-system-interactions-are-delayed-or-played-preemptively-when-the-project-is-built))
    

### 2021.3.2f1 Release Notes

#### Features

*   Version Control: Added "Switch to changeset" menu option in changesets view  
    Added "Go back to changeset" menu option in changesets view

#### Improvements

*   Graphics: Using memoryless MSAA now also applies to the MSAA attachment when depth resolve is used
    
*   License: show proper license error dialog when editor is opened with a build license
    

#### API Changes

*   iOS: Added: Added iPad Air 5 and iPhone SE 3 to devices.

#### Changes

*   Services: UGS packages are now available in the Package Manager
    
*   Version Control: Removed category icons from views  
    Removed "com.unity.services.core" package dependency
    
*   XR: The Oculus XR Plugin package has been updated to 3.0.1.
    
*   XR: Updated OpenXR Package to 1.4.0
    

#### Fixes

*   2D: \[com.unity.2d.animation\] Fixed an issue when Skinning Editor will lose reference after exiting Play mode. (1405289)
    
*   2D: \[com.unity.2d.animation\] Fixed an issue where moving vertices in the Skinning Editor might result in invalid edges (1386153)
    
*   2D: \[com.unity.2d.animation\] Fixed an issue where the SpriteSkin components would not get initialized on editor launch. (1401139)
    
*   2D: \[com.unity.2d.animation\] Sprite Library cannot reference itself in the Main Library field or any asset that references it. (1401464)
    
*   2D: \[com.unity.2d.tilemap.extras\] \[AnimatedTileEditor\] Fix undo when setting number of Sprites for Animated Tile.
    
*   2D: \[com.unity.2d.tilemap.extras\] \[RuleTileEditor\] Fix undo when setting number of Rules for Rule Tile.
    
*   2D: \[com.unity.2d.tilemap.extras\] \[RuleTileEditor\] Use different text color for Extend Neighbors with dark and light skin.
    
*   2D: \[com.unity.2d.tilemap.extras\] \[RuleTile\] Fix data for custom container fields not being transferred in RuleOverrideTiles overriding a Custom Rule Tile.
    
*   Android: Added Initial launch size metadata into AndroidManifest.xml for Chrome OS devices with Android R or higher installed. (1360064)
    
*   Android: Fix build failure when you had .androidlib plugin in a package. ([1394476](https://issuetracker.unity3d.com/issues/android-build-fails-when-upm-package-dependency-contains-custom-androidlib))
    
*   Android: Fixed a bug with Unity UGUI and UI Elements input fields, where switching languages dynamically and IME functionality was not working. ([1395812](https://issuetracker.unity3d.com/issues/android-bluetooth-keyboard-can-only-type-in-english-when-keyboard-language-is-changed-to-any-other-language))
    
*   Android: Fixed XR subsystem initialization in case of app bundle + asset packs. ([1392895](https://issuetracker.unity3d.com/issues/android-xr-tracking-is-not-working-when-building-app-bundle-with-split-application-binary-enabled))
    
*   Asset Bundles: Ensure that padding is added after blocks info so that Switch patching works appropriately. This fix implies that loading newly generated AssetBundles will require using this new Unity editor/runtime combination. ([1403996](https://issuetracker.unity3d.com/issues/files-within-assetbundles-do-not-start-on-aligned-boundaries-breaking-patching-on-nintendo-switch))
    
*   Build System: Dedicated server build will not inadvertently strip mesh data from meshes used for collision. ([1399961](https://issuetracker.unity3d.com/issues/dedicated-server-data-from-mesh-colliders-are-stripped-in-dedicated-server-builds))
    
*   DX12: - Offset binding support for cbuffers disabled from SystemInfo on DX12 as it has never been supported, full implementation is upcoming. ([1381731](https://issuetracker.unity3d.com/issues/painting-terrain-details-result-in-a-crash-when-using-directx12))
    
*   Editor: Backport bug fix from 2022.2: Executing Build And Run with Dedicated Server platform now opens terminal window on Linux and macOS.
    
*   Editor: Ensured that the Application Identifier errors and warnings are shown in the correct cases. (1382818)
    
*   Editor: Fixed an issue where the "Install into source code 'build' folder" would not build in the source code folder. (1366021)
    
*   Editor: Fixed crash that could occur when docking a window, if its size is momentarily zero. ([1397003](https://issuetracker.unity3d.com/issues/unity-editor-crashes-when-docking-one-editorwindow-to-the-side-of-a-docked-window))
    
*   Editor: Fixed incorrect screen size when dragging in the prefab stage. ([1394756](https://issuetracker.unity3d.com/issues/prefab-is-glitchy-when-editing-in-prefab-mode-in-a-custom-ui-environment))
    
*   Editor: Fixed the validation of the Application Identifier.
    
*   Editor: Fixed tooltips not being resolved when using a custom label that does not contain a tooltip. ([1415921](https://issuetracker.unity3d.com/issues/tooltips-are-not-shown-when-hovering-over-name-of-the-value-in-the-inspector))
    
*   Editor: Fixing issue where if the Gameview was a fixed size, upon opening the editor the the Gameview was in the background it wouldn't update its size value properly. ([1378321](https://issuetracker.unity3d.com/issues/camera-resolution-is-set-to-default-when-opening-the-editor))
    
*   GI: Fixed NaN artifacts that were sometimes appearing in lightmap when sampling a rectangle light. ([1360935](https://issuetracker.unity3d.com/issues/hdrp-light-artifacts-are-generated-in-the-scene-when-the-number-of-samples-is-more-than-400))
    
*   Graphics: Fix global UAVs is Ray Tracing shaders (e.g. closesthit shader) generating errors in the console window when used. ([1411409](https://issuetracker.unity3d.com/issues/dxr-global-uavs-dont-work-in-ray-tracing-shaders))
    
*   Graphics: Fix redundant store of depth buffer MSAA samples to memory on Quest when depth resolve is used. (1413086)
    
*   Graphics: Fixed a missing API documentation on the Graphics Core Package.
    
*   Graphics: Fixed mipmap streaming issue that could happen in projects where Quality Setting "Texture Quality" specifies a texture mipmap level of lower resolution that the one set in Quality Setting "Texture Streaming / Max Level Reduction" (case 1417480) (1410879)
    
*   Graphics: Fixed wrong RT discarding on metal when using CommandBuffers in OnRenderImage. ([1395106](https://issuetracker.unity3d.com/issues/ios-next-camera-is-prevented-from-rendering-in-stack-when-precommand-buffer-is-used-for-post-processing-in-main-camera))
    
*   Graphics: Universal backport for missing shader keyword using shader graph with deferred rendering. ([1372326](https://issuetracker.unity3d.com/issues/dark-band-on-the-scene-objects-when-using-deferred-rendering-and-custom-shader-made-with-shader-graph))
    
*   HDRP: Fixed an issue with overlay queued shaders not rendering in HDRP (case 1400281). ([1379399](https://issuetracker.unity3d.com/issues/hdrp-meshes-with-overlay-render-queue-tag-are-not-rendered))
    
*   HDRP: Fixed decal normal overwriting normal map when normal blending is enabled. (1400660)
    
*   HDRP: Fixed volumetric fog being clamped by the max shadow distance on metal. (1419758)
    
*   HDRP: Improved robustness of path tracing dirtiness check. ([1401691](https://issuetracker.unity3d.com/issues/hdrp-unity-editor-crashes-due-to-path-tracing-checkdirtiness-when-previewing-scenes))
    
*   IL2CPP: Workaround the Clang 12+ bug that could surface with IL2CPP by changing the Hash128 constructor code. (1422065)
    
*   iOS: Prioritised the connected device for Xcode's run destination when building & running an iOS project on Apple Silicon. ([1402105](https://issuetracker.unity3d.com/issues/ios-build-and-run-for-ios-project-fails-on-apple-silicon-because-xcode-selects-my-mac-as-the-target-device))
    
*   License: Increase timeouts of license client and disable signature validation.
    
*   macOS: Fixed "Already have uncommitted encoder" error present under some circumstances. (1400691)
    
*   Networking: UnityWebRequest: filter error display in players Developer console the same way as in Editor. (1413106)
    
*   Package Manager: Fixed an issue where in "My Assets" tab, some package thumbnails lead to wrong target URLs.
    
*   Package Manager: Fixed an issue where UPM would hang for five seconds when exiting. (1409591)
    
*   Profiler: Added option to disable GPU ProfilerRecorders on OpenGL, which otherwise block the "GPU Usage" Profiler module. ([1359552](https://issuetracker.unity3d.com/issues/profiler-quest-gpu-usage-is-not-being-reported-on-oculus-quest))
    
*   Scene/Game View: Fixed Overlays layout not maintained after domain reload. (1410898)
    
*   Scripting: Fixed an editor crash when loading a precompiled assembly compiled with a compiler lacking "ref struct" support.
    
*   Scripting: Ignore hidden sequence points when calling Coverage.GetSequencePointsFor. ([1415957](https://issuetracker.unity3d.com/issues/0xfeefee-sequence-point-line-causes-editor-to-stuck))
    
*   Shaders: Changing line endings in shaders or include files will no longer cause recompilation of variants. ([1415557](https://issuetracker.unity3d.com/issues/line-ending-changes-in-shaders-or-includes-cause-full-shader-recompiles))
    
*   Shaders: Compute shader compilation progress bar no longer gets stuck. (1415495)
    
*   Shaders: Fixed a rare shader compiler crash when expanding unterminated macros. ([1402454](https://issuetracker.unity3d.com/issues/shader-compiler-errors-are-thrown-due-to-unexpected-reasons-related-to-the-shader-script))
    
*   Shaders: Fixed Vulkan graphics artifacts in HDRP when there is high density of light sources. (1404875)
    
*   Shaders: Material, Shader and MaterialPropertyBlock will now show an error in Editor and development player builds when adding a value using one of the Set\* methods with the same name but different underlying type as an existing value set previously. ([1404185](https://issuetracker.unity3d.com/issues/no-error-if-setting-a-property-with-the-same-name-but-different-types))
    
*   uGUI: Fixed issue in TimeManager that led to unscaledDeltaTime to be 0, cascading to other areas such as the ScrollRect code that produced a NaN in resulting calculations. ([1375087](https://issuetracker.unity3d.com/issues/quest-xr-dragging-a-scrollrect-makes-it-disappear-and-set-nan-values))
    
*   UI Toolkit: Fixed asset reimportation/refresh cause exception when displayed on the game view. ([1402588](https://issuetracker.unity3d.com/issues/asset-reimportation-slash-refresh-cause-exception-when-displayed-on-the-game-view), [1420033](https://issuetracker.unity3d.com/issues/ui-builder-invalid-operation-exception-when-adding-new-elements-to-hierarchy))
    
*   UI Toolkit: Fixed erroneous visual when removing inline style related to the transform (rotate, translate and scale). ([1392844](https://issuetracker.unity3d.com/issues/ui-toolkit-visual-element-transform-values-dont-reset-when-setting-them-through-styles))
    
*   UI Toolkit: Fixed UI Builder theme serialization. (1402333)
    
*   UI Toolkit: UI Toolkit and UI Builder packages are no longer accidentally inserted into user project when there's an indirect dependency from a different package.
    
*   Universal: acked depth-stencil format is used again on some platforms to improve graphics performance. (1416507)
    
*   Universal Windows Platform: Fixed an issue where games sometimes running on integrated GPU on certain laptops. UWP player will now behave like Windows Standalone and will always try to run on the dedicated GPU. ([1394866](https://issuetracker.unity3d.com/issues/unity-player-is-using-integrated-gpu-instead-of-dedicated-when-using-universal-windows-platform))
    
*   Universal Windows Platform: Fixed development builds not starting up on Windows 10 versions prior to build 15063.
    
*   Universal Windows Platform: Fixed SystemInfo.operatingSystem returning wrong Windows version on some versions of Windows (notably builds 18363, 19042, 19043 and 19044). ([1400786](https://issuetracker.unity3d.com/issues/uwp-os-version-detection-is-wrong-on-some-windows-versions))
    
*   URP: Fixed Blit and MotionVectors shader compilation errors with GLES2 API. (1388668)
    
*   Version Control: Fixed light theme icons used in dark theme after pulling incoming changes.  
    Fixed "Input string was not in a correct format" error.
    
*   Video: Fixed crash on UnityMain when building for server with active VideoPlayer in Scene. ([1350949](https://issuetracker.unity3d.com/issues/crash-on-unitymain-when-building-for-server-with-active-videoplayer-in-scene))
    
*   Windows: Fixed "-monitor" argument incorrectly affecting the target display when desired window bounds exceed the resolution of the target display. ([1401606](https://issuetracker.unity3d.com/issues/unity-window-not-launching-from-specified-hardware-display-when-using-command-line-arguments))
    
*   Windows: When building for x86 with IL2CPP and Visual Studio 2017, Unity will use 64-bit tools, which makes the linker less likely to run out of memory on large projects. Unity already used 64-bit tools when using Visual Studio 2019 and 2022.
    
*   XR: Fixed Oculus Quest software keyboard not showing up on InputField interaction. (1417991)

### Known Issues in 2021.3.1f1

*   Asset - Database: Texture size increased on first build when 'Compress Textures/Assets on Import' is enabled ([1397965](https://issuetracker.unity3d.com/issues/texture-size-increased-on-first-build-when-compress-textures-slash-assets-on-import-is-enabled))
    
*   Asset Bundles: Textures are not compressed when building bundles ([1412557](https://issuetracker.unity3d.com/issues/textures-not-compressed-when-building-bundles))
    
*   Dedicated Server: Data from mesh colliders are stripped in dedicated server builds ([1399961](https://issuetracker.unity3d.com/issues/dedicated-server-data-from-mesh-colliders-are-stripped-in-dedicated-server-builds))
    
*   DirectX11: Crash on GfxDeviceD3D11Base::ResolveDepthIntoTexture when opening the project ([1408785](https://issuetracker.unity3d.com/issues/crash-on-gfxdeviced3d11base-resolvedepthintotexture-when-opening-the-project))
    
*   Inspector Framework: Tooltips are not shown when hovering over name of the value in the Inspector ([1415921](https://issuetracker.unity3d.com/issues/tooltips-are-not-shown-when-hovering-over-name-of-the-value-in-the-inspector))
    
*   Metal: Consistent EditorLoop 5-10ms spikes when using Metal API ([1378985](https://issuetracker.unity3d.com/issues/consistent-gfx-dot-waitforpresentongfxthread-5-10ms-spikes-when-using-metal-api))
    
*   Mono: \[Android\] "Found plugins with same names" error is thrown when building on Android with duplicate .dll files ([1373388](https://issuetracker.unity3d.com/issues/found-plugins-with-same-names-error-is-thrown-for-the-microsoft-extensions-logging-package-when-building-on-android-platform))
    
*   Native Window Management: Windows Editor misses some right mouse clicks right after cursor is locked and unlocked if left mouse button is held down ([1365651](https://issuetracker.unity3d.com/issues/input-system-right-mouse-button-waspressedthisframe-is-false-when-left-mouse-button-is-held-down))
    
*   Quality of Life: ReorderableList out of bounds exeception ([1399803](https://issuetracker.unity3d.com/issues/reorderablelist-out-of-bounds-exeception))
    
*   Search: Fail to load the search index concurrently ([1417609](https://issuetracker.unity3d.com/issues/search-fail-to-load-the-search-index-concurrently))
    
*   Serialization: Editor crash when deserializing an array of a type with a nested fixed-size buffer field ([1400774](https://issuetracker.unity3d.com/issues/editor-crash-when-deserializing-an-array-of-a-type-with-a-nested-fixed-size-buffer-field))
    
*   Settings Window: Spaces and symbols of the Project name are changed to hyphens causing "Invalid characters" warning in the Bundle Identifier ([1412412](https://issuetracker.unity3d.com/issues/spaces-and-symbols-of-the-project-name-are-changed-to-hyphens-causing-warnings-in-the-bundle-identifier))
    
*   Shader System: Editor crashes in Play mode when Groupshared memory and a constant buffer value is used in a compute shader on OpenGLES3 ([1413012](https://issuetracker.unity3d.com/issues/editor-crashes-in-play-mode-when-groupshared-memory-and-a-constant-buffer-value-is-used-in-a-compute-shader-on-opengles3))
    
*   Shadows/Lights: Scene is brighter in Standalone player if it was open in the Editor at build time ([1375015](https://issuetracker.unity3d.com/issues/scene-is-brighter-in-standalone-player-if-it-was-open-in-the-editor-at-build-time))
    
*   Texture: Unity crashes when compressing texture with non-power of 2 dimension size texture using Texture2D.Compress ([1417802](https://issuetracker.unity3d.com/issues/unity-crashes-when-compressing-texture-with-non-power-of-2-dimension-size-texture-using-texture2d-dot-compress))
    
*   uGUI: Prefab is glitchy while editing in Prefab Mode when parent Canvas Render Mode is set to Screen Space - Camera ([1394756](https://issuetracker.unity3d.com/issues/prefab-is-glitchy-when-editing-in-prefab-mode-in-a-custom-ui-environment))
    
*   Version Control: Crash on TcpProtobufClient::EndBatch when creating a Prefab and Cache Server is disconnected ([1383891](https://issuetracker.unity3d.com/issues/crash-on-tcpprotobufclient-endbatch-when-creating-a-prefab-and-cache-server-is-disconnected))
    
*   WebGL: WebGL Input System interactions are delayed or played preemptively when the project is built ([1405517](https://issuetracker.unity3d.com/issues/webgl-input-system-interactions-are-delayed-or-played-preemptively-when-the-project-is-built))
    

### 2021.3.1f1 Release Notes

#### Improvements

*   Version Control: Added support for TLSv1.2 connections to Perforce servers. The Plugin is now using Perforce API v17.2. (1404016)

#### API Changes

*   Android: Changed: Rename TouchScreenKeyboard.Android.closeKeyboardOnOutsideTap to TouchScreenKeyboard.Android.consumesOutsideTouches. (1400608)
    
*   Editor: Removed: Made Il2CppEagerStaticClassConstructionAttribute internal to avoid conflicts with other definitions outside of the package.
    

#### Fixes

*   Android: Fixed a crash caused by out of memory on Android when using Vulkan. ([1394782](https://issuetracker.unity3d.com/issues/android-crash-with-signal-11-caused-by-null-pointer-dereference-on-android-device-when-using-vulkan-graphics-api))
    
*   Asset Pipeline: Fixed an issue where assets with dependencies on a script might not get updated correctly if a \[FormerlySerializedAs\] attribute was added. ([1405215](https://issuetracker.unity3d.com/issues/prefab-is-not-reimported-when-formerlyserializedas-is-added-to-script))
    
*   Editor: Fixed ActiveTrackers not being correctly updated when Inspector Locked or in Debug mode, leading to incorrect Gizmo behaviors.
    
*   Editor: Fixed Scene.isSubScene flag not persistent in some cases when reloading an open scene. ([1396151](https://issuetracker.unity3d.com/issues/scene-dot-issubscene-flag-does-not-persist-for-currently-opened-scenes-when-the-editor-is-restarted))
    
*   GI: Fixed terrain with holes that could be wronfully ignored by the lightmapper. ([1384239](https://issuetracker.unity3d.com/issues/users-terrain-object-with-holes-doesnt-get-a-lightmap-generated-whereas-its-copy-without-holes-gets-a-lightmap-generated))
    
*   Graphics: Fixed a crash in Vulkan backend when out of GPU memory. ([1225488](https://issuetracker.unity3d.com/issues/hdrp-vulkan-crash-on-vk-databuffer-createresource-on-opening-shader-graph-sample-project-with-vulkan-api))
    
*   Graphics: Fixed a crash in Vulkan backend when running out of GPU memory while building asset bundles on AMD GPUs. ([1385669](https://issuetracker.unity3d.com/issues/linux-vulkan-editor-crashes-due-to-memory-leak-when-building-assetbundles))
    
*   Graphics: Fixed a RenderTexture with randomWrite (UAV) that has dynamic resolution enabled with Vulkan. (1366269)
    
*   Graphics: Fixed a Vulkan validation error when using dynamic resolution with Vulkan on some drivers. (1367535)
    
*   Graphics: Fixed Vulkan validation error when creating a 3D RenderTexture with mip maps. (1367999)
    
*   IL2CPP: Fixed a byte to integer conversions issue when they happen across basic blocks (e.g. inside the ternary operator). ([1382752](https://issuetracker.unity3d.com/issues/ternary-operation-with-implicit-type-conversion-from-byte-returns-incorrect-value-when-the-operation-is-done-in-webgl-build))
    
*   IL2CPP: Fixed an issue where the UnityLinker would generated duplicate unresolved method stubs for a method that was referenced twice via two different method references. ([1376513](https://issuetracker.unity3d.com/issues/il2cpp-build-fails-when-project-includes-system-dot-drawing-dot-common-dot-dll))
    
*   IL2CPP: Fixed RuntimeInformation.IsOSPlatform on desktop platforms issue. ([1399596](https://issuetracker.unity3d.com/issues/windows-fails-to-identify-as-windows-when-building-the-project-using-il2cpp-scripting-backend))
    
*   Input: Fixed editor shortcuts on macOS not respecting keyboard layout. ([1380906](https://issuetracker.unity3d.com/issues/editor-shortucts-on-macos-do-not-respect-keyboard-layout))
    
*   Networking: Fixed an issue where UnityTLS client API did not correctly validate certificates. (1413222)
    
*   Particles: Fixed particle rendering from command buffers. ([1263019](https://issuetracker.unity3d.com/issues/particle-system-is-not-rendering-when-commandbuffer-dot-drawrenderer-is-used-with-scriptablerenderpass), [1273221](https://issuetracker.unity3d.com/issues/shuriken-particlesystem-is-not-rendered-into-a-texture-when-using-a-commandbuffer), [1289755](https://issuetracker.unity3d.com/issues/particle-system-doesnt-get-rendered-into-a-texture-when-using-a-commandbuffer))
    
*   Profiler: Fixed reported "system used memory" in Profiler and Profiler Counter to be closer to system tools reported values. (1383173)
    
*   Scene/Game View: Fixed bug with hiding overlays in overlay toolbar hiding entirely the toolbar.
    
*   Shaders: Fixed a missing eye index setup macro in surface shader. ([1406798](https://issuetracker.unity3d.com/issues/xr-built-in-rp-surface-shader-unity-setup-stereo-eye-index-post-vertex-is-missing-from-custom-surface-shader))
    
*   Shaders: Fixed an issue where there was a missing buildTarget property in the ShaderCompilerData struct. ([1403750](https://issuetracker.unity3d.com/issues/no-way-to-get-the-requested-build-target-from-ipreprocessshaders-callback))
    
*   Shaders: Fixed incorrect batching for shadow casters when shaders have properties affecting fixed-function state. ([1328077](https://issuetracker.unity3d.com/issues/shaders-controlling-cull-mode-via-a-property-get-incorrectly-rendered-in-the-shadow-caster-pass))
    
*   UI Toolkit: Fixed hierarchy change during a layout calculation may cause a crash. (1402253)
    
*   UI Toolkit: Fixed static initialization errors around VisualElement instances. (1394597)
    
*   URP: Fixed Android Vulkan issues with depth prepass and copy depth pass. (1386503)
    
*   Web: Fixed mouse positions in the MouseMove handler in the new input system based on the mouse event. MouseUp and MouseMove events are relative to the window object, whereas MouseDown and Wheel events are relative to the canvas object. ([1385365](https://issuetracker.unity3d.com/issues/mouse-position-is-offset-when-mouse-scrolling-in-webgl-build))

### Known Issues in 2021.3.0f1

*   Asset - Database: Texture size increased on first build when 'Compress Textures/Assets on Import' is enabled ([1397965](https://issuetracker.unity3d.com/issues/texture-size-increased-on-first-build-when-compress-textures-slash-assets-on-import-is-enabled))
    
*   Asset Bundles: Textures are not compressed when building bundles ([1412557](https://issuetracker.unity3d.com/issues/textures-not-compressed-when-building-bundles))
    
*   Asset Bundles: Spaces and symbols of the Project name are changed to hyphens causing "Invalid characters" warning in the Bundle Identifier ([1412412](https://issuetracker.unity3d.com/issues/spaces-and-symbols-of-the-project-name-are-changed-to-hyphens-causing-warnings-in-the-bundle-identifier))
    
*   Editor: Tooltips are not shown when hovering over name of the value in the Inspector ([1415921](https://issuetracker.unity3d.com/issues/tooltips-are-not-shown-when-hovering-over-name-of-the-value-in-the-inspector))
    
*   Dedicated Server: Data from mesh colliders are stripped in dedicated server builds ([1399961](https://issuetracker.unity3d.com/issues/dedicated-server-data-from-mesh-colliders-are-stripped-in-dedicated-server-builds))
    
*   DirectX11: Crash on GfxDeviceD3D11Base::ResolveDepthIntoTexture when opening the project ([1408785](https://issuetracker.unity3d.com/issues/crash-on-gfxdeviced3d11base-resolvedepthintotexture-when-opening-the-project))
    
*   Metal: Consistent EditorLoop 5-10ms spikes when using Metal API ([1378985](https://issuetracker.unity3d.com/issues/consistent-gfx-dot-waitforpresentongfxthread-5-10ms-spikes-when-using-metal-api))
    
*   Mono: \[Android\] "Found plugins with same names" error is thrown when building on Android with duplicate .dll files ([1373388](https://issuetracker.unity3d.com/issues/found-plugins-with-same-names-error-is-thrown-for-the-microsoft-extensions-logging-package-when-building-on-android-platform))
    
*   Scene/Game View: Camera resolution is set to default when opening the Editor ([1378321](https://issuetracker.unity3d.com/issues/camera-resolution-is-set-to-default-when-opening-the-editor))
    
*   Serialization: Editor crash when deserializing an array of a type with a nested fixed-size buffer field ([1400774](https://issuetracker.unity3d.com/issues/editor-crash-when-deserializing-an-array-of-a-type-with-a-nested-fixed-size-buffer-field))
    
*   Shader System: Editor crashes in Play mode when Groupshared memory and a constant buffer value is used in a compute shader on OpenGLES3 ([1413012](https://issuetracker.unity3d.com/issues/editor-crashes-in-play-mode-when-groupshared-memory-and-a-constant-buffer-value-is-used-in-a-compute-shader-on-opengles3))
    
*   Shadows/Lights: Scene is brighter in Standalone player if it was open in the Editor at build time ([1375015](https://issuetracker.unity3d.com/issues/scene-is-brighter-in-standalone-player-if-it-was-open-in-the-editor-at-build-time))
    
*   uGUI: Prefab is glitchy while editing in Prefab Mode when parent Canvas Render Mode is set to Screen Space - Camera ([1394756](https://issuetracker.unity3d.com/issues/prefab-is-glitchy-when-editing-in-prefab-mode-in-a-custom-ui-environment))
    
*   Vulkan: \[HDRP\] \[Vulkan\] Crash on vk::DataBuffer::CreateResource on opening Shader Graph Sample Project with Vulkan API ([1225488](https://issuetracker.unity3d.com/issues/hdrp-vulkan-crash-on-vk-databuffer-createresource-on-opening-shader-graph-sample-project-with-vulkan-api))
    
*   WebGL: WebGL Input System interactions are delayed or played preemptively when the project is built ([1405517](https://issuetracker.unity3d.com/issues/webgl-input-system-interactions-are-delayed-or-played-preemptively-when-the-project-is-built))
    

### 2021.3.0f1 Release Notes

#### Fixes

*   Universal Windows Platform: Fixed an issue where builds would hang on startup on HoloLens. ([1414288](https://issuetracker.unity3d.com/issues/app-doesnt-launch-on-hl2-uwp-after-update-to-2020-dot-3-32f1))

